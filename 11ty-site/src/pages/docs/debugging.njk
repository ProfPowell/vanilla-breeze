---
layout: layouts/docs.njk
title: "Debugging Guide - Vanilla Breeze"
description: "Troubleshooting common issues with Vanilla Breeze: CSS not loading, custom elements not working, theme problems, and more."
currentPath: /docs/debugging/
permalink: /docs/debugging/
---

{% set cdnPath %}<link rel="stylesheet" href="https://unpkg.com/vanilla-breeze/dist/cdn/vanilla-breeze.css">{% endset %}

{% set jsInclude %}<script type="module" src="https://unpkg.com/vanilla-breeze/dist/cdn/vanilla-breeze.js"><\/script>{% endset %}

{% set correctDataGap %}<!-- Correct -->
<layout-stack data-layout-gap="m">
  <p>Child 1</p>
  <p>Child 2</p>
</layout-stack>

<!-- Wrong: missing data- prefix -->
<layout-stack gap="m">...</layout-stack>

<!-- Wrong: invalid value -->
<layout-stack data-layout-gap="20px">...</layout-stack>{% endset %}

{% set layoutGridExample %}<!-- Items need at least 200px each -->
<layout-grid data-layout-min="200px" data-layout-gap="m">
  <div>Item</div>
  <div>Item</div>
  <div>Item</div>
</layout-grid>{% endset %}

{% set componentCheck %}customElements.get('accordion-wc')
// Should return the class, not undefined{% endset %}

{% set clearTheme %}localStorage.removeItem('vb-theme');
location.reload();{% endset %}

{% set checkTheme %}console.log(localStorage.getItem('vb-theme'));
// Should show your selected theme{% endset %}

{% set semanticTokens %}/* Good: adapts to dark mode */
color: var(--color-text);
background: var(--color-surface);

/* Bad: doesn't adapt */
color: #333;
background: white;{% endset %}

{% set layerOverrides %}/* Your styles outside layers win */
button.my-button {
  background: purple;
}

/* Or define your layer after VB's layers */
@layer vb, my-overrides;

@layer my-overrides {
  button.my-button {
    background: purple;
  }
}{% endset %}

{% set cdnUsage %}<!-- In your HTML -->
<link rel="stylesheet" href="https://unpkg.com/vanilla-breeze/dist/cdn/vanilla-breeze.css">
<script type="module" src="https://unpkg.com/vanilla-breeze/dist/cdn/vanilla-breeze.js"><\/script>{% endset %}

{% set dropdownPositions %}<dropdown-wc data-position="bottom-start">
<dropdown-wc data-position="bottom-end">
<dropdown-wc data-position="top-start">{% endset %}

{% set iconUsage %}<!-- Valid icon names -->
<icon-wc name="home"></icon-wc>
<icon-wc name="search"></icon-wc>
<icon-wc name="settings"></icon-wc>

<!-- Invalid: wrong name -->
<icon-wc name="house"></icon-wc>  <!-- Use "home" -->{% endset %}

<h1>Debugging Guide</h1>
  <p class="lead">Having trouble with Vanilla Breeze? This guide covers common issues and how to fix them.</p>

  <nav class="subnav" aria-label="Debugging sections">
    <ul>
      <li><a href="#css-issues">CSS Issues</a></li>
      <li><a href="#custom-elements">Custom Elements</a></li>
      <li><a href="#web-components">Web Components</a></li>
      <li><a href="#themes">Themes</a></li>
      <li><a href="#specificity">Specificity</a></li>
      <li><a href="#build-tools">Build Tools</a></li>
      <li><a href="#browser-support">Browser Support</a></li>
    </ul>
  </nav>

  <!-- CSS Issues Section -->
  <section id="css-issues">
    <h2>CSS Issues</h2>

    <accordion-wc>
      <details>
        <summary>Styles aren't loading at all</summary>
        <layout-stack data-layout-gap="m">
          <p><strong>Symptoms:</strong> Page looks unstyled, elements have browser defaults.</p>
          <p><strong>Check these things:</strong></p>
          <ol>
            <li>
              <strong>Is the CSS file loading?</strong> Open DevTools Network tab, filter by CSS, and look for <code>vanilla-breeze.css</code>. Check for 404 errors.
            </li>
            <li>
              <strong>Is the path correct?</strong> For CDN usage:
              <code-block language="html" label="Correct CDN path">{{ cdnPath | safe }}</code-block>
            </li>
            <li>
              <strong>Is the link tag in the head?</strong> CSS must be in <code>&lt;head&gt;</code>, not <code>&lt;body&gt;</code>.
            </li>
            <li>
              <strong>Check the console for errors.</strong> CSS parse errors will appear there.
            </li>
          </ol>
        </layout-stack>
      </details>

      <details>
        <summary>Some styles work but others don't</summary>
        <layout-stack data-layout-gap="m">
          <p><strong>Symptoms:</strong> Basic elements styled, but layout elements or tokens don't work.</p>
          <p><strong>Possible causes:</strong></p>
          <ol>
            <li>
              <strong>You might be using an old cached version.</strong> Hard refresh with <kbd>Cmd/Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>R</kbd>.
            </li>
            <li>
              <strong>CSS custom properties aren't inherited.</strong> Make sure you're not setting <code>all: initial</code> on parent elements.
            </li>
            <li>
              <strong>Check if layers are supported.</strong> Vanilla Breeze uses <code>@layer</code>. Very old browsers may not support this.
            </li>
          </ol>
        </layout-stack>
      </details>

      <details>
        <summary>CSS variables show as invalid</summary>
        <layout-stack data-layout-gap="m">
          <p><strong>Symptoms:</strong> DevTools shows custom properties as invalid or crossed out.</p>
          <p><strong>Check these things:</strong></p>
          <ol>
            <li>
              <strong>Spelling:</strong> Token names are case-sensitive. Use <code>var(--color-text)</code> not <code>var(--Color-Text)</code>.
            </li>
            <li>
              <strong>Correct prefix:</strong> Size tokens use <code>--size-</code>, not <code>--space-</code>.
            </li>
            <li>
              <strong>Browser DevTools issue:</strong> Some browsers incorrectly mark valid OKLCH colors as invalid. The colors still work.
            </li>
          </ol>
          <p>Reference the <a href="/docs/tokens/">Design Tokens documentation</a> for exact token names.</p>
        </layout-stack>
      </details>
    </accordion-wc>
  </section>

  <!-- Custom Elements Section -->
  <section id="custom-elements">
    <h2>Custom Elements (CSS-Only)</h2>

    <accordion-wc>
      <details>
        <summary>Layout elements have no effect</summary>
        <layout-stack data-layout-gap="m">
          <p><strong>Symptoms:</strong> <code>&lt;layout-stack&gt;</code>, <code>&lt;layout-grid&gt;</code> etc. don't apply layout.</p>
          <p><strong>Check these things:</strong></p>
          <ol>
            <li>
              <strong>CSS is loaded:</strong> Custom elements are styled purely with CSS. No JavaScript needed, but the CSS must be loaded.
            </li>
            <li>
              <strong>Check the element in DevTools:</strong> Select the element and look at computed styles. You should see <code>display: flex</code> or <code>display: grid</code>.
            </li>
            <li>
              <strong>Data attributes are correct:</strong> Use <code>data-layout-gap="m"</code> not <code>gap="m"</code> or <code>class="gap-m"</code>.
            </li>
            <li>
              <strong>Valid values:</strong> Gap accepts t-shirt sizes (<code>xs</code>, <code>s</code>, <code>m</code>, <code>l</code>, <code>xl</code>), not arbitrary values.
            </li>
          </ol>
          <code-block language="html" label="Correct usage">{{ correctDataGap | safe }}</code-block>
        </layout-stack>
      </details>

      <details>
        <summary>layout-grid doesn't create columns</summary>
        <layout-stack data-layout-gap="m">
          <p><strong>Symptoms:</strong> Items stack vertically instead of forming a grid.</p>
          <p><strong>Check these things:</strong></p>
          <ol>
            <li>
              <strong>Container is too narrow:</strong> <code>layout-grid</code> uses <code>auto-fit</code> with a minimum item width. If the container is narrower than <code>data-min</code>, items will stack.
            </li>
            <li>
              <strong>Set data-min correctly:</strong> The value should be a CSS length.
              <code-block language="html" label="layout-grid example">{{ layoutGridExample | safe }}</code-block>
            </li>
            <li>
              <strong>Resize your window:</strong> Narrow viewports may legitimately show single column.
            </li>
          </ol>
        </layout-stack>
      </details>

      <details>
        <summary>Elements show but have wrong styling</summary>
        <layout-stack data-layout-gap="m">
          <p><strong>Symptoms:</strong> Custom element renders but doesn't match expected appearance.</p>
          <p><strong>Check these things:</strong></p>
          <ol>
            <li>
              <strong>Attribute values are quoted:</strong> HTML attribute values with special characters need quotes.
              <code-block language="html" label="Quoted attributes">&lt;layout-grid data-layout-min="200px"&gt;</code-block>
            </li>
            <li>
              <strong>Parent styles interfering:</strong> Check if parent has <code>display: contents</code> or <code>all: unset</code> that might override.
            </li>
            <li>
              <strong>CSS specificity conflict:</strong> See the <a href="#specificity">Specificity section</a> below.
            </li>
          </ol>
        </layout-stack>
      </details>
    </accordion-wc>
  </section>

  <!-- Web Components Section -->
  <section id="web-components">
    <h2>Web Components (JavaScript)</h2>

    <accordion-wc>
      <details>
        <summary>Web component doesn't work / not interactive</summary>
        <layout-stack data-layout-gap="m">
          <p><strong>Symptoms:</strong> <code>&lt;accordion-wc&gt;</code>, <code>&lt;tabs-wc&gt;</code> etc. render but don't respond to clicks.</p>
          <p><strong>Check these things:</strong></p>
          <ol>
            <li>
              <strong>JavaScript is loaded:</strong> Check Network tab for <code>vanilla-breeze.js</code>.
              <code-block language="html" label="Include JavaScript">{{ jsInclude | safe }}</code-block>
            </li>
            <li>
              <strong>Check console for errors:</strong> JavaScript errors prevent components from initializing.
            </li>
            <li>
              <strong>Script must be type="module":</strong> Web components use ES modules.
            </li>
            <li>
              <strong>Check if component is defined:</strong> In console, type:
              <code-block language="javascript" label="Check component registration">{{ componentCheck | safe }}</code-block>
            </li>
          </ol>
        </layout-stack>
      </details>

      <details>
        <summary>Component works but animations are jerky</summary>
        <layout-stack data-layout-gap="m">
          <p><strong>Symptoms:</strong> Accordion/tabs animate but not smoothly.</p>
          <p><strong>Possible causes:</strong></p>
          <ol>
            <li>
              <strong>prefers-reduced-motion is set:</strong> Animations are disabled when the user has requested reduced motion. This is intentional.
            </li>
            <li>
              <strong>Heavy content:</strong> Complex content inside animated regions may cause jank. Consider simplifying.
            </li>
            <li>
              <strong>Browser DevTools open:</strong> DevTools can slow down animations. Try with DevTools closed.
            </li>
          </ol>
        </layout-stack>
      </details>

      <details>
        <summary>Icons don't appear</summary>
        <layout-stack data-layout-gap="m">
          <p><strong>Symptoms:</strong> <code>&lt;icon-wc&gt;</code> elements are empty or show wrong icon.</p>
          <p><strong>Check these things:</strong></p>
          <ol>
            <li>
              <strong>JavaScript is loaded:</strong> Icons require the JS bundle.
            </li>
            <li>
              <strong>Icon name is valid:</strong> Icons use Lucide names. Check the <a href="/docs/elements/web-components/icons/">icon documentation</a> for available names.
              <code-block language="html" label="Icon usage">{{ iconUsage | safe }}</code-block>
            </li>
            <li>
              <strong>Inspect the element:</strong> The shadow DOM should contain an SVG.
            </li>
          </ol>
        </layout-stack>
      </details>

      <details>
        <summary>Dropdown opens in wrong position</summary>
        <layout-stack data-layout-gap="m">
          <p><strong>Symptoms:</strong> Dropdown menu appears offset or in unexpected location.</p>
          <p><strong>Possible causes:</strong></p>
          <ol>
            <li>
              <strong>Parent has transform:</strong> CSS transforms create new containing blocks. Dropdowns may position relative to transformed ancestor.
            </li>
            <li>
              <strong>Overflow hidden on parent:</strong> If a parent has <code>overflow: hidden</code>, the dropdown may be clipped.
            </li>
            <li>
              <strong>Try different position:</strong>
              <code-block language="html" label="Dropdown positioning">{{ dropdownPositions | safe }}</code-block>
            </li>
          </ol>
        </layout-stack>
      </details>
    </accordion-wc>
  </section>

  <!-- Themes Section -->
  <section id="themes">
    <h2>Theme Issues</h2>

    <accordion-wc>
      <details>
        <summary>Dark mode doesn't work</summary>
        <layout-stack data-layout-gap="m">
          <p><strong>Symptoms:</strong> Page stays in light mode regardless of system preference.</p>
          <p><strong>Check these things:</strong></p>
          <ol>
            <li>
              <strong>System preference:</strong> Open System Preferences and check your appearance setting.
            </li>
            <li>
              <strong>Manual override:</strong> If using <code>theme-wc</code>, it may have stored a preference. Try clearing localStorage:
              <code-block language="javascript" label="Clear theme preference">{{ clearTheme | safe }}</code-block>
            </li>
            <li>
              <strong>Check html attribute:</strong> The <code>&lt;html&gt;</code> element should have <code>data-theme="dark"</code> when in dark mode.
            </li>
          </ol>
        </layout-stack>
      </details>

      <details>
        <summary>Colors look wrong in dark mode</summary>
        <layout-stack data-layout-gap="m">
          <p><strong>Symptoms:</strong> Text is hard to read or colors don't look right in dark mode.</p>
          <p><strong>Check these things:</strong></p>
          <ol>
            <li>
              <strong>Using hardcoded colors:</strong> If you've written custom CSS with hardcoded colors, they won't adapt. Use semantic tokens:
              <code-block language="css" label="Use semantic tokens">{{ semanticTokens | safe }}</code-block>
            </li>
            <li>
              <strong>Custom theme issue:</strong> If you've created a custom theme, verify dark mode variants are defined.
            </li>
          </ol>
        </layout-stack>
      </details>

      <details>
        <summary>Theme picker doesn't persist</summary>
        <layout-stack data-layout-gap="m">
          <p><strong>Symptoms:</strong> Selected theme resets on page reload.</p>
          <p><strong>Check these things:</strong></p>
          <ol>
            <li>
              <strong>JavaScript loaded:</strong> Theme persistence requires the JS bundle.
            </li>
            <li>
              <strong>localStorage access:</strong> If in private/incognito mode, localStorage may be restricted.
            </li>
            <li>
              <strong>Check localStorage:</strong>
              <code-block language="javascript" label="Check stored theme">{{ checkTheme | safe }}</code-block>
            </li>
          </ol>
        </layout-stack>
      </details>
    </accordion-wc>
  </section>

  <!-- Specificity Section -->
  <section id="specificity">
    <h2>CSS Specificity</h2>

    <accordion-wc>
      <details>
        <summary>My custom styles aren't applying</summary>
        <layout-stack data-layout-gap="m">
          <p><strong>Symptoms:</strong> You've written custom CSS but Vanilla Breeze styles take precedence.</p>
          <p><strong>Solutions:</strong></p>
          <ol>
            <li>
              <strong>Load your CSS after Vanilla Breeze:</strong>
              <code-block language="html" label="Load order">&lt;!-- Vanilla Breeze first --&gt;
&lt;link rel="stylesheet" href="vanilla-breeze.css"&gt;
&lt;!-- Your styles second --&gt;
&lt;link rel="stylesheet" href="my-styles.css"&gt;</code-block>
            </li>
            <li>
              <strong>Use CSS layers:</strong> Vanilla Breeze uses layers. Put your styles in a higher-priority layer or no layer:
              <code-block language="css" label="Layer ordering">{{ layerOverrides | safe }}</code-block>
            </li>
            <li>
              <strong>Avoid !important:</strong> It works but creates maintenance headaches. Prefer proper cascade management.
            </li>
          </ol>
        </layout-stack>
      </details>

      <details>
        <summary>Styles work in dev but not production</summary>
        <layout-stack data-layout-gap="m">
          <p><strong>Symptoms:</strong> Local development looks right, but production build has style issues.</p>
          <p><strong>Check these things:</strong></p>
          <ol>
            <li>
              <strong>CSS order changed:</strong> Build tools may reorder CSS. Ensure Vanilla Breeze loads first.
            </li>
            <li>
              <strong>CSS purging:</strong> Tools like PurgeCSS may remove "unused" CSS. Configure to keep Vanilla Breeze classes and custom elements.
            </li>
            <li>
              <strong>Minification issues:</strong> Some minifiers don't handle modern CSS well. Test with minification disabled.
            </li>
          </ol>
        </layout-stack>
      </details>
    </accordion-wc>
  </section>

  <!-- Build Tools Section -->
  <section id="build-tools">
    <h2>Build Tool Issues</h2>

    <accordion-wc>
      <details>
        <summary>Vite/Webpack can't find the package</summary>
        <layout-stack data-layout-gap="m">
          <p><strong>Symptoms:</strong> Build error about missing module or unresolved import.</p>
          <p><strong>Note:</strong> npm package is available. For CDN usage:</p>
          <code-block language="html" label="CDN usage">{{ cdnUsage | safe }}</code-block>
        </layout-stack>
      </details>

      <details>
        <summary>Custom elements not working with SSR</summary>
        <layout-stack data-layout-gap="m">
          <p><strong>Symptoms:</strong> Server-rendered pages don't style custom elements.</p>
          <p><strong>Solutions:</strong></p>
          <ol>
            <li>
              <strong>CSS-only elements work:</strong> <code>&lt;layout-stack&gt;</code> etc. work server-side because they're pure CSS.
            </li>
            <li>
              <strong>Web components need client JS:</strong> Components like <code>&lt;accordion-wc&gt;</code> enhance on the client. The native HTML (<code>&lt;details&gt;</code>) works before JS loads.
            </li>
            <li>
              <strong>Check Astro/Eleventy integration:</strong> See the <a href="/docs/integrations/">integration guides</a> for framework-specific instructions.
            </li>
          </ol>
        </layout-stack>
      </details>
    </accordion-wc>
  </section>

  <!-- Browser Support Section -->
  <section id="browser-support">
    <h2>Browser Support</h2>

    <p>Vanilla Breeze targets modern evergreen browsers:</p>

    <table>
      <thead>
        <tr>
          <th>Browser</th>
          <th>Supported Versions</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Chrome</td>
          <td>Last 2 versions</td>
        </tr>
        <tr>
          <td>Firefox</td>
          <td>Last 2 versions</td>
        </tr>
        <tr>
          <td>Safari</td>
          <td>Last 2 versions</td>
        </tr>
        <tr>
          <td>Edge</td>
          <td>Last 2 versions</td>
        </tr>
      </tbody>
    </table>

    <h3>Known Limitations</h3>
    <ul>
      <li><strong>Internet Explorer:</strong> Not supported. No polyfills provided.</li>
      <li><strong>Safari &lt; 15.4:</strong> Some CSS features like <code>:has()</code> won't work.</li>
      <li><strong>Older mobile browsers:</strong> May have issues with CSS custom properties.</li>
    </ul>

    <h3>Required Browser Features</h3>
    <p>Vanilla Breeze uses these modern features:</p>
    <ul>
      <li>CSS Custom Properties (variables)</li>
      <li>CSS <code>@layer</code></li>
      <li>CSS Nesting</li>
      <li>OKLCH colors</li>
      <li>Web Components / Custom Elements v1</li>
      <li>ES Modules</li>
      <li>Popover API (with fallback)</li>
    </ul>
  </section>

  <!-- Still Stuck Section -->
  <section>
    <h2>Still Stuck?</h2>

    <layout-card>
      <layout-stack data-layout-gap="m">
        <p>If this guide didn't solve your problem:</p>
        <ol>
          <li><strong>Search existing issues:</strong> Someone may have had the same problem. Check <a href="https://github.com/profpowell/vanilla-breeze/issues">GitHub Issues</a>.</li>
          <li><strong>Create a minimal reproduction:</strong> Isolate the problem in the simplest possible example.</li>
          <li><strong>Open a new issue:</strong> Include browser, OS, steps to reproduce, and expected vs. actual behavior.</li>
        </ol>
        <p>
          <a href="https://github.com/profpowell/vanilla-breeze/issues/new" class="button">
            <icon-wc name="github" size="sm"></icon-wc>
            Open an Issue
          </a>
        </p>
      </layout-stack>
    </layout-card>
  </section>
