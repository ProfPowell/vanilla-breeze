---
layout: layouts/element.njk
title: "tags-wc"
description: "Multi-select tag input with dropdown filtering, keyboard navigation, and native form association via ElementInternals."
elementName: tags-wc
category: component
currentPath: /docs/elements/web-components/tags/
permalink: /docs/elements/web-components/tags/
---

{% set basicCode %}<tags-wc name="topics">
  <input type="text" placeholder="Search topics...">
  <ul>
    <li data-value="js">JavaScript</li>
    <li data-value="css">CSS</li>
    <li data-value="html">HTML</li>
  </ul>
</tags-wc>{% endset %}

{% set formCode %}{% raw %}<form id="my-form">
  <tags-wc name="skills" data-required data-layout-max="5" data-allow-custom>
    <input type="text" placeholder="Add skills...">
    <ul>
      <li data-value="design">Design</li>
      <li data-value="frontend">Frontend</li>
      <li data-value="backend">Backend</li>
    </ul>
  </tags-wc>
  <button type="submit">Submit</button>
</form>

<script>
  document.getElementById('my-form')
    .addEventListener('submit', (e) => {
      e.preventDefault();
      const data = new FormData(e.target);
      // Multiple values under same name
      console.log('skills:', data.getAll('skills'));
    });
</script>{% endraw %}{% endset %}

{% set eventCode %}{% raw %}const tags = document.querySelector('tags-wc');

tags.addEventListener('tags-change', (e) => {
  console.log('Values:', e.detail.values);
  console.log('Labels:', e.detail.labels);
});{% endraw %}{% endset %}

{% set apiCode %}const el = document.querySelector('tags-wc');

// Read current values and labels
console.log(el.values);  // ["js", "css"]
console.log(el.labels);  // ["JavaScript", "CSS"]{% endset %}

{% set fallbackCode %}{% raw %}/* Without JS: plain text input + visible list */
tags-wc:not(:defined) {
  display: block;
}

tags-wc:not(:defined) > ul {
  list-style: none;
  padding: 0;
  margin-block-start: var(--size-xs);
  border: var(--border-width-thin) solid var(--color-border);
  border-radius: var(--radius-m);
  max-block-size: 12rem;
  overflow-y: auto;
}{% endraw %}{% endset %}

{% set stylingCode %}{% raw %}/* Tag chip styling */
tags-wc .tag {
  background: var(--color-surface-raised);
  border: var(--border-width-thin) solid var(--color-border);
  border-radius: var(--radius-pill);
}

/* Remove button hover */
tags-wc .tag button:hover {
  color: var(--color-error);
}

/* Option states */
tags-wc li[data-active] {
  outline: 2px solid var(--color-interactive);
}{% endraw %}{% endset %}

<section>
    <h2>Overview</h2>
    <p>A multi-select tag/chip input that lets users choose multiple items from a dropdown list. Type to filter, click or press Enter to add, and click the remove button or press Backspace to remove. Participates in native form submission via <code>ElementInternals</code>.</p>

    <browser-window
      src="/docs/examples/demos/tags-basic.html"
      url="https://vanilla-breeze.dev/tags"
      title="Multi-Select Tags Demo"
      shadow>
    </browser-window>
  </section>

  <section>
    <h2>Usage</h2>
    <p>Place an <code>&lt;input&gt;</code> and a <code>&lt;ul&gt;</code> inside <code>&lt;tags-wc&gt;</code>. Each <code>&lt;li&gt;</code> needs a <code>data-value</code> attribute for the form value. The visible text becomes the tag label.</p>

    <code-block language="html" show-lines label="Basic tags">{{ basicCode | escape }}</code-block>

    <h3>Inside a Form</h3>
    <p>Use the standard <code>name</code> attribute for the form field name. Each selected tag is submitted as a separate <code>FormData</code> entry (like multiple checkboxes with the same name). Add <code>data-required</code>, <code>data-max</code>, and <code>data-allow-custom</code> as needed.</p>
    <code-block language="html" show-lines label="Form integration">{{ formCode | escape }}</code-block>
  </section>

  <section>
    <h2>Attributes</h2>
    <table class="props-table">
      <thead>
        <tr><th>Attribute</th><th>Values</th><th>Default</th><th>Description</th></tr>
      </thead>
      <tbody>
        <tr><td><code>name</code></td><td>string</td><td>&mdash;</td><td>Form field name (standard HTML attribute)</td></tr>
        <tr><td><code>data-required</code></td><td>boolean</td><td>&mdash;</td><td>Require at least one tag for form validation</td></tr>
        <tr><td><code>data-max</code></td><td>number</td><td>&mdash;</td><td>Maximum number of tags allowed</td></tr>
        <tr><td><code>data-allow-custom</code></td><td>boolean</td><td>&mdash;</td><td>Allow typing custom tags (Enter or comma to add)</td></tr>
        <tr><td><code>data-filter</code></td><td><code>"contains"</code>, <code>"startsWith"</code></td><td><code>"contains"</code></td><td>How typing filters the dropdown options</td></tr>
        <tr><td><code>data-open</code></td><td>boolean</td><td>&mdash;</td><td>Reflected when the dropdown is open</td></tr>
      </tbody>
    </table>
  </section>

  <section>
    <h2>Events</h2>
    <table class="props-table">
      <thead>
        <tr><th>Event</th><th>Detail</th><th>Description</th></tr>
      </thead>
      <tbody>
        <tr><td><code>tags-change</code></td><td><code>{ values: string[], labels: string[] }</code></td><td>Fired when tags are added or removed.</td></tr>
      </tbody>
    </table>

    <code-block language="javascript" show-lines label="Event listener">{{ eventCode | escape }}</code-block>
  </section>

  <section>
    <h2>JavaScript API</h2>
    <table class="props-table">
      <thead>
        <tr><th>Property</th><th>Type</th><th>Description</th></tr>
      </thead>
      <tbody>
        <tr><td><code>element.values</code></td><td>string[]</td><td>Array of selected tag values (read-only)</td></tr>
        <tr><td><code>element.labels</code></td><td>string[]</td><td>Array of selected tag labels (read-only)</td></tr>
      </tbody>
    </table>

    <code-block language="javascript" show-lines label="JS API">{{ apiCode | escape }}</code-block>
  </section>

  <section>
    <h2>Keyboard Navigation</h2>
    <table class="props-table">
      <thead>
        <tr><th>Key</th><th>Action</th></tr>
      </thead>
      <tbody>
        <tr><td><kbd>ArrowDown</kbd></td><td>Open dropdown / move to next option</td></tr>
        <tr><td><kbd>ArrowUp</kbd></td><td>Open dropdown / move to previous option</td></tr>
        <tr><td><kbd>Enter</kbd></td><td>Add highlighted option (or custom tag if <code>data-allow-custom</code>)</td></tr>
        <tr><td><kbd>,</kbd> (comma)</td><td>Add custom tag (when <code>data-allow-custom</code>)</td></tr>
        <tr><td><kbd>Backspace</kbd></td><td>Remove last tag when input is empty</td></tr>
        <tr><td><kbd>Escape</kbd></td><td>Close dropdown</td></tr>
        <tr><td><kbd>Tab</kbd></td><td>Close dropdown and move focus</td></tr>
      </tbody>
    </table>
  </section>

  <section>
    <h2>Accessibility</h2>

    <h3>ARIA Pattern</h3>
    <p>Implements a multiselect combobox pattern:</p>
    <ul>
      <li>Input has <code>role="combobox"</code>, <code>aria-expanded</code>, <code>aria-autocomplete="list"</code>, and <code>aria-controls</code></li>
      <li>List has <code>role="listbox"</code> with <code>aria-multiselectable="true"</code></li>
      <li>Options have <code>role="option"</code> and <code>aria-selected</code></li>
      <li>Active option announced via <code>aria-activedescendant</code></li>
      <li>Tag additions and removals announced via <code>aria-live</code> region</li>
    </ul>

    <h3>Form Validation</h3>
    <p>Uses <code>ElementInternals.setValidity()</code> so screen readers announce validation errors when <code>data-required</code> is set and no tags are selected.</p>
  </section>

  <section>
    <h2>Form Association</h2>
    <p>This component is a <a href="/docs/elements/web-components/form-association/">Form-Associated Custom Element</a>. It uses <code>ElementInternals</code> to:</p>
    <ul>
      <li>Submit multiple values via <code>FormData</code> (one entry per tag)</li>
      <li>Validate with <code>setValidity()</code> for required fields</li>
      <li>Reset on form reset via <code>formResetCallback()</code></li>
    </ul>
    <p>No hidden inputs needed. The component name is set via the standard <code>name</code> attribute.</p>
  </section>

  <section>
    <h2>Styling</h2>
    <p>The component uses <code>@scope (tags-wc)</code> for CSS encapsulation with VB design tokens. The input area is styled to match standard VB input borders and focus rings.</p>
    <code-block language="css" show-lines label="Custom styling">{{ stylingCode | escape }}</code-block>
  </section>

  <section>
    <h2>Progressive Enhancement</h2>
    <p>Without JavaScript, <code>&lt;tags-wc&gt;</code> renders as a plain text input above a visible, scrollable list of options. Users can still see all available options. Once JS loads, the component adds tag selection, filtering, and form association.</p>
    <code-block language="css" show-lines label="No-JS fallback">{{ fallbackCode | escape }}</code-block>
  </section>

  <section>
    <h2>Related</h2>
    <ul>
      <li><a href="/docs/elements/web-components/form-association/">Form-Associated Custom Elements</a> &mdash; Guide to the pattern</li>
      <li><a href="/docs/elements/web-components/combobox/"><code>&lt;combobox-wc&gt;</code></a> &mdash; Single-select autocomplete combobox</li>
      <li><a href="/docs/elements/web-components/rating/"><code>&lt;rating-wc&gt;</code></a> &mdash; Another form-associated component</li>
    </ul>
  </section>
