---
layout: layouts/element.njk
title: "page-toc"
description: "Table of contents with scroll-spy highlighting. Auto-generates from headings or enhances existing manual markup."
elementName: page-toc
category: component
currentPath: /docs/elements/web-components/page-toc/
permalink: /docs/elements/web-components/page-toc/
---

{% set autoGeneratedCode %}<!-- Auto-generates ToC from page headings -->
<page-toc></page-toc>

<!-- With custom options -->
<page-toc
  data-levels="h2,h3,h4"
  data-scope="article"
  data-title="Contents">
</page-toc>{% endset %}

{% set manualMarkupCode %}<!-- Progressive enhancement: works without JS -->
<page-toc>
  <details class="details" open>
    <summary class="summary">On this page</summary>
    <nav class="nav" aria-label="On this page">
      <ul class="list">
        <li class="item">
          <a href="#overview" class="link">Overview</a>
        </li>
        <li class="item" data-level="1">
          <a href="#installation" class="link">Installation</a>
        </li>
        <li class="item">
          <a href="#usage" class="link">Usage</a>
        </li>
        <li class="item" data-level="1">
          <a href="#examples" class="link">Examples</a>
        </li>
      </ul>
    </nav>
  </details>
</page-toc>{% endset %}

{% set sidebarLayoutCode %}<layout-sidebar data-layout-side="right" data-width="250px">
  <article>
    <h1>Page Title</h1>
    <section id="overview">
      <h2>Overview</h2>
      <p>Content...</p>
    </section>
    <section id="usage">
      <h2>Usage</h2>
      <p>Content...</p>
    </section>
  </article>

  <aside>
    <page-toc data-levels="h2,h3"></page-toc>
  </aside>
</layout-sidebar>{% endset %}

{% set eventListenerCode %}const toc = document.querySelector('page-toc');

toc.addEventListener('toc-navigate', (event) => {
  console.log('Navigated to:', event.detail.id);
});{% endset %}

{% set refreshCode %}// After dynamically adding content
const toc = document.querySelector('page-toc');
toc.refresh();{% endset %}

<section>
    <h2>Overview</h2>
    <p>The <code>&lt;page-toc&gt;</code> component creates a table of contents that highlights the current section as you scroll. It supports two modes:</p>
    <ul>
      <li><strong>Auto-generated:</strong> Scans the page for headings and builds the ToC automatically</li>
      <li><strong>Manual markup:</strong> Enhances existing navigation with scroll-spy (progressive enhancement)</li>
    </ul>
  </section>

  <section>
    <h2>Attributes</h2>
    <table class="props-table">
      <thead>
        <tr>
          <th>Attribute</th>
          <th>Type</th>
          <th>Default</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>data-levels</code></td>
          <td>string</td>
          <td><code>h2,h3</code></td>
          <td>Comma-separated heading levels to include</td>
        </tr>
        <tr>
          <td><code>data-scope</code></td>
          <td>string</td>
          <td><code>main</code></td>
          <td>CSS selector for content scope to scan</td>
        </tr>
        <tr>
          <td><code>data-title</code></td>
          <td>string</td>
          <td><code>On this page</code></td>
          <td>Title shown above the ToC</td>
        </tr>
      </tbody>
    </table>
  </section>

  <section>
    <h2>Auto-Generated Mode</h2>
    <p>When the component is empty, it automatically scans the page for headings (with IDs) and builds the table of contents.</p>

    <code-block language="html" show-lines label="Auto-generated ToC">{{ autoGeneratedCode | escape }}</code-block>

    <h3>Requirements</h3>
    <ul>
      <li>Headings must have <code>id</code> attributes (use <a href="/docs/elements/web-components/heading-links/">heading-links</a> to auto-generate)</li>
      <li>Headings must be within the <code>data-scope</code> container (default: <code>main</code>)</li>
    </ul>
  </section>

  <section>
    <h2>Manual Markup Mode</h2>
    <p>For progressive enhancement, provide your own markup. The component will add scroll-spy behavior without modifying your structure.</p>

    <code-block language="html" show-lines label="Manual markup with progressive enhancement">{{ manualMarkupCode | escape }}</code-block>

    <h3>CSS Classes</h3>
    <table class="props-table">
      <thead>
        <tr>
          <th>Class</th>
          <th>Purpose</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>.details</code></td>
          <td>Collapsible container</td>
        </tr>
        <tr>
          <td><code>.summary</code></td>
          <td>ToC header/title</td>
        </tr>
        <tr>
          <td><code>.nav</code></td>
          <td>Navigation wrapper</td>
        </tr>
        <tr>
          <td><code>.list</code></td>
          <td>Links list</td>
        </tr>
        <tr>
          <td><code>.item</code></td>
          <td>List item (use <code>data-level</code> for nesting)</td>
        </tr>
        <tr>
          <td><code>.link</code></td>
          <td>Navigation link</td>
        </tr>
        <tr>
          <td><code>.active</code></td>
          <td>Applied to current section link (auto-managed)</td>
        </tr>
      </tbody>
    </table>
  </section>

  <section>
    <h2>Scroll-Spy Behavior</h2>
    <p>The component uses <code>IntersectionObserver</code> to track which section is currently visible and highlights the corresponding link.</p>

    <ul>
      <li>The first visible heading in the viewport is highlighted</li>
      <li>Links receive the <code>.active</code> class and <code>aria-current="true"</code></li>
      <li>URL hash is updated when clicking links</li>
      <li>Syncs with browser back/forward navigation</li>
    </ul>
  </section>

  <section>
    <h2>Responsive Behavior</h2>
    <p>The component adapts to different screen sizes:</p>

    <h3>Wide Screens (1024px+)</h3>
    <ul>
      <li>ToC is always visible</li>
      <li>Position: sticky for sidebar placement</li>
      <li>Full heading hierarchy shown</li>
    </ul>

    <h3>Narrow Screens</h3>
    <ul>
      <li>Collapsible disclosure pattern</li>
      <li>Nested headings hidden (except active)</li>
      <li>Click to expand/collapse</li>
    </ul>
  </section>

  <section>
    <h2>Sidebar Layout</h2>
    <p>Common pattern: ToC in a sidebar alongside main content.</p>

    <code-block language="html" show-lines label="ToC in sidebar layout">{{ sidebarLayoutCode | escape }}</code-block>
  </section>

  <section>
    <h2>Events</h2>
    <table class="props-table">
      <thead>
        <tr>
          <th>Event</th>
          <th>Detail</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>toc-navigate</code></td>
          <td><code>{ id: string }</code></td>
          <td>Fired when a ToC link is clicked</td>
        </tr>
      </tbody>
    </table>

    <code-block language="javascript" show-lines label="Listening to navigation events">{{ eventListenerCode | escape }}</code-block>
  </section>

  <section>
    <h2>JavaScript API</h2>
    <table class="props-table">
      <thead>
        <tr>
          <th>Method</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>refresh()</code></td>
          <td>Rebuild ToC after dynamic content changes</td>
        </tr>
      </tbody>
    </table>

    <code-block language="javascript" show-lines label="Refreshing after content changes">{{ refreshCode | escape }}</code-block>
  </section>

  <section>
    <h2>Accessibility</h2>
    <ul>
      <li>Uses semantic <code>&lt;nav&gt;</code> element with <code>aria-label</code></li>
      <li>Active link marked with <code>aria-current="true"</code></li>
      <li>Keyboard accessible - tab to navigate, enter to activate</li>
      <li>Focus moves to heading after navigation</li>
      <li>Respects <code>prefers-reduced-motion</code> for scroll behavior</li>
    </ul>
  </section>

  <section>
    <h2>Styling with CSS Custom Properties</h2>
    <p>The component uses scoped styles via <code>@scope</code>. Override these properties for customization:</p>

    <ul>
      <li><code>--color-interactive</code> - Active link color</li>
      <li><code>--color-text-muted</code> - Inactive link color</li>
      <li><code>--color-surface-raised</code> - Hover background</li>
      <li><code>--border-width-medium</code> - Active link border</li>
    </ul>
  </section>

  <section>
    <h2>Best Practices</h2>
    <ul>
      <li>Use with <a href="/docs/elements/web-components/heading-links/">heading-links</a> to ensure headings have IDs</li>
      <li>Keep ToC visible on wide screens for easy navigation</li>
      <li>Use <code>data-levels="h2,h3"</code> for most documentation pages</li>
      <li>Consider manual markup for static sites (better initial render)</li>
    </ul>
  </section>

  <section>
    <h2>Related Elements</h2>
    <ul>
      <li><a href="/docs/elements/web-components/heading-links/">heading-links</a> - Auto-generates heading IDs and anchor links</li>
      <li><a href="/docs/elements/custom-elements/sidebar/">layout-sidebar</a> - Sidebar layout for ToC placement</li>
      <li><a href="/docs/elements/native/nav/">nav</a> - Navigation landmark element</li>
      <li><a href="/docs/elements/native/details/">details</a> - Collapsible disclosure (used internally)</li>
    </ul>
  </section>
