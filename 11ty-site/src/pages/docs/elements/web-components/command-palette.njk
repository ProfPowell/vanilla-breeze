---
layout: layouts/element.njk
title: "command-wc"
description: "Universal Cmd+K command palette with search, keyboard navigation, and grouped actions."
elementName: command-wc
category: component
currentPath: /docs/elements/web-components/command-palette/
permalink: /docs/elements/web-components/command-palette/
---

{% set basicCode %}<command-wc data-hotkey="meta+k">
  <command-group label="Navigation">
    <command-item value="home" data-hotkey="meta+h">
      Go Home
    </command-item>
    <command-item value="settings">
      Settings
    </command-item>
  </command-group>
  <command-group label="Actions">
    <command-item value="theme">Toggle Dark Mode</command-item>
    <command-item value="copy">Copy Current URL</command-item>
  </command-group>
</command-wc>{% endset %}

{% set withIconsCode %}<command-wc data-hotkey="meta+k">
  <command-group label="Navigation">
    <command-item value="home">
      <icon-wc name="home" slot="icon"></icon-wc>
      Go Home
    </command-item>
    <command-item value="settings">
      <icon-wc name="cog" slot="icon"></icon-wc>
      Settings
    </command-item>
  </command-group>
</command-wc>{% endset %}

{% set jsApiCode %}const palette = document.querySelector('command-wc');

// Open programmatically
palette.open();

// Listen for selection
palette.addEventListener('command-select', (e) => \{
  console.log('Selected:', e.detail.value);

  switch (e.detail.value) \{
    case 'theme':
      document.documentElement.toggleAttribute('data-dark');
      break;
    case 'home':
      window.location.href = '/';
      break;
  \}
\});{% endset %}

{% set discoverCode %}<!-- Command palette with auto-discovery -->
<command-wc data-hotkey="meta+k" data-discover>
  <command-group label="Navigation">
    <command-item value="home">Go Home</command-item>
  </command-group>
  <!-- [data-command] elements auto-populate as additional groups -->
</command-wc>

<!-- Anywhere on the page: these appear in the palette -->
<button data-command="Toggle Dark Mode" data-shortcut="meta+shift+t">
  Dark Mode
</button>
<a href="/docs" data-command="Documentation" data-command-group="Navigation">
  Docs
</a>{% endset %}

{% set autoDiscoverCode %}<!-- Aggressive auto-discovery: also scans nav links + headings -->
<command-wc data-hotkey="meta+k" data-discover="auto">
  <command-group label="Quick Actions">
    <command-item value="theme">Toggle Dark Mode</command-item>
  </command-group>
</command-wc>

<!-- These are found automatically (no data-command needed): -->
<!-- nav links → "Navigation" group -->
<!-- h2[id], h3[id] → "On This Page" group -->{% endset %}

{% set dataCommandCode %}<!-- data-command attributes -->
<button data-command="Save Draft" data-shortcut="meta+s" data-command-icon="save">
  Save
</button>

<!-- Attribute reference -->
<!-- data-command       = Label in the palette (required) -->
<!-- data-command-group = Group name (default: "Page Actions") -->
<!-- data-command-icon  = Icon name for icon-wc (optional) -->
<!-- data-shortcut      = Keyboard shortcut (displayed + bound) -->{% endset %}

{% set triggerButtonCode %}<!-- Trigger button -->
<button onclick="document.querySelector('command-wc').open()">
  Search commands... <kbd>&#x2318;K</kbd>
</button>{% endset %}

<section>
    <h2>Description</h2>
    <p>The <code>&lt;command-wc&gt;</code> component provides a universal Cmd+K search and action launcher. It opens as a modal dialog with a search input that filters through grouped commands. Different from <code>&lt;search-wc&gt;</code> (which is Pagefind site search) &mdash; this is for user-defined commands and actions.</p>
  </section>

  <section>
    <h2>Basic Usage</h2>

    <div class="example">
      <button type="button" onclick="this.closest('section').querySelector('command-wc').open()">
        Open Command Palette
      </button>

      <command-wc data-hotkey="meta+j" data-placeholder="Search commands...">
        <command-group label="Navigation">
          <command-item value="home">Go Home</command-item>
          <command-item value="docs">Documentation</command-item>
          <command-item value="examples">Examples</command-item>
        </command-group>
        <command-group label="Actions">
          <command-item value="theme">Toggle Dark Mode</command-item>
          <command-item value="copy">Copy Current URL</command-item>
        </command-group>
      </command-wc>
    </div>

    <code-block language="html" show-lines label="Command palette">{{ basicCode | escape }}</code-block>
  </section>

  <section>
    <h2>Attributes</h2>
    <table class="props-table">
      <thead>
        <tr>
          <th>Attribute</th>
          <th>On</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>data-hotkey</code></td>
          <td><code>command-wc</code></td>
          <td>Global keyboard shortcut (default: <code>meta+k</code>)</td>
        </tr>
        <tr>
          <td><code>data-placeholder</code></td>
          <td><code>command-wc</code></td>
          <td>Search input placeholder text</td>
        </tr>
        <tr>
          <td><code>data-discover</code></td>
          <td><code>command-wc</code></td>
          <td>Auto-populate from <code>[data-command]</code> elements on the page</td>
        </tr>
        <tr>
          <td><code>label</code></td>
          <td><code>command-group</code></td>
          <td>Group header text</td>
        </tr>
        <tr>
          <td><code>value</code></td>
          <td><code>command-item</code></td>
          <td>Value passed in <code>command-select</code> event</td>
        </tr>
        <tr>
          <td><code>data-hotkey</code></td>
          <td><code>command-item</code></td>
          <td>Display keyboard shortcut badge on item</td>
        </tr>
      </tbody>
    </table>
  </section>

  <section>
    <h2>With Icons</h2>
    <p>Use <code>slot="icon"</code> on icon elements inside <code>&lt;command-item&gt;</code>:</p>
    <code-block language="html" show-lines label="With icons">{{ withIconsCode | escape }}</code-block>
  </section>

  <section>
    <h2>Trigger Button</h2>
    <p>You can add a visual trigger button that opens the palette:</p>
    <code-block language="html" show-lines label="Trigger button">{{ triggerButtonCode | escape }}</code-block>
  </section>

  <section>
    <h2>Auto-Discovery (<code>data-discover</code>)</h2>
    <p>Add <code>data-discover</code> to <code>&lt;command-wc&gt;</code> to auto-populate the palette with <code>[data-command]</code> elements from the page. Any button, link, or element with <code>data-command</code> becomes searchable. If it also has <code>data-shortcut</code>, the shortcut is displayed <strong>and</strong> bound as a real keyboard shortcut. Selecting a discovered command in the palette clicks the original element.</p>

    <code-block language="html" show-lines label="Auto-discovery">{{ discoverCode | escape }}</code-block>

    <h3><code>data-command</code> Attributes</h3>
    <table class="props-table">
      <thead>
        <tr>
          <th>Attribute</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>data-command</code></td>
          <td>Label in the palette (required to opt in)</td>
        </tr>
        <tr>
          <td><code>data-command-group</code></td>
          <td>Group name (default: "Page Actions")</td>
        </tr>
        <tr>
          <td><code>data-command-icon</code></td>
          <td>Icon name for <code>&lt;icon-wc&gt;</code> in palette</td>
        </tr>
        <tr>
          <td><code>data-shortcut</code></td>
          <td>Keyboard shortcut &mdash; displayed AND bound globally</td>
        </tr>
      </tbody>
    </table>

    <code-block language="html" show-lines label="data-command attributes">{{ dataCommandCode | escape }}</code-block>

    <p>Elements with <code>commandfor</code> (HTML Invoker API) are also auto-discovered. The label comes from <code>textContent</code>; override with <code>data-command</code> if needed.</p>

    <h3>Aggressive Auto-Discovery (<code>data-discover="auto"</code>)</h3>
    <p>Set <code>data-discover="auto"</code> to also scan for nav links and page headings without any explicit <code>data-command</code> attributes:</p>

    <table class="props-table">
      <thead>
        <tr>
          <th>Source</th>
          <th>Palette label</th>
          <th>Group</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>nav a[href]</code> links</td>
          <td>Link text</td>
          <td>"Navigation"</td>
        </tr>
        <tr>
          <td>Headings with <code>id</code> (<code>h2[id], h3[id]</code>)</td>
          <td>"Jump to: { heading text }"</td>
          <td>"On This Page"</td>
        </tr>
        <tr>
          <td><code>[data-command]</code> elements</td>
          <td><code>data-command</code> value</td>
          <td><code>data-command-group</code> or "Page Actions"</td>
        </tr>
      </tbody>
    </table>

    <code-block language="html" show-lines label="Aggressive auto-discovery">{{ autoDiscoverCode | escape }}</code-block>

    <p>Auto-discovered items are capped at 50 and styled with muted text. Elements inside <code>footer</code>, <code>aside</code>, <code>dialog</code>, <code>[hidden]</code>, or <code>[aria-hidden="true"]</code> are excluded. Clicking a heading command scrolls to it smoothly.</p>
  </section>

  <section>
    <h2>Keyboard Navigation</h2>
    <table class="props-table">
      <thead>
        <tr>
          <th>Key</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <tr><td><kbd>Cmd+K</kbd> / <kbd>Ctrl+K</kbd></td><td>Open/close palette</td></tr>
        <tr><td><kbd>Arrow Down</kbd></td><td>Move to next item</td></tr>
        <tr><td><kbd>Arrow Up</kbd></td><td>Move to previous item</td></tr>
        <tr><td><kbd>Enter</kbd></td><td>Select active item</td></tr>
        <tr><td><kbd>Escape</kbd></td><td>Close palette</td></tr>
      </tbody>
    </table>
  </section>

  <section>
    <h2>JavaScript API</h2>

    <h3>Methods</h3>
    <table class="props-table">
      <thead>
        <tr>
          <th>Method</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>open()</code></td>
          <td>Open the command palette</td>
        </tr>
        <tr>
          <td><code>close()</code></td>
          <td>Close the command palette</td>
        </tr>
      </tbody>
    </table>

    <h3>Events</h3>
    <table class="props-table">
      <thead>
        <tr>
          <th>Event</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>command-select</code></td>
          <td>Fired when an item is selected (<code>detail.value</code>)</td>
        </tr>
        <tr>
          <td><code>command-open</code></td>
          <td>Fired when palette opens</td>
        </tr>
        <tr>
          <td><code>command-close</code></td>
          <td>Fired when palette closes</td>
        </tr>
      </tbody>
    </table>

    <code-block language="javascript" show-lines label="JavaScript API">{{ jsApiCode | escape }}</code-block>
  </section>

  <section>
    <h2>Accessibility</h2>
    <ul>
      <li>Opens as native <code>&lt;dialog&gt;</code> with focus trapping</li>
      <li>Search input focused on open</li>
      <li>Full keyboard navigation (Arrow keys, Enter, Escape)</li>
      <li>Items have <code>role="option"</code> within a <code>role="listbox"</code></li>
      <li>Active item scrolls into view</li>
      <li>Platform-aware keyboard shortcut display (&#x2318; on Mac, Ctrl on others)</li>
    </ul>
  </section>
