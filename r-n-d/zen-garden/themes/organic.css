/* ============================================
   THEME: Organic Nature
   Warm, flowing, earthy, handcrafted feel
   Inspired by natural materials and organic shapes
   ============================================ */

@layer theme {
  
  [data-theme="organic"],
  .theme-organic {
    /* === COLOR PALETTE === */
    /* Earthy, warm, natural tones */
    --color-surface: oklch(97% 0.02 80);  /* Warm cream */
    --color-surface-alt: oklch(94% 0.03 75);  /* Soft sand */
    --color-surface-raised: oklch(99% 0.01 80);  /* Off-white */
    --color-surface-sunken: oklch(90% 0.04 70);  /* Warm beige */
    
    --color-text: oklch(25% 0.05 50);  /* Warm dark brown */
    --color-text-muted: oklch(45% 0.04 50);
    --color-text-subtle: oklch(55% 0.03 60);
    
    --color-primary: oklch(50% 0.12 145);  /* Forest green */
    --color-primary-hover: oklch(45% 0.14 145);
    --color-primary-subtle: oklch(95% 0.04 145);
    
    --color-accent: oklch(65% 0.15 55);  /* Terracotta */
    --color-accent-hover: oklch(55% 0.15 55);
    --color-accent-subtle: oklch(95% 0.05 55);
    
    --color-border: oklch(85% 0.04 70);
    --color-border-muted: oklch(90% 0.03 70);
    --color-border-strong: oklch(70% 0.06 60);
    
    /* === TYPOGRAPHY === */
    --font-body: Charter, "Bitstream Charter", "Sitka Text", Cambria, Georgia, serif;
    --font-heading: Charter, "Bitstream Charter", "Sitka Text", Cambria, Georgia, serif;
    
    --text-heading-1: 2.75rem;
    --text-heading-2: 2rem;
    --text-heading-3: 1.5rem;
    --text-heading-4: 1.25rem;
    
    --weight-normal: 400;
    --weight-bold: 600;
    --leading-heading: 1.2;
    --leading-body: 1.7;
    
    /* === SPACING === */
    --layout-gap: 1.5rem;
    --content-gap: 1.5rem;
    --section-gap: 3rem;
    
    /* === SHAPE === */
    /* Organic, varying curves */
    --radius-sm: 0.375rem;
    --radius-base: 0.5rem;
    --radius-md: 0.75rem;
    --radius-lg: 1rem;
    --radius-xl: 1.5rem;
    --radius-interactive: 0.75rem;
    --radius-card: 1.25rem;
    --radius-modal: 1.5rem;
    
    /* Organic blob-like radius */
    --radius-organic: 40% 60% 70% 30% / 40% 50% 60% 50%;
    
    /* === SHADOWS === */
    /* Soft, diffused shadows */
    --shadow-color: 45 20% 30%;
    --shadow-sm: 0 2px 8px -2px oklch(30% 0.05 60 / 0.15);
    --shadow-md: 0 4px 16px -4px oklch(30% 0.05 60 / 0.2);
    --shadow-lg: 0 8px 24px -6px oklch(30% 0.05 60 / 0.25);
    --shadow-xl: 0 16px 40px -8px oklch(30% 0.05 60 / 0.3);
    --shadow-card: 0 4px 20px -4px oklch(30% 0.05 60 / 0.15);
    
    /* === COMPONENT OVERRIDES === */
    
    /* Header */
    --header-bg: oklch(97% 0.02 80);
    --header-border: oklch(88% 0.04 70);
    --header-padding-x: 2rem;
    --header-padding-y: 1.25rem;
    
    /* Nav */
    --nav-bg: oklch(94% 0.03 75);
    --nav-border: oklch(88% 0.04 70);
    --nav-padding: 1.5rem;
    --nav-item-radius: 0.75rem;
    --nav-item-hover-bg: oklch(90% 0.04 70);
    --nav-item-active-bg: var(--color-primary);
    --nav-item-active-text: oklch(98% 0.01 145);
    
    /* Button */
    --button-radius: 0.75rem;
    --button-padding-x: 1.5rem;
    --button-padding-y: 0.75rem;
    --button-primary-bg: var(--color-primary);
    --button-primary-bg-hover: var(--color-primary-hover);
    --button-secondary-border: var(--color-border-strong);
    --button-secondary-bg-hover: var(--color-surface-alt);
    
    /* Card */
    --card-bg: var(--color-surface-raised);
    --card-border: var(--color-border);
    --card-radius: 1.25rem;
    --card-padding: 1.75rem;
    
    /* Input */
    --input-radius: 0.75rem;
    --input-bg: var(--color-surface-raised);
    --input-border-color: var(--color-border);
    
    /* Footer */
    --footer-bg: oklch(94% 0.03 75);
    --footer-border: oklch(88% 0.04 70);
  }
  
  /* Organic theme-specific styles */
  [data-theme="organic"],
  .theme-organic {
    
    /* Subtle texture overlay */
    &::before {
      content: "";
      position: fixed;
      inset: 0;
      pointer-events: none;
      opacity: 0.03;
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
      z-index: 9998;
    }
    
    /* Flowing dividers */
    & hr {
      border: none;
      height: 2px;
      margin-block: 2.5rem;
      background: linear-gradient(
        90deg,
        transparent,
        var(--color-border-strong) 20%,
        var(--color-border-strong) 80%,
        transparent
      );
    }
    
    /* Organic heading styles */
    & h1, & h2 {
      position: relative;
      
      &::after {
        content: "";
        display: block;
        width: 3rem;
        height: 3px;
        margin-block-start: 0.75rem;
        background: var(--color-accent);
        border-radius: var(--radius-full);
      }
    }
    
    /* Links with organic underline */
    & a:not([class]) {
      color: var(--color-primary);
      text-decoration: none;
      background-image: linear-gradient(
        to right,
        var(--color-primary-subtle),
        var(--color-primary-subtle)
      );
      background-position: 0 100%;
      background-size: 100% 2px;
      background-repeat: no-repeat;
      transition: background-size 0.3s ease;
      
      &:hover {
        background-size: 100% 100%;
      }
    }
    
    /* Header with subtle wave */
    & > header {
      position: relative;
      
      &::after {
        content: "";
        position: absolute;
        bottom: -1px;
        left: 0;
        right: 0;
        height: 8px;
        background: var(--color-surface);
        mask-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 1200 8' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 8 Q300 0 600 4 T1200 8 L1200 8 L0 8Z' fill='black'/%3E%3C/svg%3E");
        mask-size: cover;
      }
    }
    
    /* Nav items with leaf icon */
    & > nav a {
      padding-inline-start: 2.5rem;
      position: relative;
      
      &::before {
        content: "ðŸŒ¿";
        position: absolute;
        left: 0.75rem;
        font-size: 0.875rem;
        opacity: 0.5;
        transition: opacity 0.2s;
      }
      
      &:hover::before,
      &[aria-current]::before {
        opacity: 1;
      }
    }
    
    /* Article with drop cap */
    & article > p:first-of-type::first-letter {
      font-size: 4rem;
      float: left;
      line-height: 0.8;
      margin-inline-end: 0.5rem;
      margin-block-start: 0.1em;
      color: var(--color-primary);
    }
    
    /* Blockquote with organic styling */
    & blockquote {
      position: relative;
      padding: 1.5rem 2rem;
      background: var(--color-surface-alt);
      border-radius: var(--radius-lg);
      border: none;
      
      &::before {
        content: """;
        position: absolute;
        top: -0.5rem;
        left: 1rem;
        font-size: 4rem;
        line-height: 1;
        color: var(--color-accent);
        opacity: 0.5;
      }
    }
    
    /* Cards with organic shape variation */
    & .card:nth-child(odd) {
      border-radius: 1.5rem 0.75rem 1.5rem 0.75rem;
    }
    
    & .card:nth-child(even) {
      border-radius: 0.75rem 1.5rem 0.75rem 1.5rem;
    }
    
    /* Footer with organic elements */
    & > footer {
      position: relative;
      
      &::before {
        content: "";
        position: absolute;
        top: -8px;
        left: 0;
        right: 0;
        height: 8px;
        background: var(--footer-bg);
        mask-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 1200 8' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0 Q300 8 600 4 T1200 0 L1200 8 L0 8Z' fill='black'/%3E%3C/svg%3E");
        mask-size: cover;
      }
    }
  }
  
  /* Dark variant */
  [data-theme="organic"][data-mode="dark"],
  .theme-organic[data-mode="dark"] {
    --color-surface: oklch(18% 0.03 60);
    --color-surface-alt: oklch(22% 0.04 55);
    --color-surface-raised: oklch(25% 0.03 60);
    --color-surface-sunken: oklch(12% 0.02 60);
    
    --color-text: oklch(92% 0.02 70);
    --color-text-muted: oklch(70% 0.03 65);
    
    --color-border: oklch(35% 0.04 55);
    --color-border-muted: oklch(28% 0.03 55);
    
    --header-bg: oklch(18% 0.03 60);
    --nav-bg: oklch(22% 0.04 55);
    --footer-bg: oklch(22% 0.04 55);
    
    &::before {
      opacity: 0.05;
    }
  }
}
