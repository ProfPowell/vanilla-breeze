<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Theme Builder - Token Playground | Vanilla Breeze</title>

  <!-- Core System (excluding grid.css - this demo has custom layout) -->
  <link rel="stylesheet" href="../../core/tokens.css">
  <!-- <link rel="stylesheet" href="../../core/grid.css"> -->
  <link rel="stylesheet" href="../../core/base.css">

  <!-- Theme Files -->
  <link rel="stylesheet" href="../../themes/swiss.css">
  <link rel="stylesheet" href="../../themes/organic.css">
  <link rel="stylesheet" href="../../themes/brutalist.css">
  <link rel="stylesheet" href="../../themes/cyber.css">

  <style>
    /* ============================================
       THEME BUILDER LAYOUT
       ============================================ */

    body {
      display: grid;
      grid-template-columns: 360px 1fr;
      min-height: 100dvh;
      gap: 0;
    }

    @media (width < 900px) {
      body {
        grid-template-columns: 1fr;
        grid-template-rows: auto 1fr auto;
      }

      .controls-panel {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        max-height: 60vh;
        overflow-y: auto;
        border-radius: var(--radius-lg) var(--radius-lg) 0 0;
        box-shadow: var(--shadow-xl);
        transform: translateY(calc(100% - 56px));
        transition: transform var(--duration-normal) var(--ease-default);
        z-index: 1000;
      }

      .controls-panel.expanded {
        transform: translateY(0);
      }
    }

    /* ============================================
       CONTROLS PANEL
       ============================================ */
    .controls-panel {
      background: var(--color-surface-alt);
      border-inline-end: 1px solid var(--color-border);
      display: flex;
      flex-direction: column;
      overflow-y: auto;
    }

    .panel-header {
      padding: var(--space-4);
      border-block-end: 1px solid var(--color-border);
      position: sticky;
      top: 0;
      background: var(--color-surface-alt);
      z-index: 10;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .panel-header h2 {
      font-size: var(--text-lg);
      margin: 0;
    }

    .control-section {
      padding: var(--space-4);
      border-block-end: 1px solid var(--color-border-muted);
    }

    .control-section h3 {
      font-size: var(--text-sm);
      font-weight: var(--weight-semibold);
      color: var(--color-text-muted);
      text-transform: uppercase;
      letter-spacing: 0.05em;
      margin: 0 0 var(--space-3) 0;
    }

    /* Slider controls */
    .slider-control {
      margin-block-end: var(--space-4);
    }

    .slider-control:last-child {
      margin-block-end: 0;
    }

    .slider-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-block-end: var(--space-2);
    }

    .slider-label {
      font-size: var(--text-sm);
      font-weight: var(--weight-medium);
    }

    .slider-value {
      font-size: var(--text-sm);
      color: var(--color-text-muted);
      font-family: var(--font-code);
    }

    .slider-control input[type="range"] {
      width: 100%;
      height: 6px;
      border-radius: var(--radius-full);
      background: var(--color-surface-sunken);
      appearance: none;
      cursor: pointer;
    }

    .slider-control input[type="range"]::-webkit-slider-thumb {
      appearance: none;
      width: 18px;
      height: 18px;
      border-radius: var(--radius-full);
      background: var(--color-primary);
      cursor: pointer;
      box-shadow: var(--shadow-sm);
    }

    .slider-control input[type="range"]::-moz-range-thumb {
      width: 18px;
      height: 18px;
      border-radius: var(--radius-full);
      background: var(--color-primary);
      cursor: pointer;
      border: none;
    }

    /* Color swatch */
    .color-preview {
      width: 100%;
      height: 40px;
      border-radius: var(--radius-interactive);
      margin-block-start: var(--space-2);
      border: 1px solid var(--color-border);
    }

    /* Preset buttons */
    .preset-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: var(--space-2);
    }

    .preset-btn {
      padding: var(--space-2) var(--space-3);
      font-size: var(--text-sm);
      text-align: left;
    }

    .preset-btn.active {
      background: var(--color-primary);
      color: var(--color-text-inverted);
      border-color: var(--color-primary);
    }

    /* Export section */
    .export-section {
      margin-block-start: auto;
      padding: var(--space-4);
      background: var(--color-surface);
      border-block-start: 1px solid var(--color-border);
    }

    .export-section button {
      width: 100%;
      margin-block-end: var(--space-2);
    }

    .export-section button:last-child {
      margin-block-end: 0;
    }

    /* ============================================
       PREVIEW AREA
       ============================================ */
    .preview-area {
      display: flex;
      flex-direction: column;
      background: var(--color-surface);
      overflow: hidden;
    }

    .preview-header {
      display: flex;
      align-items: center;
      gap: var(--space-4);
      padding: var(--space-4);
      background: var(--color-surface-raised);
      border-block-end: 1px solid var(--color-border);
    }

    .preview-header h1 {
      font-size: var(--text-xl);
      margin: 0;
    }

    .preview-content {
      flex: 1;
      padding: var(--space-6);
      overflow-y: auto;
    }

    /* Component showcase */
    .showcase-section {
      margin-block-end: var(--space-8);
    }

    .showcase-section h3 {
      font-size: var(--text-lg);
      margin: 0 0 var(--space-4) 0;
      padding-block-end: var(--space-2);
      border-block-end: 1px solid var(--color-border);
    }

    .showcase-grid {
      display: flex;
      flex-wrap: wrap;
      gap: var(--space-3);
      align-items: center;
    }

    /* Card showcase */
    .card-showcase {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: var(--space-4);
    }

    .card-showcase .card {
      padding: var(--space-5);
    }

    .card-showcase .card h4 {
      margin: 0 0 var(--space-2) 0;
    }

    .card-showcase .card p {
      margin: 0;
      color: var(--color-text-muted);
    }

    /* Input showcase */
    .input-showcase {
      display: flex;
      flex-direction: column;
      gap: var(--space-3);
      max-width: 400px;
    }

    /* Token display */
    .token-display {
      background: var(--color-surface-sunken);
      padding: var(--space-4);
      border-radius: var(--radius-card);
      font-family: var(--font-code);
      font-size: var(--text-sm);
      overflow-x: auto;
      white-space: pre;
      line-height: 1.6;
    }

    /* Demo footer */
    .demo-footer {
      padding: var(--space-3);
      background: var(--color-surface-alt);
      border-block-start: 1px solid var(--color-border);
    }

    .demo-nav {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      justify-content: center;
    }

    .demo-nav a {
      padding: 0.5rem 1rem;
      background: var(--color-surface-raised);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-interactive);
      text-decoration: none;
      font-size: var(--text-sm);
    }

    .demo-nav a:hover {
      background: var(--color-primary-subtle);
    }

    .demo-nav a.current {
      background: var(--color-primary);
      color: var(--color-text-inverted);
      border-color: var(--color-primary);
    }

    /* Export modal */
    .export-modal {
      position: fixed;
      inset: 0;
      background: oklch(0% 0 0 / 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10000;
      opacity: 0;
      pointer-events: none;
      transition: opacity var(--duration-fast) var(--ease-default);
    }

    .export-modal.visible {
      opacity: 1;
      pointer-events: auto;
    }

    .modal-content {
      background: var(--color-surface-raised);
      padding: var(--space-6);
      border-radius: var(--radius-modal);
      box-shadow: var(--shadow-modal);
      max-width: 600px;
      width: 90%;
      max-height: 80vh;
      overflow-y: auto;
    }

    .modal-content h2 {
      margin: 0 0 var(--space-4) 0;
    }

    .modal-content pre {
      margin: 0 0 var(--space-4) 0;
      max-height: 300px;
      overflow: auto;
    }

    .modal-actions {
      display: flex;
      gap: var(--space-2);
      justify-content: flex-end;
    }

    /* Smooth transitions */
    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        transition: none !important;
      }
    }
  </style>
</head>

<body data-theme="swiss">

  <!-- Controls Panel -->
  <aside class="controls-panel">
    <div class="panel-header">
      <h2>Theme Builder</h2>
      <button id="reset-btn" style="padding: var(--space-1) var(--space-2); font-size: var(--text-xs);">Reset</button>
    </div>

    <div class="control-section">
      <h3>Preset Themes</h3>
      <div class="preset-grid">
        <button class="preset-btn active" data-preset="swiss">Swiss</button>
        <button class="preset-btn" data-preset="organic">Organic</button>
        <button class="preset-btn" data-preset="brutalist">Brutalist</button>
        <button class="preset-btn" data-preset="cyber">Cyber</button>
      </div>
    </div>

    <div class="control-section">
      <h3>Primary Color</h3>
      <div class="slider-control">
        <div class="slider-header">
          <span class="slider-label">Hue</span>
          <span class="slider-value" id="hue-value">250</span>
        </div>
        <input type="range" id="hue-slider" min="0" max="360" value="250" data-token="hue">
      </div>
      <div class="slider-control">
        <div class="slider-header">
          <span class="slider-label">Saturation</span>
          <span class="slider-value" id="sat-value">0.25</span>
        </div>
        <input type="range" id="sat-slider" min="0" max="40" value="25" data-token="saturation">
      </div>
      <div class="slider-control">
        <div class="slider-header">
          <span class="slider-label">Lightness</span>
          <span class="slider-value" id="light-value">55%</span>
        </div>
        <input type="range" id="light-slider" min="20" max="80" value="55" data-token="lightness">
      </div>
      <div class="color-preview" id="color-preview" style="background: oklch(55% 0.25 250);"></div>
    </div>

    <div class="control-section">
      <h3>Border Radius</h3>
      <div class="slider-control">
        <div class="slider-header">
          <span class="slider-label">Base Radius</span>
          <span class="slider-value" id="radius-value">6px</span>
        </div>
        <input type="range" id="radius-slider" min="0" max="24" value="6" data-token="radius">
      </div>
    </div>

    <div class="control-section">
      <h3>Shadows</h3>
      <div class="slider-control">
        <div class="slider-header">
          <span class="slider-label">Shadow Intensity</span>
          <span class="slider-value" id="shadow-value">50%</span>
        </div>
        <input type="range" id="shadow-slider" min="0" max="100" value="50" data-token="shadow">
      </div>
    </div>

    <div class="control-section">
      <h3>Spacing</h3>
      <div class="slider-control">
        <div class="slider-header">
          <span class="slider-label">Gap Scale</span>
          <span class="slider-value" id="gap-value">1x</span>
        </div>
        <input type="range" id="gap-slider" min="50" max="200" value="100" data-token="gap">
      </div>
    </div>

    <div class="export-section">
      <button data-variant="primary" id="export-btn">Export Theme CSS</button>
      <button id="copy-btn">Copy to Clipboard</button>
    </div>
  </aside>

  <!-- Preview Area -->
  <main class="preview-area">
    <header class="preview-header">
      <h1>Live Preview</h1>
    </header>

    <div class="preview-content">
      <!-- Buttons -->
      <section class="showcase-section">
        <h3>Buttons</h3>
        <div class="showcase-grid">
          <button data-variant="primary">Primary Button</button>
          <button>Secondary Button</button>
          <button disabled>Disabled</button>
        </div>
      </section>

      <!-- Cards -->
      <section class="showcase-section">
        <h3>Cards</h3>
        <div class="card-showcase">
          <div class="card">
            <h4>Card Title</h4>
            <p>This is a card component using the current theme tokens.</p>
          </div>
          <div class="card">
            <h4>Another Card</h4>
            <p>Notice how the border radius and shadow change as you adjust the sliders.</p>
          </div>
        </div>
      </section>

      <!-- Inputs -->
      <section class="showcase-section">
        <h3>Form Inputs</h3>
        <div class="input-showcase">
          <input type="text" placeholder="Text input">
          <textarea placeholder="Textarea input"></textarea>
          <select>
            <option>Select option</option>
            <option>Option 2</option>
            <option>Option 3</option>
          </select>
        </div>
      </section>

      <!-- Current Tokens -->
      <section class="showcase-section">
        <h3>Generated Token Values</h3>
        <pre class="token-display" id="token-display">/* Your custom theme tokens */
:root {
  --color-primary: oklch(55% 0.25 250);
  --radius-interactive: 6px;
  --shadow-card: 0 4px 6px -1px oklch(0% 0 0 / 0.1);
  --layout-gap: 1rem;
}</pre>
      </section>
    </div>

    <footer class="demo-footer">
      <nav class="demo-nav">
        <a href="../pure-css/layout-switcher.html">01 Layout</a>
        <a href="../pure-css/tabs-accordion.html">02 Tabs</a>
        <a href="../pure-css/responsive-grid.html">03 Grid</a>
        <a href="../pure-css/landing-page.html">04 Landing</a>
        <a href="dashboard.html">05 Dashboard</a>
        <a href="theme-builder.html" class="current">06 Theme</a>
        <a href="../interactive/component-lab.html">07 Lab</a>
        <a href="../interactive/animation-motion.html">08 Motion</a>
      </nav>
    </footer>
  </main>

  <!-- Export Modal -->
  <div class="export-modal" id="export-modal">
    <div class="modal-content">
      <h2>Export Theme CSS</h2>
      <pre><code id="export-code"></code></pre>
      <div class="modal-actions">
        <button id="modal-copy">Copy Code</button>
        <button id="modal-close">Close</button>
      </div>
    </div>
  </div>

  <script>
    // Theme Builder State
    const state = {
      hue: 250,
      saturation: 25,
      lightness: 55,
      radius: 6,
      shadow: 50,
      gap: 100,
      preset: 'swiss'
    };

    const presets = {
      swiss: { hue: 25, saturation: 25, lightness: 50, radius: 0, shadow: 0, gap: 100 },
      organic: { hue: 145, saturation: 15, lightness: 55, radius: 16, shadow: 30, gap: 120 },
      brutalist: { hue: 50, saturation: 15, lightness: 55, radius: 0, shadow: 0, gap: 80 },
      cyber: { hue: 180, saturation: 25, lightness: 75, radius: 4, shadow: 60, gap: 100 }
    };

    function updateTheme() {
      const root = document.documentElement;

      // Primary color
      const primaryColor = `oklch(${state.lightness}% ${state.saturation / 100} ${state.hue})`;
      root.style.setProperty('--color-primary', primaryColor);
      root.style.setProperty('--color-primary-hover', `oklch(${state.lightness - 5}% ${state.saturation / 100} ${state.hue})`);
      root.style.setProperty('--color-primary-subtle', `oklch(95% ${state.saturation / 400} ${state.hue})`);

      // Border radius
      const radiusValue = `${state.radius}px`;
      root.style.setProperty('--radius-interactive', radiusValue);
      root.style.setProperty('--radius-card', `${Math.min(state.radius * 1.5, 24)}px`);
      root.style.setProperty('--radius-md', radiusValue);
      root.style.setProperty('--radius-lg', `${Math.min(state.radius * 1.25, 20)}px`);

      // Shadows
      const shadowOpacity = state.shadow / 500;
      if (state.shadow === 0) {
        root.style.setProperty('--shadow-card', 'none');
        root.style.setProperty('--shadow-sm', 'none');
        root.style.setProperty('--shadow-md', 'none');
      } else {
        root.style.setProperty('--shadow-card', `0 4px 6px -1px oklch(0% 0 0 / ${shadowOpacity}), 0 2px 4px -2px oklch(0% 0 0 / ${shadowOpacity})`);
        root.style.setProperty('--shadow-sm', `0 1px 3px 0 oklch(0% 0 0 / ${shadowOpacity})`);
        root.style.setProperty('--shadow-md', `0 4px 6px -1px oklch(0% 0 0 / ${shadowOpacity})`);
      }

      // Gap
      const gapScale = state.gap / 100;
      root.style.setProperty('--layout-gap', `${gapScale}rem`);
      root.style.setProperty('--content-gap', `${gapScale * 1.5}rem`);

      // Update color preview
      document.getElementById('color-preview').style.background = primaryColor;

      // Update token display
      updateTokenDisplay();
    }

    function updateTokenDisplay() {
      const display = document.getElementById('token-display');
      display.textContent = `/* Your custom theme tokens */
:root {
  /* Primary Color */
  --color-primary: oklch(${state.lightness}% ${state.saturation / 100} ${state.hue});
  --color-primary-hover: oklch(${state.lightness - 5}% ${state.saturation / 100} ${state.hue});
  --color-primary-subtle: oklch(95% ${state.saturation / 400} ${state.hue});

  /* Border Radius */
  --radius-interactive: ${state.radius}px;
  --radius-card: ${Math.min(state.radius * 1.5, 24)}px;

  /* Shadows */
  --shadow-card: ${state.shadow === 0 ? 'none' : `0 4px 6px -1px oklch(0% 0 0 / ${state.shadow / 500})`};

  /* Spacing */
  --layout-gap: ${state.gap / 100}rem;
}`;
    }

    function updateSliders() {
      document.getElementById('hue-slider').value = state.hue;
      document.getElementById('hue-value').textContent = state.hue;

      document.getElementById('sat-slider').value = state.saturation;
      document.getElementById('sat-value').textContent = (state.saturation / 100).toFixed(2);

      document.getElementById('light-slider').value = state.lightness;
      document.getElementById('light-value').textContent = `${state.lightness}%`;

      document.getElementById('radius-slider').value = state.radius;
      document.getElementById('radius-value').textContent = `${state.radius}px`;

      document.getElementById('shadow-slider').value = state.shadow;
      document.getElementById('shadow-value').textContent = `${state.shadow}%`;

      document.getElementById('gap-slider').value = state.gap;
      document.getElementById('gap-value').textContent = `${state.gap / 100}x`;
    }

    // Slider event listeners
    document.getElementById('hue-slider').addEventListener('input', (e) => {
      state.hue = parseInt(e.target.value);
      document.getElementById('hue-value').textContent = state.hue;
      updateTheme();
    });

    document.getElementById('sat-slider').addEventListener('input', (e) => {
      state.saturation = parseInt(e.target.value);
      document.getElementById('sat-value').textContent = (state.saturation / 100).toFixed(2);
      updateTheme();
    });

    document.getElementById('light-slider').addEventListener('input', (e) => {
      state.lightness = parseInt(e.target.value);
      document.getElementById('light-value').textContent = `${state.lightness}%`;
      updateTheme();
    });

    document.getElementById('radius-slider').addEventListener('input', (e) => {
      state.radius = parseInt(e.target.value);
      document.getElementById('radius-value').textContent = `${state.radius}px`;
      updateTheme();
    });

    document.getElementById('shadow-slider').addEventListener('input', (e) => {
      state.shadow = parseInt(e.target.value);
      document.getElementById('shadow-value').textContent = `${state.shadow}%`;
      updateTheme();
    });

    document.getElementById('gap-slider').addEventListener('input', (e) => {
      state.gap = parseInt(e.target.value);
      document.getElementById('gap-value').textContent = `${state.gap / 100}x`;
      updateTheme();
    });

    // Preset buttons
    document.querySelectorAll('.preset-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.preset-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');

        const preset = presets[btn.dataset.preset];
        state.hue = preset.hue;
        state.saturation = preset.saturation;
        state.lightness = preset.lightness;
        state.radius = preset.radius;
        state.shadow = preset.shadow;
        state.gap = preset.gap;

        // Also switch the body theme
        document.body.dataset.theme = btn.dataset.preset;

        updateSliders();
        updateTheme();
      });
    });

    // Reset button
    document.getElementById('reset-btn').addEventListener('click', () => {
      state.hue = 250;
      state.saturation = 25;
      state.lightness = 55;
      state.radius = 6;
      state.shadow = 50;
      state.gap = 100;

      document.querySelectorAll('.preset-btn').forEach(b => b.classList.remove('active'));
      document.querySelector('[data-preset="swiss"]').classList.add('active');
      document.body.dataset.theme = 'swiss';

      // Clear custom properties
      const root = document.documentElement;
      root.style.removeProperty('--color-primary');
      root.style.removeProperty('--color-primary-hover');
      root.style.removeProperty('--color-primary-subtle');
      root.style.removeProperty('--radius-interactive');
      root.style.removeProperty('--radius-card');
      root.style.removeProperty('--radius-md');
      root.style.removeProperty('--radius-lg');
      root.style.removeProperty('--shadow-card');
      root.style.removeProperty('--shadow-sm');
      root.style.removeProperty('--shadow-md');
      root.style.removeProperty('--layout-gap');
      root.style.removeProperty('--content-gap');

      updateSliders();
      updateTokenDisplay();
    });

    // Export modal
    const modal = document.getElementById('export-modal');
    const exportCode = document.getElementById('export-code');

    document.getElementById('export-btn').addEventListener('click', () => {
      exportCode.textContent = generateExportCSS();
      modal.classList.add('visible');
    });

    document.getElementById('modal-close').addEventListener('click', () => {
      modal.classList.remove('visible');
    });

    document.getElementById('modal-copy').addEventListener('click', async () => {
      await navigator.clipboard.writeText(exportCode.textContent);
      const btn = document.getElementById('modal-copy');
      btn.textContent = 'Copied!';
      setTimeout(() => btn.textContent = 'Copy Code', 2000);
    });

    document.getElementById('copy-btn').addEventListener('click', async () => {
      await navigator.clipboard.writeText(generateExportCSS());
      const btn = document.getElementById('copy-btn');
      btn.textContent = 'Copied!';
      setTimeout(() => btn.textContent = 'Copy to Clipboard', 2000);
    });

    modal.addEventListener('click', (e) => {
      if (e.target === modal) {
        modal.classList.remove('visible');
      }
    });

    function generateExportCSS() {
      return `/* Custom Theme - Generated by Vanilla Breeze Theme Builder */
/* Add this to your project or use as a starting point */

@layer theme {
  [data-theme="custom"],
  .theme-custom {
    /* Primary Color */
    --color-primary: oklch(${state.lightness}% ${state.saturation / 100} ${state.hue});
    --color-primary-hover: oklch(${state.lightness - 5}% ${state.saturation / 100} ${state.hue});
    --color-primary-active: oklch(${state.lightness - 10}% ${state.saturation / 100} ${state.hue});
    --color-primary-subtle: oklch(95% ${state.saturation / 400} ${state.hue});

    /* Border Radius */
    --radius-sm: ${Math.max(state.radius - 4, 0)}px;
    --radius-base: ${Math.max(state.radius - 2, 0)}px;
    --radius-md: ${state.radius}px;
    --radius-lg: ${Math.min(state.radius + 2, 20)}px;
    --radius-xl: ${Math.min(state.radius + 4, 24)}px;
    --radius-interactive: ${state.radius}px;
    --radius-card: ${Math.min(state.radius * 1.5, 24)}px;

    /* Shadows */
    --shadow-xs: ${state.shadow === 0 ? 'none' : `0 1px 2px 0 oklch(0% 0 0 / ${state.shadow / 1000})`};
    --shadow-sm: ${state.shadow === 0 ? 'none' : `0 1px 3px 0 oklch(0% 0 0 / ${state.shadow / 500})`};
    --shadow-md: ${state.shadow === 0 ? 'none' : `0 4px 6px -1px oklch(0% 0 0 / ${state.shadow / 500})`};
    --shadow-lg: ${state.shadow === 0 ? 'none' : `0 10px 15px -3px oklch(0% 0 0 / ${state.shadow / 500})`};
    --shadow-card: ${state.shadow === 0 ? 'none' : `0 4px 6px -1px oklch(0% 0 0 / ${state.shadow / 500}), 0 2px 4px -2px oklch(0% 0 0 / ${state.shadow / 500})`};

    /* Spacing Scale */
    --layout-gap: ${state.gap / 100}rem;
    --content-gap: ${(state.gap / 100) * 1.5}rem;
    --section-gap: ${(state.gap / 100) * 3}rem;

    /* Component Tokens */
    --button-radius: var(--radius-interactive);
    --input-radius: var(--radius-interactive);
    --card-radius: var(--radius-card);
    --card-shadow: var(--shadow-card);
  }
}`;
    }

    // Mobile panel toggle
    if (window.innerWidth < 900) {
      const panel = document.querySelector('.controls-panel');
      const header = panel.querySelector('.panel-header');
      header.style.cursor = 'pointer';
      header.addEventListener('click', () => {
        panel.classList.toggle('expanded');
      });
    }

    // Initialize
    updateTokenDisplay();
  </script>
</body>
</html>
