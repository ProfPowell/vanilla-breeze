<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Layout Switcher - Pure CSS Demo | Vanilla Breeze</title>

  <!-- Core System -->
  <link rel="stylesheet" href="../../core/tokens.css">
  <link rel="stylesheet" href="../../core/grid.css">
  <link rel="stylesheet" href="../../core/base.css">

  <!-- Theme Files -->
  <link rel="stylesheet" href="../../themes/swiss.css">
  <link rel="stylesheet" href="../../themes/organic.css">
  <link rel="stylesheet" href="../../themes/brutalist.css">
  <link rel="stylesheet" href="../../themes/cyber.css">

  <style>
    /* ============================================
       PURE CSS LAYOUT SWITCHER
       Uses :checked pseudo-class for state
       No JavaScript required!
       ============================================ */

    /* Hide radio inputs visually but keep accessible */
    body > input[type="radio"] {
      position: absolute;
      opacity: 0;
      pointer-events: none;
    }

    /* Layout Picker UI */
    .layout-picker {
      position: fixed;
      top: 1rem;
      left: 1rem;
      z-index: 10000;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      padding: 1rem;
      background: var(--color-surface-raised);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-lg);
      font-family: var(--font-body);
      font-size: var(--text-sm);
    }

    .layout-picker h3 {
      font-size: var(--text-sm);
      font-weight: var(--weight-semibold);
      margin: 0 0 0.5rem 0;
      color: var(--color-text-muted);
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .layout-picker label {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 0.75rem;
      border-radius: var(--radius-interactive);
      cursor: pointer;
      transition: background var(--duration-fast) var(--ease-default);
    }

    .layout-picker label:hover {
      background: var(--color-surface-alt);
    }

    /* Active state indicator */
    .layout-picker label::before {
      content: "";
      width: 0.75rem;
      height: 0.75rem;
      border: 2px solid var(--color-border-strong);
      border-radius: var(--radius-full);
      transition: all var(--duration-fast) var(--ease-default);
    }

    /* Highlight active layout */
    #layout-stack:checked ~ .layout-picker label[for="layout-stack"]::before,
    #layout-sidebar:checked ~ .layout-picker label[for="layout-sidebar"]::before,
    #layout-sidebar-right:checked ~ .layout-picker label[for="layout-sidebar-right"]::before,
    #layout-holy-grail:checked ~ .layout-picker label[for="layout-holy-grail"]::before,
    #layout-app-shell:checked ~ .layout-picker label[for="layout-app-shell"]::before {
      background: var(--color-primary);
      border-color: var(--color-primary);
    }

    #layout-stack:checked ~ .layout-picker label[for="layout-stack"],
    #layout-sidebar:checked ~ .layout-picker label[for="layout-sidebar"],
    #layout-sidebar-right:checked ~ .layout-picker label[for="layout-sidebar-right"],
    #layout-holy-grail:checked ~ .layout-picker label[for="layout-holy-grail"],
    #layout-app-shell:checked ~ .layout-picker label[for="layout-app-shell"] {
      background: var(--color-primary-subtle);
      font-weight: var(--weight-medium);
    }

    /* Theme Switcher */
    .theme-switcher {
      position: fixed;
      top: 1rem;
      right: 1rem;
      z-index: 10000;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      padding: 1rem;
      background: var(--color-surface-raised);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-lg);
      font-family: var(--font-body);
      font-size: var(--text-sm);
    }

    .theme-switcher select {
      padding: 0.5rem;
      border: 1px solid var(--color-border);
      border-radius: var(--radius-interactive);
      background: var(--color-surface);
      color: var(--color-text);
      font-family: inherit;
      cursor: pointer;
    }

    /* ============================================
       LAYOUT SWITCHING VIA :checked
       This is the magic - pure CSS state!
       ============================================ */

    /* Default: Stack layout */
    .page-container {
      display: grid;
      min-height: 100dvh;
      gap: var(--layout-gap, 1rem);
      grid-template: var(--tpl-stack);
    }

    /* Grid area assignments for .page-container children */
    .page-container > header { grid-area: body-header; }
    .page-container > nav { grid-area: body-nav; }
    .page-container > main { grid-area: body-main; }
    .page-container > aside { grid-area: body-aside; }
    .page-container > footer { grid-area: body-footer; }

    /* Stack layout (mobile-first) */
    #layout-stack:checked ~ .page-container {
      grid-template: var(--tpl-stack);
    }

    /* Sidebar Left */
    #layout-sidebar:checked ~ .page-container {
      grid-template: var(--tpl-sidebar-left);
    }

    /* Sidebar Right */
    #layout-sidebar-right:checked ~ .page-container {
      grid-template: var(--tpl-sidebar-right);
    }

    /* Holy Grail (3-column) */
    #layout-holy-grail:checked ~ .page-container {
      grid-template: var(--tpl-holy-grail);
    }

    /* App Shell */
    #layout-app-shell:checked ~ .page-container {
      grid-template: var(--tpl-app-shell);
      gap: 0;
    }

    /* App Shell hides aside and footer (not part of app shell design) */
    #layout-app-shell:checked ~ .page-container > aside,
    #layout-app-shell:checked ~ .page-container > footer {
      display: none;
    }

    /* App Shell nav needs vertical styling (replicate body > nav from base.css) */
    #layout-app-shell:checked ~ .page-container > nav {
      display: flex;
      flex-direction: column;
      gap: var(--space-1);
      padding: var(--nav-padding, 1rem);
      padding-top: 280px; /* Space for demo layout picker overlay */
      background: var(--nav-bg, var(--color-surface-alt));
      border-inline-end: var(--border-1, 1px) solid var(--nav-border, var(--color-border));
      min-width: 200px;
    }

    #layout-app-shell:checked ~ .page-container > nav a {
      display: flex;
      align-items: center;
      gap: var(--space-2);
      padding-inline: var(--nav-item-padding-x, 0.75rem);
      padding-block: var(--nav-item-padding-y, 0.5rem);
      border-radius: var(--nav-item-radius, var(--radius-interactive));
      text-decoration: none;
      color: var(--color-text);
      transition: background var(--duration-fast) var(--ease-default);
    }

    #layout-app-shell:checked ~ .page-container > nav a:hover {
      background: var(--nav-item-hover-bg, var(--color-surface-alt));
    }

    #layout-app-shell:checked ~ .page-container > nav a[aria-current="page"] {
      background: var(--nav-item-active-bg, var(--color-primary-subtle));
      color: var(--nav-item-active-text, var(--color-primary));
    }

    /* Mobile responsive override */
    @media (width < 768px) {
      #layout-sidebar:checked ~ .page-container,
      #layout-sidebar-right:checked ~ .page-container,
      #layout-holy-grail:checked ~ .page-container {
        grid-template: var(--tpl-stack);
      }
    }

    /* Demo content styling */
    .demo-info {
      padding: 1.5rem;
      background: var(--color-surface-alt);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-card);
      margin-block-end: 1.5rem;
    }

    .demo-info h2 {
      margin: 0 0 1rem 0;
      font-size: var(--text-xl);
    }

    .code-block {
      background: var(--color-surface-sunken);
      padding: 1rem;
      border-radius: var(--radius-md);
      overflow-x: auto;
      font-family: var(--font-code);
      font-size: var(--text-sm);
      margin-block: 1rem;
    }

    .technique-list {
      list-style: none;
      padding: 0;
      margin: 1rem 0 0 0;
    }

    .technique-list li {
      padding: 0.5rem 0;
      padding-inline-start: 1.5rem;
      position: relative;
    }

    .technique-list li::before {
      content: "\2713";
      position: absolute;
      left: 0;
      color: var(--color-success);
      font-weight: bold;
    }

    /* Smooth transitions */
    *, *::before, *::after {
      transition:
        background-color 0.3s ease,
        border-color 0.3s ease,
        color 0.2s ease;
    }

    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        transition: none !important;
      }
    }

    /* Demo Navigation */
    .demo-nav {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      padding: 1rem;
      background: var(--color-surface-alt);
      border-block-start: 1px solid var(--color-border);
    }

    .demo-nav a {
      padding: 0.5rem 1rem;
      background: var(--color-surface-raised);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-interactive);
      text-decoration: none;
      font-size: var(--text-sm);
    }

    .demo-nav a:hover {
      background: var(--color-primary-subtle);
    }

    .demo-nav a.current {
      background: var(--color-primary);
      color: var(--color-text-inverted);
      border-color: var(--color-primary);
    }
  </style>
</head>

<body data-theme="swiss">
  <!-- Hidden radio inputs for layout state (must be direct siblings of .page-container) -->
  <input type="radio" name="layout" id="layout-stack">
  <input type="radio" name="layout" id="layout-sidebar" checked>
  <input type="radio" name="layout" id="layout-sidebar-right">
  <input type="radio" name="layout" id="layout-holy-grail">
  <input type="radio" name="layout" id="layout-app-shell">

  <!-- Layout Picker UI -->
  <div class="layout-picker">
    <h3>Layout</h3>
    <label for="layout-stack">Stack (Mobile)</label>
    <label for="layout-sidebar">Sidebar Left</label>
    <label for="layout-sidebar-right">Sidebar Right</label>
    <label for="layout-holy-grail">Holy Grail</label>
    <label for="layout-app-shell">App Shell</label>
  </div>

  <!-- Theme Switcher -->
  <div class="theme-switcher">
    <label for="theme-select">Theme</label>
    <select id="theme-select">
      <option value="swiss">Swiss</option>
      <option value="organic">Organic</option>
      <option value="brutalist">Brutalist</option>
      <option value="cyber">Cyber</option>
    </select>
  </div>

  <!-- Page Container with semantic elements -->
  <div class="page-container">
    <header>
      <h1>Layout Switcher</h1>
      <nav>
        <a href="../../showcase/">Main Demo</a>
        <a href="../">All Demos</a>
      </nav>
    </header>

    <nav>
      <a href="#" aria-current="page">Overview</a>
      <a href="#">How It Works</a>
      <a href="#">CSS Patterns</a>
      <a href="#">Browser Support</a>
      <a href="#">Accessibility</a>
    </nav>

    <main>
      <article>
        <div class="demo-info">
          <h2>Pure CSS Layout Switching</h2>
          <p>This demo switches between 5 different page layouts using <strong>only CSS</strong>. No JavaScript is required for the layout transitions.</p>

          <ul class="technique-list">
            <li><code>:checked</code> pseudo-class for state management</li>
            <li>CSS custom properties for layout templates</li>
            <li>General sibling combinator (<code>~</code>) for targeting</li>
            <li>Named grid areas for semantic layouts</li>
          </ul>
        </div>

        <h2>The Technique</h2>

        <p>Radio buttons maintain exclusive selection state natively. By positioning them at the start of the document and using the general sibling combinator, we can apply different styles based on which radio is checked.</p>

        <div class="code-block">
<pre><code>&lt;!-- Hidden radio inputs --&gt;
&lt;input type="radio" name="layout" id="layout-stack"&gt;
&lt;input type="radio" name="layout" id="layout-sidebar" checked&gt;

&lt;!-- Labels as UI --&gt;
&lt;label for="layout-stack"&gt;Stack&lt;/label&gt;
&lt;label for="layout-sidebar"&gt;Sidebar&lt;/label&gt;

&lt;!-- Content that changes --&gt;
&lt;div class="page-container"&gt;...&lt;/div&gt;</code></pre>
        </div>

        <p>The CSS uses the <code>:checked</code> pseudo-class combined with the sibling combinator:</p>

        <div class="code-block">
<pre><code>/* When stack radio is checked */
#layout-stack:checked ~ .page-container {
  grid-template: var(--tpl-stack);
}

/* When sidebar radio is checked */
#layout-sidebar:checked ~ .page-container {
  grid-template: var(--tpl-sidebar-left);
}</code></pre>
        </div>

        <h2>Layout Templates as Tokens</h2>

        <p>The grid templates are defined as CSS custom properties, making them reusable and easy to modify:</p>

        <div class="code-block">
<pre><code>:root {
  --tpl-stack:
    "body-header" auto
    "body-nav" auto
    "body-main" 1fr
    "body-footer" auto
    / 1fr;

  --tpl-sidebar-left:
    "body-header body-header" auto
    "body-nav    body-main"   1fr
    "body-footer body-footer" auto
    / 280px 1fr;
}</code></pre>
        </div>

        <h2>Semantic Grid Identity</h2>

        <p>The magic is that semantic elements automatically register their grid areas. No classes needed:</p>

        <div class="code-block">
<pre><code>body > header { grid-area: body-header; }
body > nav { grid-area: body-nav; }
body > main { grid-area: body-main; }
body > footer { grid-area: body-footer; }</code></pre>
        </div>

        <h2>Accessibility Considerations</h2>

        <p>The radio buttons are still in the DOM and accessible to screen readers. The labels are properly associated, allowing keyboard navigation. The visual hiding technique preserves accessibility tree presence.</p>

        <h2>Browser Support</h2>

        <p>This technique works in all modern browsers:</p>
        <ul>
          <li>Chrome 120+</li>
          <li>Firefox 121+</li>
          <li>Safari 17+</li>
          <li>Edge 120+</li>
        </ul>

      </article>
    </main>

    <aside>
      <h3>Key Concepts</h3>
      <ul>
        <li>CSS <code>:checked</code> state</li>
        <li>Sibling combinators</li>
        <li>CSS Grid templates</li>
        <li>Custom properties</li>
        <li>Named grid areas</li>
      </ul>

      <h3>Related Demos</h3>
      <ul>
        <li><a href="tabs-accordion.html">Tabs &amp; Accordion</a></li>
        <li><a href="responsive-grid.html">Responsive Grid</a></li>
        <li><a href="../minimal-js/dashboard.html">Dashboard</a></li>
      </ul>
    </aside>

    <footer>
      <nav class="demo-nav">
        <a href="layout-switcher.html" class="current">01 Layout Switcher</a>
        <a href="tabs-accordion.html">02 Tabs</a>
        <a href="responsive-grid.html">03 Grid</a>
        <a href="landing-page.html">04 Landing</a>
        <a href="../minimal-js/dashboard.html">05 Dashboard</a>
        <a href="../minimal-js/theme-builder.html">06 Theme</a>
        <a href="../interactive/component-lab.html">07 Lab</a>
        <a href="../interactive/animation-motion.html">08 Motion</a>
      </nav>
      <p>Vanilla Breeze Zen Garden | Pure CSS Demo</p>
    </footer>
  </div>

  <script>
    // Only JS needed: theme switching (could also be pure CSS with more radios)
    const themeSelect = document.getElementById('theme-select');
    themeSelect.addEventListener('change', (e) => {
      document.body.dataset.theme = e.target.value;
    });
  </script>
</body>
</html>
