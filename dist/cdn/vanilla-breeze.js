var A="vb-theme",v={mode:"auto",brand:"default"},u={init(){let a=this.load();return this.apply(a),this._watchSystemPreference(),a},load(){try{let a=localStorage.getItem(A);return a?{...v,...JSON.parse(a)}:{...v}}catch{return{...v}}},save(a){let e={...this.load(),...a};try{localStorage.setItem(A,JSON.stringify(e))}catch{}return e},apply({mode:a="auto",brand:t="default"}={}){let e=document.documentElement;a==="auto"?delete e.dataset.mode:e.dataset.mode=a,t==="default"?delete e.dataset.theme:e.dataset.theme=t,window.dispatchEvent(new CustomEvent("theme-change",{detail:{mode:a,brand:t,effectiveMode:this.getEffectiveMode()}}))},setMode(a){let t=this.save({mode:a});this.apply(t)},setBrand(a){let t=this.save({brand:a});this.apply(t)},getEffectiveMode(){let{mode:a}=this.load();return a!=="auto"?a:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"},getState(){let{mode:a,brand:t}=this.load();return{mode:a,brand:t,effectiveMode:this.getEffectiveMode()}},toggleMode(){let t=this.getEffectiveMode()==="dark"?"light":"dark";this.setMode(t)},reset(){try{localStorage.removeItem(A)}catch{}this.apply(v)},_watchSystemPreference(){window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{let{mode:t,brand:e}=this.load();t==="auto"&&window.dispatchEvent(new CustomEvent("theme-change",{detail:{mode:t,brand:e,effectiveMode:this.getEffectiveMode()}}))})}};var Q=["layout-text","layout-reel"];Q.forEach(a=>{customElements.get(a)||customElements.define(a,class extends HTMLElement{})});var x=class extends HTMLElement{#e;#t;connectedCallback(){this.#e=[...this.querySelectorAll(":scope > details")],this.#t=this.#e.map(t=>t.querySelector("summary")),this.#e.length!==0&&(this.#i(),this.#n())}#i(){this.setAttribute("role","tablist"),this.#e.forEach((t,e)=>{let s=this.#t[e],i=t.querySelector(":scope > :not(summary)");if(!s||!i)return;let n=s.id||`tab-${crypto.randomUUID().slice(0,8)}`,o=i.id||`panel-${crypto.randomUUID().slice(0,8)}`;s.id=n,s.setAttribute("role","tab"),s.setAttribute("aria-controls",o),s.setAttribute("aria-selected",t.open?"true":"false"),s.setAttribute("tabindex",t.open?"0":"-1"),i.id=o,i.setAttribute("role","tabpanel"),i.setAttribute("aria-labelledby",n),s.addEventListener("keydown",r=>this.#o(r,e)),t.addEventListener("toggle",()=>this.#s(e))})}#n(){!this.#e.some(e=>e.open)&&this.#e.length>0&&(this.#e[0].open=!0,this.#r())}#s(t){this.#r(),this.dispatchEvent(new CustomEvent("tab-change",{detail:{index:t},bubbles:!0}))}#r(){this.#e.forEach((t,e)=>{let s=this.#t[e],i=t.open;s.setAttribute("aria-selected",String(i)),s.setAttribute("tabindex",i?"0":"-1")})}#o(t,e){let{key:s}=t,i;switch(s){case"ArrowRight":i=(e+1)%this.#e.length;break;case"ArrowLeft":i=(e-1+this.#e.length)%this.#e.length;break;case"Home":i=0;break;case"End":i=this.#e.length-1;break;default:return}t.preventDefault(),this.#e[i].open=!0,this.#t[i].focus()}};customElements.define("tabs-wc",x);var k=class a extends HTMLElement{static#e=0;#t;#i=[];#n="Back to content";connectedCallback(){this.#t=++a.#e,this.hasAttribute("data-back-label")&&(this.#n=this.getAttribute("data-back-label")),this.#s(),this.#r()}#s(){let t=[...document.querySelectorAll("foot-note:not([data-enhanced])")];this.#i=t.filter(e=>this.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_PRECEDING)}#r(){if(this.#i.length===0)return;let t=document.createElement("ol");this.#i.forEach((e,s)=>{let i=s+1,n=`fnref-${this.#t}-${i}`,o=`fn-${this.#t}-${i}`;this.#o(e,i,n,o);let r=this.#l(e,i,n,o);t.appendChild(r)}),this.appendChild(t)}#o(t,e,s,i){t.setAttribute("data-enhanced",""),t.id=s;let n=t.innerHTML,o=document.createElement("span");o.innerHTML=n;let r=document.createElement("a");r.href=`#${i}`,r.setAttribute("aria-describedby",i),r.textContent=`[${e}]`,t.innerHTML="",t.appendChild(o),t.appendChild(r)}#l(t,e,s,i){let n=document.createElement("li");n.id=i;let o=t.querySelector("span"),r=o?o.innerHTML:"",l=document.createElement("a");return l.href=`#${s}`,l.setAttribute("data-backref",""),l.setAttribute("aria-label",this.#n),l.textContent="\u21A9",n.innerHTML=r+" ",n.appendChild(l),n}},S=class extends HTMLElement{};customElements.define("footnotes-wc",k);customElements.define("foot-note",S);var T=class extends HTMLElement{#e;#t;connectedCallback(){this.#e=[...this.querySelectorAll(":scope > details")],this.#t=this.#e.map(t=>t.querySelector("summary")),this.#e.length!==0&&this.#i()}#i(){this.#e.forEach((t,e)=>{let s=this.#t[e],i=t.querySelector(":scope > :not(summary)");if(!s||!i)return;let n=s.id||`accordion-heading-${crypto.randomUUID().slice(0,8)}`,o=i.id||`accordion-panel-${crypto.randomUUID().slice(0,8)}`;s.id=n,i.id=o,s.setAttribute("aria-expanded",t.open?"true":"false"),s.setAttribute("aria-controls",o),i.setAttribute("aria-labelledby",n),i.setAttribute("role","region"),s.addEventListener("keydown",r=>this.#s(r,e)),t.addEventListener("toggle",()=>this.#n(t,e))})}#n(t,e){this.#t[e].setAttribute("aria-expanded",t.open?"true":"false"),this.hasAttribute("data-single")&&t.open&&this.#e.forEach((i,n)=>{n!==e&&i.open&&(i.open=!1,this.#t[n].setAttribute("aria-expanded","false"))}),this.dispatchEvent(new CustomEvent("accordion-toggle",{detail:{index:e,open:t.open},bubbles:!0}))}#s(t,e){let{key:s}=t,i;switch(s){case"ArrowDown":i=(e+1)%this.#e.length;break;case"ArrowUp":i=(e-1+this.#e.length)%this.#e.length;break;case"Home":i=0;break;case"End":i=this.#e.length-1;break;default:return}t.preventDefault(),this.#t[i].focus()}open(t){t>=0&&t<this.#e.length&&(this.#e[t].open=!0)}close(t){t>=0&&t<this.#e.length&&(this.#e[t].open=!1)}toggle(t){t>=0&&t<this.#e.length&&(this.#e[t].open=!this.#e[t].open)}openAll(){this.hasAttribute("data-single")||this.#e.forEach(t=>{t.open=!0})}closeAll(){this.#e.forEach(t=>{t.open=!1})}};customElements.define("accordion-wc",T);var L=class extends HTMLElement{#e=[];#t=[];static get observedAttributes(){return["data-position","data-max"]}connectedCallback(){this.setAttribute("role","region"),this.setAttribute("aria-label","Notifications"),this.setAttribute("aria-live","polite")}show(t){let{message:e,variant:s="info",duration:i=this.#r(),dismissible:n=!0,action:o,onAction:r}=t,l=this.#i({message:e,variant:s,dismissible:n,action:o,onAction:r}),h=this.#o();return this.#t.length>=h?this.#e.push({toast:l,duration:i}):this.#n(l,i),l}#i({message:t,variant:e,dismissible:s,action:i,onAction:n}){let o=document.createElement("div");o.className="toast",o.setAttribute("role","alert"),o.setAttribute("data-variant",e);let r={info:"&#9432;",success:"&#10003;",warning:"&#9888;",error:"&#10007;"};return o.innerHTML=`
      <span class="icon" aria-hidden="true">${r[e]||r.info}</span>
      <span class="message">${this.#l(t)}</span>
      ${i?`<button type="button" class="action">${this.#l(i)}</button>`:""}
      ${s?'<button type="button" class="close" aria-label="Dismiss">&#x2715;</button>':""}
    `,s&&o.querySelector(".close").addEventListener("click",()=>{this.#s(o)}),i&&n&&o.querySelector(".action").addEventListener("click",()=>{n(),this.#s(o)}),o}#n(t,e){this.appendChild(t),this.#t.push(t),requestAnimationFrame(()=>{t.setAttribute("data-state","visible")}),e>0&&(t._dismissTimer=setTimeout(()=>{this.#s(t)},e)),this.dispatchEvent(new CustomEvent("toast-show",{bubbles:!0,detail:{toast:t}}))}#s(t){if(!this.contains(t))return;t._dismissTimer&&clearTimeout(t._dismissTimer),t.setAttribute("data-state","hiding");let e=()=>{t.removeEventListener("animationend",e),t.remove();let s=this.#t.indexOf(t);if(s>-1&&this.#t.splice(s,1),this.#e.length>0){let{toast:i,duration:n}=this.#e.shift();this.#n(i,n)}this.dispatchEvent(new CustomEvent("toast-hide",{bubbles:!0,detail:{toast:t}}))};t.addEventListener("animationend",e),setTimeout(()=>{this.contains(t)&&e()},300)}dismissAll(){this.#e=[],[...this.#t].forEach(t=>this.#s(t))}#r(){let t=this.getAttribute("data-duration");return t!==null?parseInt(t,10):5e3}#o(){let t=this.getAttribute("data-max");return t!==null?parseInt(t,10):5}#l(t){let e=document.createElement("div");return e.textContent=t,e.innerHTML}};customElements.define("toast-wc",L);var B=CSS.supports("anchor-name","--test"),C=class extends HTMLElement{#e;#t;#i;#n;#s=!B;connectedCallback(){this.#r()}disconnectedCallback(){this.#o()}#r(){if(this.#e=this.querySelector(":scope > :not(template)"),!this.#e)return;let t=this.querySelector(":scope > template[data-tooltip]"),e=this.dataset.content;if(!t&&!e)return;this.#t=document.createElement("div"),this.#t.className="tooltip",this.#t.setAttribute("role","tooltip"),this.#t.setAttribute("popover","hint"),t?this.#t.innerHTML=t.innerHTML:this.#t.textContent=e,this.#t.id=`tooltip-${crypto.randomUUID().slice(0,8)}`;let s=this.dataset.position||"top";this.#t.dataset.position=s;let i=document.createElement("span");if(i.className="tooltip-arrow",i.setAttribute("aria-hidden","true"),this.#t.appendChild(i),this.appendChild(this.#t),B){let n=`--tooltip-anchor-${this.#t.id}`;this.#e.style.anchorName=n,this.#t.style.positionAnchor=n,this.#t.setAttribute("data-anchor","")}this.#e.setAttribute("aria-describedby",this.#t.id),this.#e.addEventListener("mouseenter",this.#l),this.#e.addEventListener("mouseleave",this.#a),this.#e.addEventListener("focus",this.#c),this.#e.addEventListener("blur",this.#h),this.#t.addEventListener("mouseenter",this.#u),this.#t.addEventListener("mouseleave",this.#a)}#o(){this.#e&&(this.#e.removeEventListener("mouseenter",this.#l),this.#e.removeEventListener("mouseleave",this.#a),this.#e.removeEventListener("focus",this.#c),this.#e.removeEventListener("blur",this.#h)),this.#t&&(this.#t.removeEventListener("mouseenter",this.#u),this.#t.removeEventListener("mouseleave",this.#a)),clearTimeout(this.#i),clearTimeout(this.#n)}#l=()=>{clearTimeout(this.#n);let t=parseInt(this.dataset.delay||"200",10);this.#i=setTimeout(()=>this.show(),t)};#a=()=>{clearTimeout(this.#i),this.#n=setTimeout(()=>this.hide(),100)};#c=()=>{clearTimeout(this.#n),this.show()};#h=()=>{clearTimeout(this.#i),this.hide()};#u=()=>{clearTimeout(this.#n)};show(){!this.#t||this.isVisible||(this.#t.showPopover(),this.#s&&this.#p(),this.dispatchEvent(new CustomEvent("tooltip-show",{bubbles:!0})))}hide(){!this.#t||!this.isVisible||(this.#t.hidePopover(),this.dispatchEvent(new CustomEvent("tooltip-hide",{bubbles:!0})))}#p(){if(!this.#e||!this.#t)return;let t=this.#e.getBoundingClientRect(),e=this.#t.getBoundingClientRect(),s=this.dataset.position||"top",i=8,n,o;switch(s){case"bottom":n=t.bottom+i,o=t.left+(t.width-e.width)/2;break;case"left":n=t.top+(t.height-e.height)/2,o=t.left-e.width-i;break;case"right":n=t.top+(t.height-e.height)/2,o=t.right+i;break;default:n=t.top-e.height-i,o=t.left+(t.width-e.width)/2;break}let r=8;o=Math.max(r,Math.min(o,window.innerWidth-e.width-r)),n=Math.max(r,Math.min(n,window.innerHeight-e.height-r)),this.#t.style.top=`${n}px`,this.#t.style.left=`${o}px`}get isVisible(){return this.#t?.matches(":popover-open")??!1}};customElements.define("tooltip-wc",C);var M=class extends HTMLElement{#e;#t;#i=[];#n=-1;#s=!1;#r=!1;#o=null;connectedCallback(){this.#l()}disconnectedCallback(){this.#a()}#l(){this.#e=this.querySelector(":scope > [data-trigger]"),this.#e||(this.#e=this.querySelector(":scope > button")),this.#e&&(this.#t=this.querySelector(':scope > menu, :scope > ul[role="menu"]'),this.#t&&(this.#r=this.hasAttribute("data-hover"),this.#e.setAttribute("aria-haspopup","menu"),this.#e.setAttribute("aria-expanded","false"),this.#t.id||(this.#t.id=`dropdown-menu-${crypto.randomUUID().slice(0,8)}`),this.#e.setAttribute("aria-controls",this.#t.id),this.#t.setAttribute("role","menu"),this.#c(),this.#r?(this.addEventListener("mouseenter",this.#u),this.addEventListener("mouseleave",this.#p),this.#e.addEventListener("focus",this.#d),this.#e.addEventListener("blur",this.#f)):this.#e.addEventListener("click",this.#h),this.#e.addEventListener("keydown",this.#b),this.#t.addEventListener("keydown",this.#g),document.addEventListener("click",this.#E),document.addEventListener("keydown",this.#v)))}#a(){this.#o&&clearTimeout(this.#o),this.#e&&(this.#e.removeEventListener("click",this.#h),this.#e.removeEventListener("keydown",this.#b),this.#e.removeEventListener("focus",this.#d),this.#e.removeEventListener("blur",this.#f)),this.#t&&this.#t.removeEventListener("keydown",this.#g),this.removeEventListener("mouseenter",this.#u),this.removeEventListener("mouseleave",this.#p),document.removeEventListener("click",this.#E),document.removeEventListener("keydown",this.#v)}#c(){this.#i=Array.from(this.#t.querySelectorAll('button, a, [role="menuitem"]')).filter(t=>!t.disabled&&!t.closest('[role="separator"]')),this.#i.forEach((t,e)=>{t.setAttribute("role","menuitem"),t.setAttribute("tabindex","-1"),t.addEventListener("click",this.#y)}),this.#t.querySelectorAll('li:empty, [role="separator"], hr').forEach(t=>{t.setAttribute("role","separator")})}#h=t=>{t.stopPropagation(),this.toggle()};#u=()=>{this.#o&&(clearTimeout(this.#o),this.#o=null),this.open()};#p=()=>{this.#o=setTimeout(()=>{this.close()},100)};#d=()=>{this.#o&&(clearTimeout(this.#o),this.#o=null),this.open()};#f=t=>{this.#t?.contains(t.relatedTarget)||(this.#o=setTimeout(()=>{this.contains(document.activeElement)||this.close()},100))};#b=t=>{switch(t.key){case"ArrowDown":case"Down":t.preventDefault(),this.open(),this.#m(0);break;case"ArrowUp":case"Up":t.preventDefault(),this.open(),this.#m(this.#i.length-1);break}};#g=t=>{switch(t.key){case"ArrowDown":case"Down":t.preventDefault(),this.#m(this.#n+1);break;case"ArrowUp":case"Up":t.preventDefault(),this.#m(this.#n-1);break;case"Home":t.preventDefault(),this.#m(0);break;case"End":t.preventDefault(),this.#m(this.#i.length-1);break;case"Tab":this.close();break;case"Enter":case" ":t.preventDefault(),this.#n>=0&&this.#i[this.#n].click();break}};#E=t=>{this.#s&&!this.contains(t.target)&&this.close()};#v=t=>{t.key==="Escape"&&this.#s&&(t.preventDefault(),this.close(),this.#e?.focus())};#y=t=>{t.defaultPrevented||(this.close(),this.#e?.focus())};#m(t){this.#i.length!==0&&(t<0&&(t=this.#i.length-1),t>=this.#i.length&&(t=0),this.#n=t,this.#i[t].focus())}open(){this.#s||!this.#t||(this.#s=!0,this.setAttribute("data-open",""),this.#e?.setAttribute("aria-expanded","true"),this.#n=-1,this.#w(),this.dispatchEvent(new CustomEvent("dropdown-open",{bubbles:!0})))}close(){!this.#s||!this.#t||(this.#s=!1,this.removeAttribute("data-open"),this.#e?.setAttribute("aria-expanded","false"),this.#n=-1,this.dispatchEvent(new CustomEvent("dropdown-close",{bubbles:!0})))}toggle(){this.#s?this.close():this.open()}#w(){if(!this.#e||!this.#t)return;let t=this.getAttribute("data-position")||"bottom-start",e=this.hasAttribute("data-no-flip"),s=this.#e.getBoundingClientRect(),i=this.#t.getBoundingClientRect(),n=window.innerHeight,o=window.innerWidth,r,l,h=4;t.startsWith("top")?(r=-i.height-h,!e&&s.top+r<0&&(r=s.height+h)):(r=s.height+h,!e&&s.bottom+i.height+h>n&&(r=-i.height-h)),t.endsWith("end")?(l=s.width-i.width,s.left+l<0&&(l=0)):(l=0,s.left+i.width>o&&(l=s.width-i.width)),this.#t.style.setProperty("--dropdown-top",`${r}px`),this.#t.style.setProperty("--dropdown-left",`${l}px`)}get isOpen(){return this.#s}};customElements.define("dropdown-wc",M);var U=`
:host {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  inline-size: 1.5em;
  block-size: 1.5em;
  vertical-align: middle;
  line-height: 1;
}

:host([size="xs"]) {
  inline-size: 1em;
  block-size: 1em;
}

:host([size="sm"]) {
  inline-size: 1.25em;
  block-size: 1.25em;
}

:host([size="md"]) {
  inline-size: 1.5em;
  block-size: 1.5em;
}

:host([size="lg"]) {
  inline-size: 2em;
  block-size: 2em;
}

:host([size="xl"]) {
  inline-size: 2.5em;
  block-size: 2.5em;
}

:host([size="2xl"]) {
  inline-size: 3em;
  block-size: 3em;
}

svg {
  inline-size: 100%;
  block-size: 100%;
  stroke: currentColor;
  stroke-width: 2;
  stroke-linecap: round;
  stroke-linejoin: round;
  fill: none;
}

/* Error state */
:host([data-error]) {
  opacity: 0.5;
}

/* Hidden state for missing icons */
:host([hidden]) {
  display: none;
}
`;var I=new Map,$=class extends HTMLElement{static get observedAttributes(){return["name","set","size","label"]}constructor(){super(),this.attachShadow({mode:"open"})}get name(){return this.getAttribute("name")||""}get set(){return this.getAttribute("set")||"lucide"}get size(){return this.getAttribute("size")||"md"}get label(){return this.getAttribute("label")}get basePath(){return this.getAttribute("base-path")||document.documentElement.dataset.iconPath||"/src/icons"}get iconPath(){return`${this.basePath}/${this.set}/${this.name}.svg`}render(){this.shadowRoot.innerHTML=`
            <style>${U}</style>
            <slot></slot>
        `}async loadIcon(){if(!this.name){this.setError("No icon name specified");return}let t=`${this.set}/${this.name}`;if(I.has(t)){this.displayIcon(I.get(t));return}try{let e=await fetch(this.iconPath);if(!e.ok)throw new Error(`Icon not found: ${this.name}`);let s=await e.text();if(!s.includes("<svg"))throw new Error(`Invalid SVG: ${this.name}`);I.set(t,s),this.displayIcon(s)}catch(e){this.setError(e.message)}}displayIcon(t){let i=new DOMParser().parseFromString(t,"image/svg+xml").querySelector("svg");if(!i){this.setError("Invalid SVG content");return}i.removeAttribute("width"),i.removeAttribute("height"),this.label?(i.setAttribute("role","img"),i.setAttribute("aria-label",this.label)):i.setAttribute("aria-hidden","true"),this.removeAttribute("data-error");let n=this.shadowRoot.querySelector("slot");n&&n.replaceWith(i)}setError(t){this.setAttribute("data-error","true"),console.warn(`icon-wc: ${t}`);let e=this.shadowRoot.querySelector("slot");e&&(e.textContent="")}connectedCallback(){this.render(),this.loadIcon()}attributeChangedCallback(t,e,s){if(e!==s&&this.isConnected){if(t==="name"||t==="set")this.render(),this.loadIcon();else if(t==="label"){let i=this.shadowRoot.querySelector("svg");i&&(s?(i.setAttribute("role","img"),i.setAttribute("aria-label",s)):(i.removeAttribute("role"),i.setAttribute("aria-hidden","true")))}}}};customElements.define("icon-wc",$);var F="vb-sound",H={enabled:!1,volume:.5},E={_ctx:null,_enabled:!1,_volume:.5,_initialized:!1,init(){if(this._initialized)return this;let a=this._load();return this._enabled=a.enabled,this._volume=a.volume,this._initialized=!0,this},_getContext(){return this._ctx||(this._ctx=new(window.AudioContext||window.webkitAudioContext)),this._ctx.state==="suspended"&&this._ctx.resume(),this._ctx},_load(){try{let a=localStorage.getItem(F);return a?{...H,...JSON.parse(a)}:{...H}}catch{return{...H}}},_save(a){try{let t=this._load();localStorage.setItem(F,JSON.stringify({...t,...a}))}catch{}},_playTone(a,t,e="sine"){if(!this._enabled)return;let s=this._getContext(),i=s.createOscillator(),n=s.createGain();i.connect(n),n.connect(s.destination),i.frequency.value=a,i.type=e,n.gain.value=this._volume*.3,i.start(),n.gain.exponentialRampToValueAtTime(.01,s.currentTime+t),i.stop(s.currentTime+t)},enable(){this._enabled=!0,this._save({enabled:!0}),this.play("click")},disable(){this._enabled=!1,this._save({enabled:!1})},toggle(){return this._enabled?this.disable():this.enable(),this._enabled},isEnabled(){return this._enabled},setVolume(a){this._volume=Math.max(0,Math.min(1,a)),this._save({volume:this._volume})},getVolume(){return this._volume},play(a){if(this._enabled)switch(a){case"click":this._playTone(800,.1);break;case"success":this._playTone(523,.1),setTimeout(()=>this._playTone(659,.1),100),setTimeout(()=>this._playTone(784,.15),200);break;case"error":this._playTone(200,.15,"sawtooth"),setTimeout(()=>this._playTone(180,.2,"sawtooth"),150);break;case"notification":this._playTone(880,.1),setTimeout(()=>this._playTone(1100,.15),100);break;case"soft":this._playTone(600,.05);break;case"tick":this._playTone(1200,.02,"square");break}},getState(){return{enabled:this._enabled,volume:this._volume}}};var V="vb-extensions",y={motionFx:!0,sounds:!1},j="vb-a11y-themes",q=class a extends HTMLElement{static#e=[{id:"auto",name:"Auto",icon:"monitor"},{id:"light",name:"Light",icon:"sun"},{id:"dark",name:"Dark",icon:"moon"}];static#t=[{id:"default",name:"Default",hue:260},{id:"ocean",name:"Ocean",hue:200},{id:"forest",name:"Forest",hue:145},{id:"sunset",name:"Sunset",hue:25}];static#i=[{id:"modern",name:"Modern",hue:270,shape:"rounded",character:"Vibrant & elevated"},{id:"minimal",name:"Minimal",hue:240,shape:"sharp",character:"Clean & flat"},{id:"classic",name:"Classic",hue:220,shape:"subtle",character:"Serif & elegant"}];static#n=[{id:"swiss",name:"Swiss",icon:"grid-3x3",character:"Precision grid design"},{id:"brutalist",name:"Brutalist",icon:"square",character:"Raw, industrial"},{id:"cyber",name:"Cyber",icon:"zap",character:"Neon futuristic"},{id:"terminal",name:"Terminal",icon:"terminal",character:"Retro CRT"},{id:"organic",name:"Organic",icon:"leaf",character:"Natural, handcrafted"}];static#s=[{id:"a11y-high-contrast",name:"High Contrast",icon:"contrast",description:"AAA contrast (7:1+)"},{id:"a11y-large-text",name:"Large Text",icon:"type",description:"25% larger fonts"},{id:"a11y-dyslexia",name:"Dyslexia",icon:"book-open",description:"Readable typography"}];static#r=[...a.#t,...a.#i,...a.#n];static#o=[{id:"motionFx",name:"Motion Effects",icon:"sparkles",description:"Hover & enter animations"},{id:"sounds",name:"Sound Effects",icon:"volume-2",description:"Audio feedback"}];static#l=200;#a;#c;#h=!1;#u=!1;#p=null;#d=!1;connectedCallback(){this.#u=this.getAttribute("data-variant")==="inline",this.#f(),this.#g(),this.#M(),window.addEventListener("theme-change",this.#C),this.#H(),this.#L()}disconnectedCallback(){window.removeEventListener("theme-change",this.#C),document.removeEventListener("click",this.#v),document.removeEventListener("keydown",this.#y),this.#T()}#f(){this.#u||(this.#a=this.querySelector(":scope > [data-trigger]"),this.#a||(this.#a=this.querySelector(":scope > button")),this.#a||(this.#a=document.createElement("button"),this.#a.setAttribute("data-trigger",""),this.#a.innerHTML=`
          <x-icon name="palette" label="Theme settings"></x-icon>
        `,this.prepend(this.#a)),this.#a.setAttribute("aria-haspopup","dialog"),this.#a.setAttribute("aria-expanded","false")),this.#c=document.createElement("div"),this.#c.className="panel",this.#c.setAttribute("role","dialog"),this.#c.setAttribute("aria-label","Theme settings"),this.#u||(this.#c.id=`theme-panel-${crypto.randomUUID().slice(0,8)}`,this.#a.setAttribute("aria-controls",this.#c.id)),this.#c.innerHTML=this.#b(),this.appendChild(this.#c)}#b(){let{mode:t,brand:e}=u.getState();return`
      <fieldset class="section">
        <legend>Color Mode</legend>
        <div class="options" role="radiogroup" aria-label="Color mode">
          ${a.#e.map(s=>`
            <label class="option">
              <input
                type="radio"
                name="theme-mode"
                value="${s.id}"
                ${t===s.id?"checked":""}
              />
              <span class="option-content">
                <x-icon name="${s.icon}"></x-icon>
                <span>${s.name}</span>
              </span>
            </label>
          `).join("")}
        </div>
      </fieldset>

      <fieldset class="section">
        <legend>Color Themes</legend>
        <div class="options options--themes" role="radiogroup" aria-label="Color theme">
          ${a.#t.map(s=>`
            <label class="option option--theme">
              <input
                type="radio"
                name="theme-brand"
                value="${s.id}"
                ${e===s.id?"checked":""}
              />
              <span class="option-content">
                <span class="swatch" style="--swatch-hue: ${s.hue}"></span>
                <span>${s.name}</span>
              </span>
            </label>
          `).join("")}
        </div>
      </fieldset>

      <fieldset class="section">
        <legend>Personality Themes</legend>
        <div class="options options--themes" role="radiogroup" aria-label="Personality theme">
          ${a.#i.map(s=>`
            <label class="option option--theme">
              <input
                type="radio"
                name="theme-brand"
                value="${s.id}"
                ${e===s.id?"checked":""}
              />
              <span class="option-content">
                <span class="swatch-combo">
                  <span class="swatch" style="--swatch-hue: ${s.hue}"></span>
                  <span class="shape-indicator" data-shape="${s.shape}"></span>
                </span>
                <span>${s.name}</span>
              </span>
            </label>
          `).join("")}
        </div>
      </fieldset>

      <fieldset class="section">
        <legend>Extreme Themes</legend>
        <div class="options options--themes" role="radiogroup" aria-label="Extreme theme">
          ${a.#n.map(s=>`
            <label class="option option--theme option--extreme">
              <input
                type="radio"
                name="theme-brand"
                value="${s.id}"
                ${e===s.id?"checked":""}
              />
              <span class="option-content">
                <x-icon name="${s.icon}"></x-icon>
                <span>${s.name}</span>
              </span>
            </label>
          `).join("")}
        </div>
      </fieldset>

      <fieldset class="section section--a11y">
        <legend>Accessibility</legend>
        <div class="options options--a11y" aria-label="Accessibility themes">
          ${a.#s.map(s=>{let n=this.#S().includes(s.id);return`
            <label class="option option--a11y">
              <input
                type="checkbox"
                name="a11y-theme"
                value="${s.id}"
                data-a11y-theme="${s.id}"
                ${n?"checked":""}
              />
              <span class="option-content">
                <x-icon name="${s.icon}"></x-icon>
                <span class="option-label">${s.name}</span>
              </span>
            </label>
          `}).join("")}
        </div>
      </fieldset>

      <details class="section section--extensions" ${this.#d?"open":""}>
        <summary class="extensions-toggle">
          <x-icon name="sliders-horizontal"></x-icon>
          <span>Extensions</span>
          <x-icon name="chevron-down" class="chevron"></x-icon>
        </summary>
        <div class="extensions-content">
          ${a.#o.map(s=>{let n=this.#x()[s.id]??y[s.id];return`
            <label class="extension-toggle">
              <span class="extension-info">
                <x-icon name="${s.icon}"></x-icon>
                <span class="extension-name">${s.name}</span>
              </span>
              <input
                type="checkbox"
                name="ext-${s.id}"
                data-extension="${s.id}"
                ${n?"checked":""}
              />
              <span class="toggle-switch"></span>
            </label>
          `}).join("")}
        </div>
      </details>
    `}#g(){this.#c.querySelectorAll('input[name="theme-mode"]').forEach(e=>{e.addEventListener("change",this.#m)}),this.#c.querySelectorAll('input[name="theme-brand"]').forEach(e=>{e.addEventListener("change",this.#w)}),this.#c.querySelectorAll("input[data-extension]").forEach(e=>{e.addEventListener("change",this.#A)}),this.#c.querySelectorAll("input[data-a11y-theme]").forEach(e=>{e.addEventListener("change",this.#q)}),this.#c.querySelector(".section--extensions")?.addEventListener("toggle",e=>{this.#d=e.target.open}),this.#u||(this.#a.addEventListener("click",this.#E),document.addEventListener("click",this.#v),document.addEventListener("keydown",this.#y))}#E=t=>{t.stopPropagation(),this.toggle()};#v=t=>{this.#h&&!this.contains(t.target)&&this.close()};#y=t=>{t.key==="Escape"&&this.#h&&(t.preventDefault(),this.close(),this.#a?.focus())};#m=t=>{u.setMode(t.target.value),this.#D()};#w=t=>{u.setBrand(t.target.value),this.#L(),this.#D()};#A=t=>{let e=t.target.dataset.extension,s=t.target.checked;this.#k(e,s),this.#H()};#x(){try{let t=localStorage.getItem(V);return t?{...y,...JSON.parse(t)}:{...y}}catch{return{...y}}}#k(t,e){try{let s=this.#x();s[t]=e,localStorage.setItem(V,JSON.stringify(s))}catch{}}#H(){let t=this.#x(),e=document.documentElement;t.motionFx?delete e.dataset.motionReduced:e.dataset.motionReduced="",t.sounds?(E.init(),E.enable()):E.disable(),window.dispatchEvent(new CustomEvent("extensions-change",{detail:t}))}#S(){try{let t=localStorage.getItem(j);return t?JSON.parse(t):[]}catch{return[]}}#N(t){try{localStorage.setItem(j,JSON.stringify(t))}catch{}}#L(){let t=this.#S(),{brand:e}=u.getState(),s=document.documentElement,i=e==="default"?t.join(" "):[e,...t].join(" ");i?s.dataset.theme=i:delete s.dataset.theme}#q=t=>{let e=t.target.dataset.a11yTheme,s=t.target.checked,i=this.#S();if(s&&!i.includes(e))i.push(e);else if(!s&&i.includes(e)){let n=i.indexOf(e);i.splice(n,1)}this.#N(i),this.#L()};#D(){this.#u||(this.#T(),this.#p=setTimeout(()=>{this.close(),this.#a?.focus()},a.#l))}#T(){this.#p&&(clearTimeout(this.#p),this.#p=null)}#C=()=>{this.#M()};#M(){let{mode:t,brand:e}=u.getState(),s=this.#c.querySelector(`input[name="theme-mode"][value="${t}"]`);s&&(s.checked=!0);let i=this.#c.querySelector(`input[name="theme-brand"][value="${e}"]`);i&&(i.checked=!0)}open(){this.#u||this.#h||(this.#h=!0,this.setAttribute("data-open",""),this.#a?.setAttribute("aria-expanded","true"),requestAnimationFrame(()=>{this.#I(),this.#c.querySelector('input[type="radio"]:checked')?.focus()}),this.dispatchEvent(new CustomEvent("theme-wc-open",{bubbles:!0})))}#I(){if(!this.#a||!this.#c)return;let t=this.#a.getBoundingClientRect(),e=this.#c.getBoundingClientRect(),s=window.visualViewport||{width:window.innerWidth,height:window.innerHeight},i=s.height,n=s.width,o=8,r=16,l=i-t.bottom-r,h=t.top-r,d=t.height+o;l<e.height&&h>l?(d=-e.height-o,this.#c.dataset.position="top"):delete this.#c.dataset.position;let c=0,p=t.left+e.width+r,b=t.left+c;p>n&&(c=n-p),b+c<r&&(c=r-t.left),this.#c.style.setProperty("--panel-top",`${d}px`),this.#c.style.setProperty("--panel-left",`${c}px`)}close(){this.#u||!this.#h||(this.#T(),this.#h=!1,this.removeAttribute("data-open"),this.#a?.setAttribute("aria-expanded","false"),this.dispatchEvent(new CustomEvent("theme-wc-close",{bubbles:!0})))}toggle(){this.#h?this.close():this.open()}get isOpen(){return this.#h}};customElements.define("theme-wc",q);var D=class extends HTMLElement{#e;#t=new WeakSet;connectedCallback(){this.#i()}disconnectedCallback(){this.#n()}#i(){this.#s(),this.#e=new MutationObserver(t=>{for(let e of t)e.type==="childList"&&this.#s()}),this.#e.observe(this,{childList:!0,subtree:!0})}#n(){this.#e?.disconnect()}#s(){let e=(this.dataset.levels||"h2,h3").split(",").map(i=>i.trim()).join(","),s=this.querySelectorAll(e);for(let i of s)this.#t.has(i)||(this.#r(i),this.#t.add(i))}#r(t){if(t.closest("dialog")||(t.id||(t.id=this.#o(t.textContent)),t.querySelector(".heading-anchor")))return;let e=document.createElement("a");e.className="heading-anchor",e.href=`#${t.id}`,e.setAttribute("aria-label",`Link to ${t.textContent.trim()}`),e.innerHTML='<icon-wc name="link" size="sm"></icon-wc>',e.addEventListener("click",s=>{s.preventDefault(),this.#l(t,e)}),t.appendChild(e),t.hasAttribute("tabindex")||t.setAttribute("tabindex","-1")}#o(t){let e=t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").substring(0,50),s=e,i=1;for(;document.getElementById(s);)s=`${e}-${i}`,i++;return s}async#l(t,e){let s=new URL(window.location.href);s.hash=t.id,window.history.pushState(null,"",s),t.scrollIntoView({behavior:"smooth",block:"start"}),t.focus();try{await navigator.clipboard.writeText(s.href);let i=e.innerHTML;e.innerHTML='<icon-wc name="check" size="sm"></icon-wc>',e.classList.add("copied"),setTimeout(()=>{e.innerHTML=i,e.classList.remove("copied")},1500),this.#a("Link copied to clipboard")}catch{}this.dispatchEvent(new CustomEvent("heading-navigate",{bubbles:!0,detail:{id:t.id,url:s.href}}))}#a(t){let e=document.createElement("div");e.setAttribute("role","status"),e.setAttribute("aria-live","polite"),e.className="sr-only",e.textContent=t,this.appendChild(e),setTimeout(()=>e.remove(),1e3)}};customElements.define("heading-links",D);var N=class extends HTMLElement{#e;#t=[];#i=new Map;#n;#s;#r;#o=!1;connectedCallback(){requestAnimationFrame(()=>this.#l())}disconnectedCallback(){this.#h()}#l(){this.#o=this.#a(),this.#o?this.#c():this.#v(),this.#w(),this.#u(),this.#f()}#a(){return this.querySelector("nav, details")!==null}#c(){this.#s=this.querySelector("details");let t=this.querySelectorAll('a[href^="#"]');for(let e of t){let i=e.getAttribute("href").slice(1);if(i){let n=document.getElementById(i);n&&(this.#t.push(n),this.#i.set(i,e),e.classList.contains("link")||e.classList.add("link"),e.addEventListener("click",o=>{o.preventDefault(),this.#m(n)}))}}}#h(){this.#e?.disconnect(),this.#n?.removeEventListener("change",this.#p),window.removeEventListener("resize",this.#d),window.removeEventListener("hashchange",this.#b),clearTimeout(this.#r)}#u(){this.#n=window.matchMedia("(min-width: 1024px)"),this.#p=this.#p.bind(this),this.#d=this.#d.bind(this),this.#n.addEventListener("change",this.#p),window.addEventListener("resize",this.#d)}#p=t=>{t.matches&&this.#s&&(this.#s.open=!0)};#d=()=>{clearTimeout(this.#r),this.#r=setTimeout(()=>this.#g(),150)};#f(){this.#b=this.#b.bind(this),window.addEventListener("hashchange",this.#b),this.#g()}#b=()=>{this.#g()};#g(){let t=window.location.hash.slice(1);t&&this.#i.has(t)&&this.#E(t)}#E(t){for(let s of this.#i.values())s.classList.remove("active"),s.removeAttribute("aria-current");let e=this.#i.get(t);e&&(e.classList.add("active"),e.setAttribute("aria-current","true"))}#v(){let t=this.dataset.levels||"h2,h3",e=this.dataset.scope||"main",s=this.dataset.title||"On this page",i=document.querySelector(e);if(!i)return;let n=t.split(",").map(c=>c.trim()).join(",");if(this.#t=Array.from(i.querySelectorAll(n)).filter(c=>c.id),this.#t.length===0)return;this.#s=document.createElement("details"),this.#s.className="details",this.#s.open=!0;let o=this.#s,r=document.createElement("summary");r.className="summary",r.textContent=s,o.appendChild(r);let l=document.createElement("nav");l.className="nav",l.setAttribute("aria-label",s);let h=document.createElement("ul");h.className="list";let d=t.split(",").map(c=>c.trim().toLowerCase());for(let c of this.#t){let p=c.tagName.toLowerCase(),b=d.indexOf(p),W=b>=0?b:0,g=document.createElement("li");g.className="item",g.dataset.level=W;let m=document.createElement("a");m.href=`#${c.id}`,m.className="link",m.textContent=this.#y(c),m.addEventListener("click",X=>{X.preventDefault(),this.#m(c)}),g.appendChild(m),h.appendChild(g),this.#i.set(c.id,m)}l.appendChild(h),o.appendChild(l),this.appendChild(o)}#y(t){let e=t.cloneNode(!0);return e.querySelectorAll(".heading-anchor").forEach(i=>i.remove()),e.textContent.trim()}#m(t){let e=new URL(window.location.href);e.hash=t.id,window.history.pushState(null,"",e),t.scrollIntoView({behavior:"smooth",block:"start"}),t.focus(),this.dispatchEvent(new CustomEvent("toc-navigate",{bubbles:!0,detail:{id:t.id}}))}#w(){if(this.#t.length===0)return;let t=new Set;this.#e=new IntersectionObserver(e=>{for(let s of e)s.isIntersecting?t.add(s.target.id):t.delete(s.target.id);this.#A(t)},{rootMargin:"-80px 0px -70% 0px",threshold:0});for(let e of this.#t)this.#e.observe(e)}#A(t){for(let e of this.#t)if(t.has(e.id)){this.#E(e.id);return}this.#g()}refresh(){this.#o||(this.innerHTML=""),this.#i.clear(),this.#t=[],this.#e?.disconnect(),this.#l()}};customElements.define("page-toc",N);var O=class extends HTMLElement{#e;#t;#i=[];#n=[];#s=[];#r=-1;#o=null;#l=1;#a=0;#c=null;#h=null;#u=null;#p="";#d=null;#f=null;connectedCallback(){this.#e=this.querySelector(":scope > table"),this.#e&&(this.#t=this.#e.querySelector("tbody"),this.#t&&this.#b())}disconnectedCallback(){this.#g()}#b(){this.#n=[...this.#t.querySelectorAll(":scope > tr")],this.#s=[...this.#n],this.#E(),this.#e.hasAttribute("data-filterable")&&this.#k();let t=this.#e.getAttribute("data-paginate");t&&(this.#a=parseInt(t,10),this.#a>0&&this.#N()),this.#L(),this.#D(),this.#$()}#g(){this.#u&&clearTimeout(this.#u),this.#c?.parentElement?.remove(),this.#h?.remove(),this.#i.forEach(({th:t})=>{t.removeEventListener("click",this.#y),t.removeEventListener("keydown",this.#m)}),this.#e?.removeEventListener("click",this.#q),this.#d?.removeEventListener("change",this.#T),this.#t?.removeEventListener("change",this.#C)}#E(){this.#e.querySelectorAll("thead th[data-sort]").forEach((e,s)=>{let i=e.getAttribute("data-sort"),n=this.#v(e);this.#i.push({th:e,sortType:i,columnIndex:n}),e.setAttribute("tabindex","0"),e.setAttribute("role","columnheader"),e.setAttribute("aria-sort","none"),e.dataset.columnIndex=n,e.addEventListener("click",this.#y),e.addEventListener("keydown",this.#m)})}#v(t){return[...t.parentElement.children].indexOf(t)}#y=t=>{let e=t.currentTarget,s=parseInt(e.dataset.columnIndex,10);this.#w(s)};#m=t=>{if(t.key==="Enter"||t.key===" "){t.preventDefault();let e=t.currentTarget,s=parseInt(e.dataset.columnIndex,10);this.#w(s)}};#w(t){let e=this.#i.find(i=>i.columnIndex===t);if(!e)return;let s;this.#r===t?s=this.#o==="asc"?"desc":"asc":s="asc",this.#i.forEach(({th:i})=>{i.removeAttribute("data-state-sorted"),i.setAttribute("aria-sort","none")}),e.th.setAttribute("data-state-sorted",s),e.th.setAttribute("aria-sort",s==="asc"?"ascending":"descending"),this.#r=t,this.#o=s,this.#A(t,s,e.sortType),this.#l=1,this.#$(),this.dispatchEvent(new CustomEvent("table:sort",{detail:{column:t,direction:s,columnName:e.th.textContent.trim()},bubbles:!0}))}#A(t,e,s){let i=e==="asc"?1:-1;this.#s.sort((n,o)=>{let r=n.children[t],l=o.children[t];if(!r||!l)return 0;let h=this.#x(r,s),d=this.#x(l,s),c=0;switch(s){case"number":c=h-d;break;case"date":c=h-d;break;default:c=h.localeCompare(d,void 0,{numeric:!0,sensitivity:"base"});break}return c*i})}#x(t,e){let i=t.getAttribute("data-sort-value")??t.textContent.trim();switch(e){case"number":return parseFloat(i)||0;case"date":return new Date(i).getTime()||0;default:return i.toLowerCase()}}#k(){let t=document.createElement("div");t.setAttribute("data-table-filter","");let e=document.createElement("input");e.type="search",e.setAttribute("data-filter-input",""),e.setAttribute("placeholder","Filter table..."),e.setAttribute("aria-label","Filter table rows"),t.appendChild(e),this.insertBefore(t,this.#e),this.#c=e,e.addEventListener("input",this.#H)}#H=t=>{let e=t.target.value;this.#u&&clearTimeout(this.#u),this.#u=setTimeout(()=>{this.#S(e)},150)};#S(t){if(this.#p=t.toLowerCase().trim(),this.#p===""?this.#s=[...this.#n]:this.#s=this.#n.filter(e=>[...e.children].some(i=>(i.getAttribute("data-filter-value")??i.textContent).toLowerCase().includes(this.#p))),this.#r>=0&&this.#o){let e=this.#i.find(s=>s.columnIndex===this.#r);e&&this.#A(this.#r,this.#o,e.sortType)}this.#l=1,this.#$(),this.dispatchEvent(new CustomEvent("table:filter",{detail:{query:this.#p,count:this.#s.length},bubbles:!0}))}#N(){let t=document.createElement("nav");t.setAttribute("data-pagination",""),t.setAttribute("aria-label","Table pagination"),this.appendChild(t),this.#h=t}#L(){this.#e.addEventListener("click",this.#q)}#q=t=>{let e=t.target.closest('[data-action="toggle-expand"]');if(!e)return;let s=e.closest("tr[data-expandable]");if(!s)return;let i=s.hasAttribute("data-state-expanded"),n=s.nextElementSibling;i?(s.removeAttribute("data-state-expanded"),e.setAttribute("aria-expanded","false"),n?.hasAttribute("data-expand-content")&&(n.hidden=!0,n.setAttribute("aria-hidden","true"))):(s.setAttribute("data-state-expanded",""),e.setAttribute("aria-expanded","true"),n?.hasAttribute("data-expand-content")&&(n.hidden=!1,n.removeAttribute("aria-hidden"))),this.dispatchEvent(new CustomEvent("table:expand",{detail:{row:s,expanded:!i},bubbles:!0}))};#D(){this.#d=this.#e.querySelector('thead [data-action="select-all"]'),this.#d&&this.#d.addEventListener("change",this.#T),this.#t.addEventListener("change",this.#C),this.#f=document.querySelector("[data-selected-count]"),this.#M()}#T=t=>{let e=t.target.checked;this.#t.querySelectorAll("tr[data-selectable]").forEach(i=>{let n=i.querySelector('[data-action="select-row"]');e?(i.setAttribute("data-state-selected",""),n&&(n.checked=!0)):(i.removeAttribute("data-state-selected"),n&&(n.checked=!1))}),t.target.indeterminate=!1,this.#I(),this.#O()};#C=t=>{let e=t.target.closest('[data-action="select-row"]');if(!e)return;let s=e.closest("tr[data-selectable]");s&&(e.checked?s.setAttribute("data-state-selected",""):s.removeAttribute("data-state-selected"),this.#M(),this.#O())};#M(){if(!this.#d){this.#I();return}let t=this.#t.querySelectorAll("tr[data-selectable]"),e=this.#t.querySelectorAll("tr[data-selectable][data-state-selected]"),s=t.length,i=e.length;i===0?(this.#d.checked=!1,this.#d.indeterminate=!1):i===s?(this.#d.checked=!0,this.#d.indeterminate=!1):(this.#d.checked=!1,this.#d.indeterminate=!0),this.#I()}#I(){let e=this.#t.querySelectorAll("tr[data-selectable][data-state-selected]").length;this.#f&&(this.#f.textContent=e)}#O(){let t=[...this.#t.querySelectorAll("tr[data-selectable][data-state-selected]")];this.dispatchEvent(new CustomEvent("table:selection",{detail:{count:t.length,rows:t},bubbles:!0}))}#_(){if(!this.#h||this.#a<=0)return;let t=Math.ceil(this.#s.length/this.#a);if(this.#h.innerHTML="",t<=1)return;let e=document.createElement("button");e.type="button",e.textContent="Previous",e.setAttribute("data-pagination-prev",""),e.disabled=this.#l===1,e.addEventListener("click",()=>this.goToPage(this.#l-1)),this.#h.appendChild(e),this.#R(t).forEach(n=>{if(n==="..."){let o=document.createElement("span");o.textContent="...",o.setAttribute("data-pagination-ellipsis",""),this.#h.appendChild(o)}else{let o=document.createElement("button");o.type="button",o.textContent=n,o.setAttribute("data-pagination-page",""),n===this.#l&&(o.setAttribute("aria-current","page"),o.setAttribute("data-current","")),o.addEventListener("click",()=>this.goToPage(n)),this.#h.appendChild(o)}});let i=document.createElement("button");i.type="button",i.textContent="Next",i.setAttribute("data-pagination-next",""),i.disabled=this.#l===t,i.addEventListener("click",()=>this.goToPage(this.#l+1)),this.#h.appendChild(i)}#R(t){let e=this.#l,s=[];if(t<=7)for(let i=1;i<=t;i++)s.push(i);else{s.push(1),e>3&&s.push("...");let i=Math.max(2,e-1),n=Math.min(t-1,e+1);for(let o=i;o<=n;o++)s.push(o);e<t-2&&s.push("..."),s.push(t)}return s}#$(){this.#n.forEach(e=>{e.setAttribute("data-state-hidden","")});let t;if(this.#a>0){let e=(this.#l-1)*this.#a,s=e+this.#a;t=this.#s.slice(e,s)}else t=this.#s;t.forEach(e=>{e.removeAttribute("data-state-hidden"),this.#t.appendChild(e)}),this.#s.forEach(e=>{e.hasAttribute("data-state-hidden")&&this.#t.appendChild(e)}),this.#n.forEach(e=>{this.#s.includes(e)||this.#t.appendChild(e)}),this.#_()}goToPage(t){let e=Math.ceil(this.#s.length/this.#a),s=Math.max(1,Math.min(t,e));s!==this.#l&&(this.#l=s,this.#$(),this.dispatchEvent(new CustomEvent("table:page",{detail:{page:this.#l},bubbles:!0})))}setFilter(t){this.#c&&(this.#c.value=t),this.#S(t)}refresh(){if(this.#n=[...this.#t.querySelectorAll(":scope > tr")],this.#p?this.#S(this.#p):this.#s=[...this.#n],this.#r>=0&&this.#o){let e=this.#i.find(s=>s.columnIndex===this.#r);e&&this.#A(this.#r,this.#o,e.sortType)}let t=Math.max(1,Math.ceil(this.#s.length/this.#a));this.#l>t&&(this.#l=t),this.#$()}get currentPage(){return this.#l}get totalPages(){return this.#a<=0?1:Math.ceil(this.#s.length/this.#a)}get filteredCount(){return this.#s.length}get totalCount(){return this.#n.length}getSelectedRows(){return this.#t?[...this.#t.querySelectorAll("tr[data-selectable][data-state-selected]")]:[]}};customElements.define("table-wc",O);var _=class a extends HTMLElement{static#e=150;static#t=8;#i;#n;#s;#r;#o=[];#l=-1;#a=!1;#c=null;#h=null;connectedCallback(){this.#u(),this.#p()}disconnectedCallback(){document.removeEventListener("keydown",this.#f),this.#k()}#u(){this.#i=this.querySelector(":scope > [data-trigger]"),this.#i||(this.#i=this.querySelector(":scope > button")),this.#i||(this.#i=document.createElement("button"),this.#i.setAttribute("data-trigger",""),this.#i.innerHTML=`
        <x-icon name="search" label="Search"></x-icon>
      `,this.prepend(this.#i)),this.#i.setAttribute("aria-haspopup","dialog"),this.#i.setAttribute("aria-expanded","false"),this.#n=document.createElement("div"),this.#n.className="dialog",this.#n.setAttribute("role","dialog"),this.#n.setAttribute("aria-label","Site search"),this.#n.id=`search-dialog-${crypto.randomUUID().slice(0,8)}`,this.#i.setAttribute("aria-controls",this.#n.id),this.#n.innerHTML=`
      <div class="backdrop"></div>
      <div class="panel">
        <div class="input-wrapper">
          <x-icon name="search" class="icon"></x-icon>
          <input
            type="search"
            class="input"
            placeholder="Search documentation..."
            autocomplete="off"
            autocorrect="off"
            autocapitalize="off"
            spellcheck="false"
            aria-label="Search"
            aria-autocomplete="list"
          />
          <kbd class="shortcut">Esc</kbd>
        </div>
        <div class="results" role="listbox" aria-label="Search results"></div>
        <div class="footer">
          <span class="hint">
            <kbd>\u2191</kbd><kbd>\u2193</kbd> to navigate
            <kbd>\u21B5</kbd> to select
            <kbd>esc</kbd> to close
          </span>
          <span class="powered">
            Powered by <a href="https://pagefind.app" target="_blank" rel="noopener">Pagefind</a>
          </span>
        </div>
      </div>
    `,this.appendChild(this.#n),this.#s=this.#n.querySelector(".input"),this.#r=this.#n.querySelector(".results")}#p(){this.#i.addEventListener("click",this.#d),document.addEventListener("keydown",this.#f),this.#n.querySelector(".backdrop").addEventListener("click",()=>this.close()),this.#s.addEventListener("input",this.#b),this.#s.addEventListener("keydown",this.#g),this.#r.addEventListener("click",this.#E)}#d=t=>{t.stopPropagation(),this.open()};#f=t=>{if((t.metaKey||t.ctrlKey)&&t.key==="k"){t.preventDefault(),this.#a?this.close():this.open();return}t.key==="Escape"&&this.#a&&(t.preventDefault(),this.close())};#b=()=>{this.#k(),this.#h=setTimeout(()=>{this.#y(this.#s.value)},a.#e)};#g=t=>{switch(t.key){case"ArrowDown":t.preventDefault(),this.#A(this.#l+1);break;case"ArrowUp":t.preventDefault(),this.#A(this.#l-1);break;case"Enter":t.preventDefault(),this.#l>=0&&this.#o[this.#l]&&this.#x(this.#o[this.#l]);break}};#E=t=>{let e=t.target.closest("[data-result-index]");if(e){let s=parseInt(e.dataset.resultIndex,10);this.#o[s]&&this.#x(this.#o[s])}};async#v(){if(!this.#c)try{let t=new Function('return import("/pagefind/pagefind.js")');this.#c=await t(),await this.#c.options({excerptLength:20})}catch{console.warn("Pagefind not available. Run `npm run search:dev` to build the search index."),this.#c=null}}async#y(t){if(!t.trim()){this.#m([]);return}if(await this.#v(),!this.#c){this.#w();return}try{this.#r.innerHTML='<div class="loading">Searching...</div>';let e=await this.#c.search(t),s=await Promise.all(e.results.slice(0,a.#t).map(i=>i.data()));this.#o=s,this.#m(s)}catch(e){console.error("Search error:",e),this.#r.innerHTML='<div class="error">Search error. Please try again.</div>'}}#m(t){if(this.#l=-1,t.length===0){this.#s.value.trim()?this.#r.innerHTML='<div class="empty">No results found</div>':this.#r.innerHTML="";return}this.#r.innerHTML=t.map((e,s)=>`
      <a
        href="${e.url}"
        class="result"
        role="option"
        data-result-index="${s}"
        tabindex="-1"
      >
        <span class="result-title">${e.meta?.title||"Untitled"}</span>
        <span class="result-excerpt">${e.excerpt||""}</span>
      </a>
    `).join("")}#w(){this.#r.innerHTML=`
      <div class="error">
        Search index not found.<br>
        Run <code>npx pagefind --site dist</code> after building.
      </div>
    `}#A(t){if(this.#o.length===0)return;t<0&&(t=this.#o.length-1),t>=this.#o.length&&(t=0);let e=this.#r.querySelector("[data-active]");e&&e.removeAttribute("data-active"),this.#l=t;let s=this.#r.querySelector(`[data-result-index="${t}"]`);s&&(s.setAttribute("data-active",""),s.scrollIntoView({block:"nearest"}))}#x(t){t.url&&(this.close(),window.location.href=t.url)}#k(){this.#h&&(clearTimeout(this.#h),this.#h=null)}open(){this.#a||(this.#a=!0,this.setAttribute("data-open",""),this.#i?.setAttribute("aria-expanded","true"),document.body.style.overflow="hidden",requestAnimationFrame(()=>{this.#s?.focus(),this.#s?.select()}),this.#v(),this.dispatchEvent(new CustomEvent("search-wc-open",{bubbles:!0})))}close(){this.#a&&(this.#a=!1,this.removeAttribute("data-open"),this.#i?.setAttribute("aria-expanded","false"),document.body.style.overflow="",this.#k(),this.#s.value="",this.#o=[],this.#l=-1,this.#r.innerHTML="",this.#i?.focus(),this.dispatchEvent(new CustomEvent("search-wc-close",{bubbles:!0})))}get isOpen(){return this.#a}};customElements.define("search-wc",_);var Z=/^[a-zA-Z_$][a-zA-Z0-9_$]*(\.[a-zA-Z_$][a-zA-Z0-9_$]*|\[\d+\])*$/;function K(a){return!a||typeof a!="string"?!1:Z.test(a.trim())}function f(a,t){if(!K(t)){console.warn(`[card-list] Unsafe property path rejected: "${t}"`);return}let s=t.replace(/\[(\d+)\]/g,".$1").split("."),i=a;for(let n of s){if(i==null)return;i=i[n]}return i}function tt(a){if(!a||typeof a!="string")return"";let t=document.createElement("template");return t.innerHTML=a,t.content.querySelectorAll("script, iframe, object, embed, form").forEach(i=>i.remove()),t.content.querySelectorAll("*").forEach(i=>{[...i.attributes].forEach(n=>{(n.name.startsWith("on")||n.name==="href"&&n.value.startsWith("javascript:"))&&i.removeAttribute(n.name)})}),t.innerHTML}function et(a){return a?a.split(",").map(t=>{let[e,s]=t.split(":").map(i=>i.trim());return{attr:e,path:s}}).filter(({attr:t,path:e})=>t&&e):[]}var R=class extends HTMLElement{#e=null;#t=[];#i="id";static get observedAttributes(){return["src","data-items","data-key"]}connectedCallback(){if(this.#e=this.querySelector("template"),!this.#e){console.warn("[card-list] No template found");return}this.#i=this.getAttribute("data-key")||"id";let t=this.getAttribute("data-items");if(t){try{this.#t=JSON.parse(t),this.#s()}catch(s){console.error("[card-list] Invalid JSON in data-items:",s)}return}let e=this.getAttribute("src");e&&this.#n(e)}attributeChangedCallback(t,e,s){if(e!==s)if(t==="data-items"&&s)try{this.#t=JSON.parse(s),this.#s()}catch(i){console.error("[card-list] Invalid JSON in data-items:",i)}else t==="src"&&s?this.#n(s):t==="data-key"&&(this.#i=s||"id",this.#s())}async#n(t){try{this.setAttribute("data-loading","");let e=await fetch(t);if(!e.ok)throw new Error(`HTTP ${e.status}`);let s=await e.json();this.#t=Array.isArray(s)?s:s.items||s.data||[],this.#s()}catch(e){console.error("[card-list] Fetch error:",e),this.setAttribute("data-error",e.message)}finally{this.removeAttribute("data-loading")}}#s(){if(!this.#e)return;this.querySelectorAll(":scope > :not(template)").forEach(s=>s.remove());let e=document.createDocumentFragment();for(let s of this.#t){let i=this.#e.content.cloneNode(!0);this.#r(i,s),e.appendChild(i)}this.appendChild(e),this.dispatchEvent(new CustomEvent("card-list-render",{detail:{count:this.#t.length},bubbles:!0}))}#r(t,e){t.querySelectorAll("[data-field]").forEach(s=>{let i=s.getAttribute("data-field"),n=f(e,i);s.textContent=n??""}),t.querySelectorAll("[data-field-attr]").forEach(s=>{let i=et(s.getAttribute("data-field-attr"));for(let{attr:n,path:o}of i){if(!K(o))continue;let r=f(e,o);r!=null&&s.setAttribute(n,r)}}),t.querySelectorAll("[data-field-html]").forEach(s=>{let i=s.getAttribute("data-field-html"),n=f(e,i);s.innerHTML=tt(n)}),t.querySelectorAll("[data-field-if]").forEach(s=>{let i=s.getAttribute("data-field-if");f(e,i)||s.remove()}),t.querySelectorAll("[data-field-unless]").forEach(s=>{let i=s.getAttribute("data-field-unless");f(e,i)&&s.remove()})}setItems(t){this.#t=Array.isArray(t)?t:[],this.#s()}getItems(){return[...this.#t]}};customElements.define("card-list",R);function J(a=document){a.querySelectorAll("[aria-describedby]").forEach(t=>{let e=t.getAttribute("aria-describedby"),s=document.getElementById(e);if(!s?.hasAttribute("popover")||!s.matches('[role="tooltip"]')||t.closest("tooltip-wc")||t.hasAttribute("data-tooltip-init"))return;t.setAttribute("data-tooltip-init","");let i=null,n=null,o=()=>{clearTimeout(n),i=setTimeout(()=>{s.showPopover(),P(t,s)},200)},r=()=>{clearTimeout(i),n=setTimeout(()=>{s.hidePopover()},100)},l=()=>{clearTimeout(n),s.showPopover(),P(t,s)},h=()=>{clearTimeout(i),s.hidePopover()};t.addEventListener("mouseenter",o),t.addEventListener("mouseleave",r),t.addEventListener("focus",l),t.addEventListener("blur",h),s.addEventListener("mouseenter",()=>clearTimeout(n)),s.addEventListener("mouseleave",r)}),a.querySelectorAll("[popovertarget]").forEach(t=>{let e=t.getAttribute("popovertarget"),s=document.getElementById(e);!s?.hasAttribute("popover")||!s.matches('[role="tooltip"]')||s.hasAttribute("data-tooltip-click-init")||(s.setAttribute("data-tooltip-click-init",""),s.addEventListener("toggle",i=>{i.newState==="open"&&P(t,s)}))})}function P(a,t){let e=a.getBoundingClientRect(),s=t.dataset.position||"top",i=8,n=t.getBoundingClientRect(),o,r;switch(s){case"bottom":o=e.bottom+i,r=e.left+(e.width-n.width)/2;break;case"left":o=e.top+(e.height-n.height)/2,r=e.left-n.width-i;break;case"right":o=e.top+(e.height-n.height)/2,r=e.right+i;break;default:o=e.top-n.height-i,r=e.left+(e.width-n.width)/2;break}let l=8;r=Math.max(l,Math.min(r,window.innerWidth-n.width-l)),o=Math.max(l,Math.min(o,window.innerHeight-n.height-l)),t.style.top=`${o}px`,t.style.left=`${r}px`}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>J()):J();function Y(a){document.querySelectorAll("browser-window").forEach(t=>{t.setAttribute("mode",a)}),document.querySelectorAll("code-block").forEach(t=>{t.setAttribute("theme",a)})}function G(){let{effectiveMode:a}=u.getState();Y(a),window.addEventListener("theme-change",e=>{Y(e.detail.effectiveMode)}),new MutationObserver(e=>{let{effectiveMode:s}=u.getState();for(let i of e)for(let n of i.addedNodes)n.nodeType===Node.ELEMENT_NODE&&(n.tagName==="BROWSER-WINDOW"?n.setAttribute("mode",s):n.tagName==="CODE-BLOCK"&&n.setAttribute("theme",s),n.querySelectorAll?.("browser-window").forEach(o=>{o.setAttribute("mode",s)}),n.querySelectorAll?.("code-block").forEach(o=>{o.setAttribute("theme",s)}))}).observe(document.body,{childList:!0,subtree:!0})}var w={"semantic-card":{validChildren:["header","section","footer"],validSlots:["header","content","footer"],rules:{maxHeader:1,maxFooter:1,order:["header","section","footer"]}}};function st(){return document.documentElement.hasAttribute("data-debug")||localStorage.getItem("vanillaBreeze.debug")==="true"}function it(a,t,e){let s=[],i=Array.from(a.children),n={header:0,section:0,footer:0},o=[];for(let h of i){let d=h.tagName.toLowerCase(),c=h.getAttribute("slot");if(e.validChildren.includes(d)){n[d]++,o.push(d);continue}if(c&&e.validSlots.includes(c)){let p=c==="content"?"section":c;o.push(p);continue}}e.rules.maxHeader&&n.header>e.rules.maxHeader&&s.push({type:"duplicate",message:`Multiple <header> elements found (max: ${e.rules.maxHeader})`,element:a}),e.rules.maxFooter&&n.footer>e.rules.maxFooter&&s.push({type:"duplicate",message:`Multiple <footer> elements found (max: ${e.rules.maxFooter})`,element:a});let r=e.rules.order,l=-1;for(let h of o){let d=r.indexOf(h);if(d!==-1&&d<l){s.push({type:"order",message:`Invalid child order: <${h}> should appear before elements that follow it in the semantic order (header > section > footer)`,element:a});break}d!==-1&&(l=d)}return s}function nt(a){for(let t of a)console.warn(`[Vanilla Breeze] Content model warning in <${t.element.tagName.toLowerCase()}>:`,t.message,t.element),t.element.setAttribute("data-debug-invalid",""),t.element.setAttribute("data-debug-message",t.message)}function at(a){a.removeAttribute("data-debug-invalid"),a.removeAttribute("data-debug-message")}function z(){for(let[a,t]of Object.entries(w)){let e=document.querySelectorAll(a);for(let s of e){at(s);let i=it(s,a,t);i.length>0&&nt(i)}}}function ot(){if(!st())return;console.info("[Vanilla Breeze] Debug mode enabled - content model validation active"),document.readyState==="loading"?document.addEventListener("DOMContentLoaded",z):z(),new MutationObserver(t=>{let e=!1;for(let s of t)if(s.type==="childList"){let i=s.target;if(i.tagName&&w[i.tagName.toLowerCase()]){e=!0;break}for(let n of s.addedNodes)if(n.nodeType===Node.ELEMENT_NODE&&(w[n.tagName.toLowerCase()]||n.querySelector(Object.keys(w).join(",")))){e=!0;break}}e&&z()}).observe(document.body,{childList:!0,subtree:!0})}ot();u.init();G();
