var w="vb-theme",v={mode:"auto",brand:"default"},u={init(){let a=this.load();return this.apply(a),this._watchSystemPreference(),a},load(){try{let a=localStorage.getItem(w);return a?{...v,...JSON.parse(a)}:{...v}}catch{return{...v}}},save(a){let e={...this.load(),...a};try{localStorage.setItem(w,JSON.stringify(e))}catch{}return e},apply({mode:a="auto",brand:t="default"}={}){let e=document.documentElement;a==="auto"?delete e.dataset.mode:e.dataset.mode=a,t==="default"?delete e.dataset.theme:e.dataset.theme=t,window.dispatchEvent(new CustomEvent("theme-change",{detail:{mode:a,brand:t,effectiveMode:this.getEffectiveMode()}}))},setMode(a){let t=this.save({mode:a});this.apply(t)},setBrand(a){let t=this.save({brand:a});this.apply(t)},getEffectiveMode(){let{mode:a}=this.load();return a!=="auto"?a:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"},getState(){let{mode:a,brand:t}=this.load();return{mode:a,brand:t,effectiveMode:this.getEffectiveMode()}},toggleMode(){let t=this.getEffectiveMode()==="dark"?"light":"dark";this.setMode(t)},reset(){try{localStorage.removeItem(w)}catch{}this.apply(v)},_watchSystemPreference(){window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{let{mode:t,brand:e}=this.load();t==="auto"&&window.dispatchEvent(new CustomEvent("theme-change",{detail:{mode:t,brand:e,effectiveMode:this.getEffectiveMode()}}))})}};var K=["layout-text","layout-reel"];K.forEach(a=>{customElements.get(a)||customElements.define(a,class extends HTMLElement{})});var y=class extends HTMLElement{#e;#t;connectedCallback(){this.#e=[...this.querySelectorAll(":scope > details")],this.#t=this.#e.map(t=>t.querySelector("summary")),this.#e.length!==0&&(this.#i(),this.#r())}#i(){this.setAttribute("role","tablist"),this.#e.forEach((t,e)=>{let s=this.#t[e],i=t.querySelector(":scope > :not(summary)");if(!s||!i)return;let n=s.id||`tab-${crypto.randomUUID().slice(0,8)}`,r=i.id||`panel-${crypto.randomUUID().slice(0,8)}`;s.id=n,s.setAttribute("role","tab"),s.setAttribute("aria-controls",r),s.setAttribute("aria-selected",t.open?"true":"false"),s.setAttribute("tabindex",t.open?"0":"-1"),i.id=r,i.setAttribute("role","tabpanel"),i.setAttribute("aria-labelledby",n),s.addEventListener("keydown",o=>this.#n(o,e)),t.addEventListener("toggle",()=>this.#s(e))})}#r(){!this.#e.some(e=>e.open)&&this.#e.length>0&&(this.#e[0].open=!0,this.#o())}#s(t){this.#o(),this.dispatchEvent(new CustomEvent("tab-change",{detail:{index:t},bubbles:!0}))}#o(){this.#e.forEach((t,e)=>{let s=this.#t[e],i=t.open;s.setAttribute("aria-selected",String(i)),s.setAttribute("tabindex",i?"0":"-1")})}#n(t,e){let{key:s}=t,i;switch(s){case"ArrowRight":i=(e+1)%this.#e.length;break;case"ArrowLeft":i=(e-1+this.#e.length)%this.#e.length;break;case"Home":i=0;break;case"End":i=this.#e.length-1;break;default:return}t.preventDefault(),this.#e[i].open=!0,this.#t[i].focus()}};customElements.define("tabs-wc",y);var A=class a extends HTMLElement{static#e=0;#t;#i=[];#r="Back to content";connectedCallback(){this.#t=++a.#e,this.hasAttribute("data-back-label")&&(this.#r=this.getAttribute("data-back-label")),this.#s(),this.#o()}#s(){let t=[...document.querySelectorAll("foot-note:not([data-enhanced])")];this.#i=t.filter(e=>this.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_PRECEDING)}#o(){if(this.#i.length===0)return;let t=document.createElement("ol");this.#i.forEach((e,s)=>{let i=s+1,n=`fnref-${this.#t}-${i}`,r=`fn-${this.#t}-${i}`;this.#n(e,i,n,r);let o=this.#a(e,i,n,r);t.appendChild(o)}),this.appendChild(t)}#n(t,e,s,i){t.setAttribute("data-enhanced",""),t.id=s;let n=t.innerHTML,r=document.createElement("span");r.innerHTML=n;let o=document.createElement("a");o.href=`#${i}`,o.setAttribute("aria-describedby",i),o.textContent=`[${e}]`,t.innerHTML="",t.appendChild(r),t.appendChild(o)}#a(t,e,s,i){let n=document.createElement("li");n.id=i;let r=t.querySelector("span"),o=r?r.innerHTML:"",l=document.createElement("a");return l.href=`#${s}`,l.setAttribute("data-backref",""),l.setAttribute("aria-label",this.#r),l.textContent="\u21A9",n.innerHTML=o+" ",n.appendChild(l),n}},k=class extends HTMLElement{};customElements.define("footnotes-wc",A);customElements.define("foot-note",k);var L=class extends HTMLElement{#e;#t;connectedCallback(){this.#e=[...this.querySelectorAll(":scope > details")],this.#t=this.#e.map(t=>t.querySelector("summary")),this.#e.length!==0&&this.#i()}#i(){this.#e.forEach((t,e)=>{let s=this.#t[e],i=t.querySelector(":scope > :not(summary)");if(!s||!i)return;let n=s.id||`accordion-heading-${crypto.randomUUID().slice(0,8)}`,r=i.id||`accordion-panel-${crypto.randomUUID().slice(0,8)}`;s.id=n,i.id=r,s.setAttribute("aria-expanded",t.open?"true":"false"),s.setAttribute("aria-controls",r),i.setAttribute("aria-labelledby",n),i.setAttribute("role","region"),s.addEventListener("keydown",o=>this.#s(o,e)),t.addEventListener("toggle",()=>this.#r(t,e))})}#r(t,e){this.#t[e].setAttribute("aria-expanded",t.open?"true":"false"),this.hasAttribute("data-single")&&t.open&&this.#e.forEach((i,n)=>{n!==e&&i.open&&(i.open=!1,this.#t[n].setAttribute("aria-expanded","false"))}),this.dispatchEvent(new CustomEvent("accordion-toggle",{detail:{index:e,open:t.open},bubbles:!0}))}#s(t,e){let{key:s}=t,i;switch(s){case"ArrowDown":i=(e+1)%this.#e.length;break;case"ArrowUp":i=(e-1+this.#e.length)%this.#e.length;break;case"Home":i=0;break;case"End":i=this.#e.length-1;break;default:return}t.preventDefault(),this.#t[i].focus()}open(t){t>=0&&t<this.#e.length&&(this.#e[t].open=!0)}close(t){t>=0&&t<this.#e.length&&(this.#e[t].open=!1)}toggle(t){t>=0&&t<this.#e.length&&(this.#e[t].open=!this.#e[t].open)}openAll(){this.hasAttribute("data-single")||this.#e.forEach(t=>{t.open=!0})}closeAll(){this.#e.forEach(t=>{t.open=!1})}};customElements.define("accordion-wc",L);var x=class extends HTMLElement{#e=[];#t=[];static get observedAttributes(){return["data-position","data-max"]}connectedCallback(){this.setAttribute("role","region"),this.setAttribute("aria-label","Notifications"),this.setAttribute("aria-live","polite")}show(t){let{message:e,variant:s="info",duration:i=this.#o(),dismissible:n=!0,action:r,onAction:o}=t,l=this.#i({message:e,variant:s,dismissible:n,action:r,onAction:o}),c=this.#n();return this.#t.length>=c?this.#e.push({toast:l,duration:i}):this.#r(l,i),l}#i({message:t,variant:e,dismissible:s,action:i,onAction:n}){let r=document.createElement("div");r.className="toast",r.setAttribute("role","alert"),r.setAttribute("data-variant",e);let o={info:"&#9432;",success:"&#10003;",warning:"&#9888;",error:"&#10007;"};return r.innerHTML=`
      <span class="icon" aria-hidden="true">${o[e]||o.info}</span>
      <span class="message">${this.#a(t)}</span>
      ${i?`<button type="button" class="action">${this.#a(i)}</button>`:""}
      ${s?'<button type="button" class="close" aria-label="Dismiss">&#x2715;</button>':""}
    `,s&&r.querySelector(".close").addEventListener("click",()=>{this.#s(r)}),i&&n&&r.querySelector(".action").addEventListener("click",()=>{n(),this.#s(r)}),r}#r(t,e){this.appendChild(t),this.#t.push(t),requestAnimationFrame(()=>{t.setAttribute("data-state","visible")}),e>0&&(t._dismissTimer=setTimeout(()=>{this.#s(t)},e)),this.dispatchEvent(new CustomEvent("toast-show",{bubbles:!0,detail:{toast:t}}))}#s(t){if(!this.contains(t))return;t._dismissTimer&&clearTimeout(t._dismissTimer),t.setAttribute("data-state","hiding");let e=()=>{t.removeEventListener("animationend",e),t.remove();let s=this.#t.indexOf(t);if(s>-1&&this.#t.splice(s,1),this.#e.length>0){let{toast:i,duration:n}=this.#e.shift();this.#r(i,n)}this.dispatchEvent(new CustomEvent("toast-hide",{bubbles:!0,detail:{toast:t}}))};t.addEventListener("animationend",e),setTimeout(()=>{this.contains(t)&&e()},300)}dismissAll(){this.#e=[],[...this.#t].forEach(t=>this.#s(t))}#o(){let t=this.getAttribute("data-duration");return t!==null?parseInt(t,10):5e3}#n(){let t=this.getAttribute("data-max");return t!==null?parseInt(t,10):5}#a(t){let e=document.createElement("div");return e.textContent=t,e.innerHTML}};customElements.define("toast-wc",x);var P=CSS.supports("anchor-name","--test"),C=class extends HTMLElement{#e;#t;#i;#r;#s=!P;connectedCallback(){this.#o()}disconnectedCallback(){this.#n()}#o(){if(this.#e=this.querySelector(":scope > :not(template)"),!this.#e)return;let t=this.querySelector(":scope > template[data-tooltip]"),e=this.dataset.content;if(!t&&!e)return;this.#t=document.createElement("div"),this.#t.className="tooltip",this.#t.setAttribute("role","tooltip"),this.#t.setAttribute("popover","hint"),t?this.#t.innerHTML=t.innerHTML:this.#t.textContent=e,this.#t.id=`tooltip-${crypto.randomUUID().slice(0,8)}`;let s=this.dataset.position||"top";this.#t.dataset.position=s;let i=document.createElement("span");if(i.className="tooltip-arrow",i.setAttribute("aria-hidden","true"),this.#t.appendChild(i),this.appendChild(this.#t),P){let n=`--tooltip-anchor-${this.#t.id}`;this.#e.style.anchorName=n,this.#t.style.positionAnchor=n,this.#t.setAttribute("data-anchor","")}this.#e.setAttribute("aria-describedby",this.#t.id),this.#e.addEventListener("mouseenter",this.#a),this.#e.addEventListener("mouseleave",this.#l),this.#e.addEventListener("focus",this.#h),this.#e.addEventListener("blur",this.#c),this.#t.addEventListener("mouseenter",this.#m),this.#t.addEventListener("mouseleave",this.#l)}#n(){this.#e&&(this.#e.removeEventListener("mouseenter",this.#a),this.#e.removeEventListener("mouseleave",this.#l),this.#e.removeEventListener("focus",this.#h),this.#e.removeEventListener("blur",this.#c)),this.#t&&(this.#t.removeEventListener("mouseenter",this.#m),this.#t.removeEventListener("mouseleave",this.#l)),clearTimeout(this.#i),clearTimeout(this.#r)}#a=()=>{clearTimeout(this.#r);let t=parseInt(this.dataset.delay||"200",10);this.#i=setTimeout(()=>this.show(),t)};#l=()=>{clearTimeout(this.#i),this.#r=setTimeout(()=>this.hide(),100)};#h=()=>{clearTimeout(this.#r),this.show()};#c=()=>{clearTimeout(this.#i),this.hide()};#m=()=>{clearTimeout(this.#r)};show(){!this.#t||this.isVisible||(this.#t.showPopover(),this.#s&&this.#u(),this.dispatchEvent(new CustomEvent("tooltip-show",{bubbles:!0})))}hide(){!this.#t||!this.isVisible||(this.#t.hidePopover(),this.dispatchEvent(new CustomEvent("tooltip-hide",{bubbles:!0})))}#u(){if(!this.#e||!this.#t)return;let t=this.#e.getBoundingClientRect(),e=this.#t.getBoundingClientRect(),s=this.dataset.position||"top",i=8,n,r;switch(s){case"bottom":n=t.bottom+i,r=t.left+(t.width-e.width)/2;break;case"left":n=t.top+(t.height-e.height)/2,r=t.left-e.width-i;break;case"right":n=t.top+(t.height-e.height)/2,r=t.right+i;break;default:n=t.top-e.height-i,r=t.left+(t.width-e.width)/2;break}let o=8;r=Math.max(o,Math.min(r,window.innerWidth-e.width-o)),n=Math.max(o,Math.min(n,window.innerHeight-e.height-o)),this.#t.style.top=`${n}px`,this.#t.style.left=`${r}px`}get isVisible(){return this.#t?.matches(":popover-open")??!1}};customElements.define("tooltip-wc",C);var S=class extends HTMLElement{#e;#t;#i=[];#r=-1;#s=!1;#o=!1;#n=null;connectedCallback(){this.#a()}disconnectedCallback(){this.#l()}#a(){this.#e=this.querySelector(":scope > [data-trigger]"),this.#e||(this.#e=this.querySelector(":scope > button")),this.#e&&(this.#t=this.querySelector(':scope > menu, :scope > ul[role="menu"]'),this.#t&&(this.#o=this.hasAttribute("data-hover"),this.#e.setAttribute("aria-haspopup","menu"),this.#e.setAttribute("aria-expanded","false"),this.#t.id||(this.#t.id=`dropdown-menu-${crypto.randomUUID().slice(0,8)}`),this.#e.setAttribute("aria-controls",this.#t.id),this.#t.setAttribute("role","menu"),this.#h(),this.#o?(this.addEventListener("mouseenter",this.#m),this.addEventListener("mouseleave",this.#u),this.#e.addEventListener("focus",this.#d),this.#e.addEventListener("blur",this.#g)):this.#e.addEventListener("click",this.#c),this.#e.addEventListener("keydown",this.#f),this.#t.addEventListener("keydown",this.#b),document.addEventListener("click",this.#v),document.addEventListener("keydown",this.#E)))}#l(){this.#n&&clearTimeout(this.#n),this.#e&&(this.#e.removeEventListener("click",this.#c),this.#e.removeEventListener("keydown",this.#f),this.#e.removeEventListener("focus",this.#d),this.#e.removeEventListener("blur",this.#g)),this.#t&&this.#t.removeEventListener("keydown",this.#b),this.removeEventListener("mouseenter",this.#m),this.removeEventListener("mouseleave",this.#u),document.removeEventListener("click",this.#v),document.removeEventListener("keydown",this.#E)}#h(){this.#i=Array.from(this.#t.querySelectorAll('button, a, [role="menuitem"]')).filter(t=>!t.disabled&&!t.closest('[role="separator"]')),this.#i.forEach((t,e)=>{t.setAttribute("role","menuitem"),t.setAttribute("tabindex","-1"),t.addEventListener("click",this.#w)}),this.#t.querySelectorAll('li:empty, [role="separator"], hr').forEach(t=>{t.setAttribute("role","separator")})}#c=t=>{t.stopPropagation(),this.toggle()};#m=()=>{this.#n&&(clearTimeout(this.#n),this.#n=null),this.open()};#u=()=>{this.#n=setTimeout(()=>{this.close()},100)};#d=()=>{this.#n&&(clearTimeout(this.#n),this.#n=null),this.open()};#g=t=>{this.#t?.contains(t.relatedTarget)||(this.#n=setTimeout(()=>{this.contains(document.activeElement)||this.close()},100))};#f=t=>{switch(t.key){case"ArrowDown":case"Down":t.preventDefault(),this.open(),this.#p(0);break;case"ArrowUp":case"Up":t.preventDefault(),this.open(),this.#p(this.#i.length-1);break}};#b=t=>{switch(t.key){case"ArrowDown":case"Down":t.preventDefault(),this.#p(this.#r+1);break;case"ArrowUp":case"Up":t.preventDefault(),this.#p(this.#r-1);break;case"Home":t.preventDefault(),this.#p(0);break;case"End":t.preventDefault(),this.#p(this.#i.length-1);break;case"Tab":this.close();break;case"Enter":case" ":t.preventDefault(),this.#r>=0&&this.#i[this.#r].click();break}};#v=t=>{this.#s&&!this.contains(t.target)&&this.close()};#E=t=>{t.key==="Escape"&&this.#s&&(t.preventDefault(),this.close(),this.#e?.focus())};#w=t=>{t.defaultPrevented||(this.close(),this.#e?.focus())};#p(t){this.#i.length!==0&&(t<0&&(t=this.#i.length-1),t>=this.#i.length&&(t=0),this.#r=t,this.#i[t].focus())}open(){this.#s||!this.#t||(this.#s=!0,this.setAttribute("data-open",""),this.#e?.setAttribute("aria-expanded","true"),this.#r=-1,this.#y(),this.dispatchEvent(new CustomEvent("dropdown-open",{bubbles:!0})))}close(){!this.#s||!this.#t||(this.#s=!1,this.removeAttribute("data-open"),this.#e?.setAttribute("aria-expanded","false"),this.#r=-1,this.dispatchEvent(new CustomEvent("dropdown-close",{bubbles:!0})))}toggle(){this.#s?this.close():this.open()}#y(){if(!this.#e||!this.#t)return;let t=this.getAttribute("data-position")||"bottom-start",e=this.hasAttribute("data-no-flip"),s=this.#e.getBoundingClientRect(),i=this.#t.getBoundingClientRect(),n=window.innerHeight,r=window.innerWidth,o,l,c=4;t.startsWith("top")?(o=-i.height-c,!e&&s.top+o<0&&(o=s.height+c)):(o=s.height+c,!e&&s.bottom+i.height+c>n&&(o=-i.height-c)),t.endsWith("end")?(l=s.width-i.width,s.left+l<0&&(l=0)):(l=0,s.left+i.width>r&&(l=s.width-i.width)),this.#t.style.setProperty("--dropdown-top",`${o}px`),this.#t.style.setProperty("--dropdown-left",`${l}px`)}get isOpen(){return this.#s}};customElements.define("dropdown-wc",S);var z=`
:host {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  inline-size: 1.5em;
  block-size: 1.5em;
  vertical-align: middle;
  line-height: 1;
}

:host([size="xs"]) {
  inline-size: 1em;
  block-size: 1em;
}

:host([size="sm"]) {
  inline-size: 1.25em;
  block-size: 1.25em;
}

:host([size="md"]) {
  inline-size: 1.5em;
  block-size: 1.5em;
}

:host([size="lg"]) {
  inline-size: 2em;
  block-size: 2em;
}

:host([size="xl"]) {
  inline-size: 2.5em;
  block-size: 2.5em;
}

:host([size="2xl"]) {
  inline-size: 3em;
  block-size: 3em;
}

svg {
  inline-size: 100%;
  block-size: 100%;
  stroke: currentColor;
  stroke-width: 2;
  stroke-linecap: round;
  stroke-linejoin: round;
  fill: none;
}

/* Error state */
:host([data-error]) {
  opacity: 0.5;
}

/* Hidden state for missing icons */
:host([hidden]) {
  display: none;
}
`;var T=new Map,M=class extends HTMLElement{static get observedAttributes(){return["name","set","size","label"]}constructor(){super(),this.attachShadow({mode:"open"})}get name(){return this.getAttribute("name")||""}get set(){return this.getAttribute("set")||"lucide"}get size(){return this.getAttribute("size")||"md"}get label(){return this.getAttribute("label")}get basePath(){return this.getAttribute("base-path")||document.documentElement.dataset.iconPath||"/src/icons"}get iconPath(){return`${this.basePath}/${this.set}/${this.name}.svg`}render(){this.shadowRoot.innerHTML=`
            <style>${z}</style>
            <slot></slot>
        `}async loadIcon(){if(!this.name){this.setError("No icon name specified");return}let t=`${this.set}/${this.name}`;if(T.has(t)){this.displayIcon(T.get(t));return}try{let e=await fetch(this.iconPath);if(!e.ok)throw new Error(`Icon not found: ${this.name}`);let s=await e.text();if(!s.includes("<svg"))throw new Error(`Invalid SVG: ${this.name}`);T.set(t,s),this.displayIcon(s)}catch(e){this.setError(e.message)}}displayIcon(t){let i=new DOMParser().parseFromString(t,"image/svg+xml").querySelector("svg");if(!i){this.setError("Invalid SVG content");return}i.removeAttribute("width"),i.removeAttribute("height"),this.label?(i.setAttribute("role","img"),i.setAttribute("aria-label",this.label)):i.setAttribute("aria-hidden","true"),this.removeAttribute("data-error");let n=this.shadowRoot.querySelector("slot");n&&n.replaceWith(i)}setError(t){this.setAttribute("data-error","true"),console.warn(`icon-wc: ${t}`);let e=this.shadowRoot.querySelector("slot");e&&(e.textContent="")}connectedCallback(){this.render(),this.loadIcon()}attributeChangedCallback(t,e,s){if(e!==s&&this.isConnected){if(t==="name"||t==="set")this.render(),this.loadIcon();else if(t==="label"){let i=this.shadowRoot.querySelector("svg");i&&(s?(i.setAttribute("role","img"),i.setAttribute("aria-label",s)):(i.removeAttribute("role"),i.setAttribute("aria-hidden","true")))}}}};customElements.define("icon-wc",M);var I=class a extends HTMLElement{static#e=[{id:"auto",name:"Auto",icon:"monitor"},{id:"light",name:"Light",icon:"sun"},{id:"dark",name:"Dark",icon:"moon"}];static#t=[{id:"default",name:"Default",hue:260},{id:"ocean",name:"Ocean",hue:200},{id:"forest",name:"Forest",hue:145},{id:"sunset",name:"Sunset",hue:25}];static#i=[{id:"modern",name:"Modern",hue:270,shape:"rounded",character:"Vibrant & elevated"},{id:"minimal",name:"Minimal",hue:240,shape:"sharp",character:"Clean & flat"},{id:"classic",name:"Classic",hue:220,shape:"subtle",character:"Serif & elegant"}];static#r=[{id:"swiss",name:"Swiss",icon:"grid-3x3",character:"Precision grid design"},{id:"brutalist",name:"Brutalist",icon:"square",character:"Raw, industrial"},{id:"cyber",name:"Cyber",icon:"zap",character:"Neon futuristic"},{id:"terminal",name:"Terminal",icon:"terminal",character:"Retro CRT"},{id:"organic",name:"Organic",icon:"leaf",character:"Natural, handcrafted"}];static#s=[...a.#t,...a.#i,...a.#r];static#o=200;#n;#a;#l=!1;#h=!1;#c=null;connectedCallback(){this.#h=this.getAttribute("data-variant")==="inline",this.#m(),this.#d(),this.#A(),window.addEventListener("theme-change",this.#y)}disconnectedCallback(){window.removeEventListener("theme-change",this.#y),document.removeEventListener("click",this.#f),document.removeEventListener("keydown",this.#b),this.#p()}#m(){this.#h||(this.#n=this.querySelector(":scope > [data-trigger]"),this.#n||(this.#n=this.querySelector(":scope > button")),this.#n||(this.#n=document.createElement("button"),this.#n.setAttribute("data-trigger",""),this.#n.innerHTML=`
          <x-icon name="palette" label="Theme settings"></x-icon>
        `,this.prepend(this.#n)),this.#n.setAttribute("aria-haspopup","dialog"),this.#n.setAttribute("aria-expanded","false")),this.#a=document.createElement("div"),this.#a.className="panel",this.#a.setAttribute("role","dialog"),this.#a.setAttribute("aria-label","Theme settings"),this.#h||(this.#a.id=`theme-panel-${crypto.randomUUID().slice(0,8)}`,this.#n.setAttribute("aria-controls",this.#a.id)),this.#a.innerHTML=this.#u(),this.appendChild(this.#a)}#u(){let{mode:t,brand:e}=u.getState();return`
      <fieldset class="section">
        <legend>Color Mode</legend>
        <div class="options" role="radiogroup" aria-label="Color mode">
          ${a.#e.map(s=>`
            <label class="option">
              <input
                type="radio"
                name="theme-mode"
                value="${s.id}"
                ${t===s.id?"checked":""}
              />
              <span class="option-content">
                <x-icon name="${s.icon}"></x-icon>
                <span>${s.name}</span>
              </span>
            </label>
          `).join("")}
        </div>
      </fieldset>

      <fieldset class="section">
        <legend>Color Themes</legend>
        <div class="options options--themes" role="radiogroup" aria-label="Color theme">
          ${a.#t.map(s=>`
            <label class="option option--theme">
              <input
                type="radio"
                name="theme-brand"
                value="${s.id}"
                ${e===s.id?"checked":""}
              />
              <span class="option-content">
                <span class="swatch" style="--swatch-hue: ${s.hue}"></span>
                <span>${s.name}</span>
              </span>
            </label>
          `).join("")}
        </div>
      </fieldset>

      <fieldset class="section">
        <legend>Personality Themes</legend>
        <div class="options options--themes" role="radiogroup" aria-label="Personality theme">
          ${a.#i.map(s=>`
            <label class="option option--theme">
              <input
                type="radio"
                name="theme-brand"
                value="${s.id}"
                ${e===s.id?"checked":""}
              />
              <span class="option-content">
                <span class="swatch-combo">
                  <span class="swatch" style="--swatch-hue: ${s.hue}"></span>
                  <span class="shape-indicator" data-shape="${s.shape}"></span>
                </span>
                <span>${s.name}</span>
              </span>
            </label>
          `).join("")}
        </div>
      </fieldset>

      <fieldset class="section">
        <legend>Extreme Themes</legend>
        <div class="options options--themes" role="radiogroup" aria-label="Extreme theme">
          ${a.#r.map(s=>`
            <label class="option option--theme option--extreme">
              <input
                type="radio"
                name="theme-brand"
                value="${s.id}"
                ${e===s.id?"checked":""}
              />
              <span class="option-content">
                <x-icon name="${s.icon}"></x-icon>
                <span>${s.name}</span>
              </span>
            </label>
          `).join("")}
        </div>
      </fieldset>
    `}#d(){this.#a.querySelectorAll('input[name="theme-mode"]').forEach(t=>{t.addEventListener("change",this.#v)}),this.#a.querySelectorAll('input[name="theme-brand"]').forEach(t=>{t.addEventListener("change",this.#E)}),this.#h||(this.#n.addEventListener("click",this.#g),document.addEventListener("click",this.#f),document.addEventListener("keydown",this.#b))}#g=t=>{t.stopPropagation(),this.toggle()};#f=t=>{this.#l&&!this.contains(t.target)&&this.close()};#b=t=>{t.key==="Escape"&&this.#l&&(t.preventDefault(),this.close(),this.#n?.focus())};#v=t=>{u.setMode(t.target.value),this.#w()};#E=t=>{u.setBrand(t.target.value),this.#w()};#w(){this.#h||(this.#p(),this.#c=setTimeout(()=>{this.close(),this.#n?.focus()},a.#o))}#p(){this.#c&&(clearTimeout(this.#c),this.#c=null)}#y=()=>{this.#A()};#A(){let{mode:t,brand:e}=u.getState(),s=this.#a.querySelector(`input[name="theme-mode"][value="${t}"]`);s&&(s.checked=!0);let i=this.#a.querySelector(`input[name="theme-brand"][value="${e}"]`);i&&(i.checked=!0)}open(){this.#h||this.#l||(this.#l=!0,this.setAttribute("data-open",""),this.#n?.setAttribute("aria-expanded","true"),requestAnimationFrame(()=>{this.#k(),this.#a.querySelector('input[type="radio"]:checked')?.focus()}),this.dispatchEvent(new CustomEvent("theme-wc-open",{bubbles:!0})))}#k(){if(!this.#n||!this.#a)return;let t=this.#n.getBoundingClientRect(),e=this.#a.getBoundingClientRect(),s=window.visualViewport||{width:window.innerWidth,height:window.innerHeight},i=s.height,n=s.width,r=8,o=16,l=i-t.bottom-o,c=t.top-o,d=t.height+r;l<e.height&&c>l?(d=-e.height-r,this.#a.dataset.position="top"):delete this.#a.dataset.position;let h=0,p=t.left+e.width+o,b=t.left+h;p>n&&(h=n-p),b+h<o&&(h=o-t.left),this.#a.style.setProperty("--panel-top",`${d}px`),this.#a.style.setProperty("--panel-left",`${h}px`)}close(){this.#h||!this.#l||(this.#p(),this.#l=!1,this.removeAttribute("data-open"),this.#n?.setAttribute("aria-expanded","false"),this.dispatchEvent(new CustomEvent("theme-wc-close",{bubbles:!0})))}toggle(){this.#l?this.close():this.open()}get isOpen(){return this.#l}};customElements.define("theme-wc",I);var H=class extends HTMLElement{#e;#t=new WeakSet;connectedCallback(){this.#i()}disconnectedCallback(){this.#r()}#i(){this.#s(),this.#e=new MutationObserver(t=>{for(let e of t)e.type==="childList"&&this.#s()}),this.#e.observe(this,{childList:!0,subtree:!0})}#r(){this.#e?.disconnect()}#s(){let e=(this.dataset.levels||"h2,h3").split(",").map(i=>i.trim()).join(","),s=this.querySelectorAll(e);for(let i of s)this.#t.has(i)||(this.#o(i),this.#t.add(i))}#o(t){if(t.closest("dialog")||(t.id||(t.id=this.#n(t.textContent)),t.querySelector(".heading-anchor")))return;let e=document.createElement("a");e.className="heading-anchor",e.href=`#${t.id}`,e.setAttribute("aria-label",`Link to ${t.textContent.trim()}`),e.innerHTML='<icon-wc name="link" size="sm"></icon-wc>',e.addEventListener("click",s=>{s.preventDefault(),this.#a(t,e)}),t.appendChild(e),t.hasAttribute("tabindex")||t.setAttribute("tabindex","-1")}#n(t){let e=t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").substring(0,50),s=e,i=1;for(;document.getElementById(s);)s=`${e}-${i}`,i++;return s}async#a(t,e){let s=new URL(window.location.href);s.hash=t.id,window.history.pushState(null,"",s),t.scrollIntoView({behavior:"smooth",block:"start"}),t.focus();try{await navigator.clipboard.writeText(s.href);let i=e.innerHTML;e.innerHTML='<icon-wc name="check" size="sm"></icon-wc>',e.classList.add("copied"),setTimeout(()=>{e.innerHTML=i,e.classList.remove("copied")},1500),this.#l("Link copied to clipboard")}catch{}this.dispatchEvent(new CustomEvent("heading-navigate",{bubbles:!0,detail:{id:t.id,url:s.href}}))}#l(t){let e=document.createElement("div");e.setAttribute("role","status"),e.setAttribute("aria-live","polite"),e.className="sr-only",e.textContent=t,this.appendChild(e),setTimeout(()=>e.remove(),1e3)}};customElements.define("heading-links",H);var $=class extends HTMLElement{#e;#t=[];#i=new Map;#r;#s;#o;#n=!1;connectedCallback(){requestAnimationFrame(()=>this.#a())}disconnectedCallback(){this.#c()}#a(){this.#n=this.#l(),this.#n?this.#h():this.#E(),this.#y(),this.#m(),this.#g()}#l(){return this.querySelector("nav, details")!==null}#h(){this.#s=this.querySelector("details");let t=this.querySelectorAll('a[href^="#"]');for(let e of t){let i=e.getAttribute("href").slice(1);if(i){let n=document.getElementById(i);n&&(this.#t.push(n),this.#i.set(i,e),e.classList.contains("link")||e.classList.add("link"),e.addEventListener("click",r=>{r.preventDefault(),this.#p(n)}))}}}#c(){this.#e?.disconnect(),this.#r?.removeEventListener("change",this.#u),window.removeEventListener("resize",this.#d),window.removeEventListener("hashchange",this.#f),clearTimeout(this.#o)}#m(){this.#r=window.matchMedia("(min-width: 1024px)"),this.#u=this.#u.bind(this),this.#d=this.#d.bind(this),this.#r.addEventListener("change",this.#u),window.addEventListener("resize",this.#d)}#u=t=>{t.matches&&this.#s&&(this.#s.open=!0)};#d=()=>{clearTimeout(this.#o),this.#o=setTimeout(()=>this.#b(),150)};#g(){this.#f=this.#f.bind(this),window.addEventListener("hashchange",this.#f),this.#b()}#f=()=>{this.#b()};#b(){let t=window.location.hash.slice(1);t&&this.#i.has(t)&&this.#v(t)}#v(t){for(let s of this.#i.values())s.classList.remove("active"),s.removeAttribute("aria-current");let e=this.#i.get(t);e&&(e.classList.add("active"),e.setAttribute("aria-current","true"))}#E(){let t=this.dataset.levels||"h2,h3",e=this.dataset.scope||"main",s=this.dataset.title||"On this page",i=document.querySelector(e);if(!i)return;let n=t.split(",").map(h=>h.trim()).join(",");if(this.#t=Array.from(i.querySelectorAll(n)).filter(h=>h.id),this.#t.length===0)return;this.#s=document.createElement("details"),this.#s.className="details",this.#s.open=!0;let r=this.#s,o=document.createElement("summary");o.className="summary",o.textContent=s,r.appendChild(o);let l=document.createElement("nav");l.className="nav",l.setAttribute("aria-label",s);let c=document.createElement("ul");c.className="list";let d=t.split(",").map(h=>h.trim().toLowerCase());for(let h of this.#t){let p=h.tagName.toLowerCase(),b=d.indexOf(p),_=b>=0?b:0,g=document.createElement("li");g.className="item",g.dataset.level=_;let m=document.createElement("a");m.href=`#${h.id}`,m.className="link",m.textContent=this.#w(h),m.addEventListener("click",j=>{j.preventDefault(),this.#p(h)}),g.appendChild(m),c.appendChild(g),this.#i.set(h.id,m)}l.appendChild(c),r.appendChild(l),this.appendChild(r)}#w(t){let e=t.cloneNode(!0);return e.querySelectorAll(".heading-anchor").forEach(i=>i.remove()),e.textContent.trim()}#p(t){let e=new URL(window.location.href);e.hash=t.id,window.history.pushState(null,"",e),t.scrollIntoView({behavior:"smooth",block:"start"}),t.focus(),this.dispatchEvent(new CustomEvent("toc-navigate",{bubbles:!0,detail:{id:t.id}}))}#y(){if(this.#t.length===0)return;let t=new Set;this.#e=new IntersectionObserver(e=>{for(let s of e)s.isIntersecting?t.add(s.target.id):t.delete(s.target.id);this.#A(t)},{rootMargin:"-80px 0px -70% 0px",threshold:0});for(let e of this.#t)this.#e.observe(e)}#A(t){for(let e of this.#t)if(t.has(e.id)){this.#v(e.id);return}this.#b()}refresh(){this.#n||(this.innerHTML=""),this.#i.clear(),this.#t=[],this.#e?.disconnect(),this.#a()}};customElements.define("page-toc",$);var q=class extends HTMLElement{#e;#t;#i=[];#r=[];#s=[];#o=-1;#n=null;#a=1;#l=0;#h=null;#c=null;#m=null;#u="";#d=null;#g=null;connectedCallback(){this.#e=this.querySelector(":scope > table"),this.#e&&(this.#t=this.#e.querySelector("tbody"),this.#t&&this.#f())}disconnectedCallback(){this.#b()}#f(){this.#r=[...this.#t.querySelectorAll(":scope > tr")],this.#s=[...this.#r],this.#v(),this.#e.hasAttribute("data-filterable")&&this.#L();let t=this.#e.getAttribute("data-paginate");t&&(this.#l=parseInt(t,10),this.#l>0&&this.#D()),this.#R(),this.#N(),this.#x()}#b(){this.#m&&clearTimeout(this.#m),this.#h?.parentElement?.remove(),this.#c?.remove(),this.#i.forEach(({th:t})=>{t.removeEventListener("click",this.#w),t.removeEventListener("keydown",this.#p)}),this.#e?.removeEventListener("click",this.#T),this.#d?.removeEventListener("change",this.#M),this.#t?.removeEventListener("change",this.#I)}#v(){this.#e.querySelectorAll("thead th[data-sort]").forEach((e,s)=>{let i=e.getAttribute("data-sort"),n=this.#E(e);this.#i.push({th:e,sortType:i,columnIndex:n}),e.setAttribute("tabindex","0"),e.setAttribute("role","columnheader"),e.setAttribute("aria-sort","none"),e.dataset.columnIndex=n,e.addEventListener("click",this.#w),e.addEventListener("keydown",this.#p)})}#E(t){return[...t.parentElement.children].indexOf(t)}#w=t=>{let e=t.currentTarget,s=parseInt(e.dataset.columnIndex,10);this.#y(s)};#p=t=>{if(t.key==="Enter"||t.key===" "){t.preventDefault();let e=t.currentTarget,s=parseInt(e.dataset.columnIndex,10);this.#y(s)}};#y(t){let e=this.#i.find(i=>i.columnIndex===t);if(!e)return;let s;this.#o===t?s=this.#n==="asc"?"desc":"asc":s="asc",this.#i.forEach(({th:i})=>{i.removeAttribute("data-state-sorted"),i.setAttribute("aria-sort","none")}),e.th.setAttribute("data-state-sorted",s),e.th.setAttribute("aria-sort",s==="asc"?"ascending":"descending"),this.#o=t,this.#n=s,this.#A(t,s,e.sortType),this.#a=1,this.#x(),this.dispatchEvent(new CustomEvent("table:sort",{detail:{column:t,direction:s,columnName:e.th.textContent.trim()},bubbles:!0}))}#A(t,e,s){let i=e==="asc"?1:-1;this.#s.sort((n,r)=>{let o=n.children[t],l=r.children[t];if(!o||!l)return 0;let c=this.#k(o,s),d=this.#k(l,s),h=0;switch(s){case"number":h=c-d;break;case"date":h=c-d;break;default:h=c.localeCompare(d,void 0,{numeric:!0,sensitivity:"base"});break}return h*i})}#k(t,e){let i=t.getAttribute("data-sort-value")??t.textContent.trim();switch(e){case"number":return parseFloat(i)||0;case"date":return new Date(i).getTime()||0;default:return i.toLowerCase()}}#L(){let t=document.createElement("div");t.setAttribute("data-table-filter","");let e=document.createElement("input");e.type="search",e.setAttribute("data-filter-input",""),e.setAttribute("placeholder","Filter table..."),e.setAttribute("aria-label","Filter table rows"),t.appendChild(e),this.insertBefore(t,this.#e),this.#h=e,e.addEventListener("input",this.#q)}#q=t=>{let e=t.target.value;this.#m&&clearTimeout(this.#m),this.#m=setTimeout(()=>{this.#C(e)},150)};#C(t){if(this.#u=t.toLowerCase().trim(),this.#u===""?this.#s=[...this.#r]:this.#s=this.#r.filter(e=>[...e.children].some(i=>(i.getAttribute("data-filter-value")??i.textContent).toLowerCase().includes(this.#u))),this.#o>=0&&this.#n){let e=this.#i.find(s=>s.columnIndex===this.#o);e&&this.#A(this.#o,this.#n,e.sortType)}this.#a=1,this.#x(),this.dispatchEvent(new CustomEvent("table:filter",{detail:{query:this.#u,count:this.#s.length},bubbles:!0}))}#D(){let t=document.createElement("nav");t.setAttribute("data-pagination",""),t.setAttribute("aria-label","Table pagination"),this.appendChild(t),this.#c=t}#R(){this.#e.addEventListener("click",this.#T)}#T=t=>{let e=t.target.closest('[data-action="toggle-expand"]');if(!e)return;let s=e.closest("tr[data-expandable]");if(!s)return;let i=s.hasAttribute("data-state-expanded"),n=s.nextElementSibling;i?(s.removeAttribute("data-state-expanded"),e.setAttribute("aria-expanded","false"),n?.hasAttribute("data-expand-content")&&(n.hidden=!0,n.setAttribute("aria-hidden","true"))):(s.setAttribute("data-state-expanded",""),e.setAttribute("aria-expanded","true"),n?.hasAttribute("data-expand-content")&&(n.hidden=!1,n.removeAttribute("aria-hidden"))),this.dispatchEvent(new CustomEvent("table:expand",{detail:{row:s,expanded:!i},bubbles:!0}))};#N(){this.#d=this.#e.querySelector('thead [data-action="select-all"]'),this.#d&&this.#d.addEventListener("change",this.#M),this.#t.addEventListener("change",this.#I),this.#g=document.querySelector("[data-selected-count]"),this.#H()}#M=t=>{let e=t.target.checked;this.#t.querySelectorAll("tr[data-selectable]").forEach(i=>{let n=i.querySelector('[data-action="select-row"]');e?(i.setAttribute("data-state-selected",""),n&&(n.checked=!0)):(i.removeAttribute("data-state-selected"),n&&(n.checked=!1))}),t.target.indeterminate=!1,this.#S(),this.#$()};#I=t=>{let e=t.target.closest('[data-action="select-row"]');if(!e)return;let s=e.closest("tr[data-selectable]");s&&(e.checked?s.setAttribute("data-state-selected",""):s.removeAttribute("data-state-selected"),this.#H(),this.#$())};#H(){if(!this.#d){this.#S();return}let t=this.#t.querySelectorAll("tr[data-selectable]"),e=this.#t.querySelectorAll("tr[data-selectable][data-state-selected]"),s=t.length,i=e.length;i===0?(this.#d.checked=!1,this.#d.indeterminate=!1):i===s?(this.#d.checked=!0,this.#d.indeterminate=!1):(this.#d.checked=!1,this.#d.indeterminate=!0),this.#S()}#S(){let e=this.#t.querySelectorAll("tr[data-selectable][data-state-selected]").length;this.#g&&(this.#g.textContent=e)}#$(){let t=[...this.#t.querySelectorAll("tr[data-selectable][data-state-selected]")];this.dispatchEvent(new CustomEvent("table:selection",{detail:{count:t.length,rows:t},bubbles:!0}))}#O(){if(!this.#c||this.#l<=0)return;let t=Math.ceil(this.#s.length/this.#l);if(this.#c.innerHTML="",t<=1)return;let e=document.createElement("button");e.type="button",e.textContent="Previous",e.setAttribute("data-pagination-prev",""),e.disabled=this.#a===1,e.addEventListener("click",()=>this.goToPage(this.#a-1)),this.#c.appendChild(e),this.#P(t).forEach(n=>{if(n==="..."){let r=document.createElement("span");r.textContent="...",r.setAttribute("data-pagination-ellipsis",""),this.#c.appendChild(r)}else{let r=document.createElement("button");r.type="button",r.textContent=n,r.setAttribute("data-pagination-page",""),n===this.#a&&(r.setAttribute("aria-current","page"),r.setAttribute("data-current","")),r.addEventListener("click",()=>this.goToPage(n)),this.#c.appendChild(r)}});let i=document.createElement("button");i.type="button",i.textContent="Next",i.setAttribute("data-pagination-next",""),i.disabled=this.#a===t,i.addEventListener("click",()=>this.goToPage(this.#a+1)),this.#c.appendChild(i)}#P(t){let e=this.#a,s=[];if(t<=7)for(let i=1;i<=t;i++)s.push(i);else{s.push(1),e>3&&s.push("...");let i=Math.max(2,e-1),n=Math.min(t-1,e+1);for(let r=i;r<=n;r++)s.push(r);e<t-2&&s.push("..."),s.push(t)}return s}#x(){this.#r.forEach(e=>{e.setAttribute("data-state-hidden","")});let t;if(this.#l>0){let e=(this.#a-1)*this.#l,s=e+this.#l;t=this.#s.slice(e,s)}else t=this.#s;t.forEach(e=>{e.removeAttribute("data-state-hidden"),this.#t.appendChild(e)}),this.#s.forEach(e=>{e.hasAttribute("data-state-hidden")&&this.#t.appendChild(e)}),this.#r.forEach(e=>{this.#s.includes(e)||this.#t.appendChild(e)}),this.#O()}goToPage(t){let e=Math.ceil(this.#s.length/this.#l),s=Math.max(1,Math.min(t,e));s!==this.#a&&(this.#a=s,this.#x(),this.dispatchEvent(new CustomEvent("table:page",{detail:{page:this.#a},bubbles:!0})))}setFilter(t){this.#h&&(this.#h.value=t),this.#C(t)}refresh(){if(this.#r=[...this.#t.querySelectorAll(":scope > tr")],this.#u?this.#C(this.#u):this.#s=[...this.#r],this.#o>=0&&this.#n){let e=this.#i.find(s=>s.columnIndex===this.#o);e&&this.#A(this.#o,this.#n,e.sortType)}let t=Math.max(1,Math.ceil(this.#s.length/this.#l));this.#a>t&&(this.#a=t),this.#x()}get currentPage(){return this.#a}get totalPages(){return this.#l<=0?1:Math.ceil(this.#s.length/this.#l)}get filteredCount(){return this.#s.length}get totalCount(){return this.#r.length}getSelectedRows(){return this.#t?[...this.#t.querySelectorAll("tr[data-selectable][data-state-selected]")]:[]}};customElements.define("table-wc",q);var D=class a extends HTMLElement{static#e=150;static#t=8;#i;#r;#s;#o;#n=[];#a=-1;#l=!1;#h=null;#c=null;connectedCallback(){this.#m(),this.#u()}disconnectedCallback(){document.removeEventListener("keydown",this.#g),this.#L()}#m(){this.#i=this.querySelector(":scope > [data-trigger]"),this.#i||(this.#i=this.querySelector(":scope > button")),this.#i||(this.#i=document.createElement("button"),this.#i.setAttribute("data-trigger",""),this.#i.innerHTML=`
        <x-icon name="search" label="Search"></x-icon>
      `,this.prepend(this.#i)),this.#i.setAttribute("aria-haspopup","dialog"),this.#i.setAttribute("aria-expanded","false"),this.#r=document.createElement("div"),this.#r.className="dialog",this.#r.setAttribute("role","dialog"),this.#r.setAttribute("aria-label","Site search"),this.#r.id=`search-dialog-${crypto.randomUUID().slice(0,8)}`,this.#i.setAttribute("aria-controls",this.#r.id),this.#r.innerHTML=`
      <div class="backdrop"></div>
      <div class="panel">
        <div class="input-wrapper">
          <x-icon name="search" class="icon"></x-icon>
          <input
            type="search"
            class="input"
            placeholder="Search documentation..."
            autocomplete="off"
            autocorrect="off"
            autocapitalize="off"
            spellcheck="false"
            aria-label="Search"
            aria-autocomplete="list"
          />
          <kbd class="shortcut">Esc</kbd>
        </div>
        <div class="results" role="listbox" aria-label="Search results"></div>
        <div class="footer">
          <span class="hint">
            <kbd>\u2191</kbd><kbd>\u2193</kbd> to navigate
            <kbd>\u21B5</kbd> to select
            <kbd>esc</kbd> to close
          </span>
          <span class="powered">
            Powered by <a href="https://pagefind.app" target="_blank" rel="noopener">Pagefind</a>
          </span>
        </div>
      </div>
    `,this.appendChild(this.#r),this.#s=this.#r.querySelector(".input"),this.#o=this.#r.querySelector(".results")}#u(){this.#i.addEventListener("click",this.#d),document.addEventListener("keydown",this.#g),this.#r.querySelector(".backdrop").addEventListener("click",()=>this.close()),this.#s.addEventListener("input",this.#f),this.#s.addEventListener("keydown",this.#b),this.#o.addEventListener("click",this.#v)}#d=t=>{t.stopPropagation(),this.open()};#g=t=>{if((t.metaKey||t.ctrlKey)&&t.key==="k"){t.preventDefault(),this.#l?this.close():this.open();return}t.key==="Escape"&&this.#l&&(t.preventDefault(),this.close())};#f=()=>{this.#L(),this.#c=setTimeout(()=>{this.#w(this.#s.value)},a.#e)};#b=t=>{switch(t.key){case"ArrowDown":t.preventDefault(),this.#A(this.#a+1);break;case"ArrowUp":t.preventDefault(),this.#A(this.#a-1);break;case"Enter":t.preventDefault(),this.#a>=0&&this.#n[this.#a]&&this.#k(this.#n[this.#a]);break}};#v=t=>{let e=t.target.closest("[data-result-index]");if(e){let s=parseInt(e.dataset.resultIndex,10);this.#n[s]&&this.#k(this.#n[s])}};async#E(){if(!this.#h)try{let t=new Function('return import("/pagefind/pagefind.js")');this.#h=await t(),await this.#h.options({excerptLength:20})}catch{console.warn("Pagefind not available. Run `npm run search:dev` to build the search index."),this.#h=null}}async#w(t){if(!t.trim()){this.#p([]);return}if(await this.#E(),!this.#h){this.#y();return}try{this.#o.innerHTML='<div class="loading">Searching...</div>';let e=await this.#h.search(t),s=await Promise.all(e.results.slice(0,a.#t).map(i=>i.data()));this.#n=s,this.#p(s)}catch(e){console.error("Search error:",e),this.#o.innerHTML='<div class="error">Search error. Please try again.</div>'}}#p(t){if(this.#a=-1,t.length===0){this.#s.value.trim()?this.#o.innerHTML='<div class="empty">No results found</div>':this.#o.innerHTML="";return}this.#o.innerHTML=t.map((e,s)=>`
      <a
        href="${e.url}"
        class="result"
        role="option"
        data-result-index="${s}"
        tabindex="-1"
      >
        <span class="result-title">${e.meta?.title||"Untitled"}</span>
        <span class="result-excerpt">${e.excerpt||""}</span>
      </a>
    `).join("")}#y(){this.#o.innerHTML=`
      <div class="error">
        Search index not found.<br>
        Run <code>npx pagefind --site dist</code> after building.
      </div>
    `}#A(t){if(this.#n.length===0)return;t<0&&(t=this.#n.length-1),t>=this.#n.length&&(t=0);let e=this.#o.querySelector("[data-active]");e&&e.removeAttribute("data-active"),this.#a=t;let s=this.#o.querySelector(`[data-result-index="${t}"]`);s&&(s.setAttribute("data-active",""),s.scrollIntoView({block:"nearest"}))}#k(t){t.url&&(this.close(),window.location.href=t.url)}#L(){this.#c&&(clearTimeout(this.#c),this.#c=null)}open(){this.#l||(this.#l=!0,this.setAttribute("data-open",""),this.#i?.setAttribute("aria-expanded","true"),document.body.style.overflow="hidden",requestAnimationFrame(()=>{this.#s?.focus(),this.#s?.select()}),this.#E(),this.dispatchEvent(new CustomEvent("search-wc-open",{bubbles:!0})))}close(){this.#l&&(this.#l=!1,this.removeAttribute("data-open"),this.#i?.setAttribute("aria-expanded","false"),document.body.style.overflow="",this.#L(),this.#s.value="",this.#n=[],this.#a=-1,this.#o.innerHTML="",this.#i?.focus(),this.dispatchEvent(new CustomEvent("search-wc-close",{bubbles:!0})))}get isOpen(){return this.#l}};customElements.define("search-wc",D);var W=/^[a-zA-Z_$][a-zA-Z0-9_$]*(\.[a-zA-Z_$][a-zA-Z0-9_$]*|\[\d+\])*$/;function B(a){return!a||typeof a!="string"?!1:W.test(a.trim())}function f(a,t){if(!B(t)){console.warn(`[card-list] Unsafe property path rejected: "${t}"`);return}let s=t.replace(/\[(\d+)\]/g,".$1").split("."),i=a;for(let n of s){if(i==null)return;i=i[n]}return i}function J(a){if(!a||typeof a!="string")return"";let t=document.createElement("template");return t.innerHTML=a,t.content.querySelectorAll("script, iframe, object, embed, form").forEach(i=>i.remove()),t.content.querySelectorAll("*").forEach(i=>{[...i.attributes].forEach(n=>{(n.name.startsWith("on")||n.name==="href"&&n.value.startsWith("javascript:"))&&i.removeAttribute(n.name)})}),t.innerHTML}function Y(a){return a?a.split(",").map(t=>{let[e,s]=t.split(":").map(i=>i.trim());return{attr:e,path:s}}).filter(({attr:t,path:e})=>t&&e):[]}var R=class extends HTMLElement{#e=null;#t=[];#i="id";static get observedAttributes(){return["src","data-items","data-key"]}connectedCallback(){if(this.#e=this.querySelector("template"),!this.#e){console.warn("[card-list] No template found");return}this.#i=this.getAttribute("data-key")||"id";let t=this.getAttribute("data-items");if(t){try{this.#t=JSON.parse(t),this.#s()}catch(s){console.error("[card-list] Invalid JSON in data-items:",s)}return}let e=this.getAttribute("src");e&&this.#r(e)}attributeChangedCallback(t,e,s){if(e!==s)if(t==="data-items"&&s)try{this.#t=JSON.parse(s),this.#s()}catch(i){console.error("[card-list] Invalid JSON in data-items:",i)}else t==="src"&&s?this.#r(s):t==="data-key"&&(this.#i=s||"id",this.#s())}async#r(t){try{this.setAttribute("data-loading","");let e=await fetch(t);if(!e.ok)throw new Error(`HTTP ${e.status}`);let s=await e.json();this.#t=Array.isArray(s)?s:s.items||s.data||[],this.#s()}catch(e){console.error("[card-list] Fetch error:",e),this.setAttribute("data-error",e.message)}finally{this.removeAttribute("data-loading")}}#s(){if(!this.#e)return;this.querySelectorAll(":scope > :not(template)").forEach(s=>s.remove());let e=document.createDocumentFragment();for(let s of this.#t){let i=this.#e.content.cloneNode(!0);this.#o(i,s),e.appendChild(i)}this.appendChild(e),this.dispatchEvent(new CustomEvent("card-list-render",{detail:{count:this.#t.length},bubbles:!0}))}#o(t,e){t.querySelectorAll("[data-field]").forEach(s=>{let i=s.getAttribute("data-field"),n=f(e,i);s.textContent=n??""}),t.querySelectorAll("[data-field-attr]").forEach(s=>{let i=Y(s.getAttribute("data-field-attr"));for(let{attr:n,path:r}of i){if(!B(r))continue;let o=f(e,r);o!=null&&s.setAttribute(n,o)}}),t.querySelectorAll("[data-field-html]").forEach(s=>{let i=s.getAttribute("data-field-html"),n=f(e,i);s.innerHTML=J(n)}),t.querySelectorAll("[data-field-if]").forEach(s=>{let i=s.getAttribute("data-field-if");f(e,i)||s.remove()}),t.querySelectorAll("[data-field-unless]").forEach(s=>{let i=s.getAttribute("data-field-unless");f(e,i)&&s.remove()})}setItems(t){this.#t=Array.isArray(t)?t:[],this.#s()}getItems(){return[...this.#t]}};customElements.define("card-list",R);function U(a=document){a.querySelectorAll("[aria-describedby]").forEach(t=>{let e=t.getAttribute("aria-describedby"),s=document.getElementById(e);if(!s?.hasAttribute("popover")||!s.matches('[role="tooltip"]')||t.closest("tooltip-wc")||t.hasAttribute("data-tooltip-init"))return;t.setAttribute("data-tooltip-init","");let i=null,n=null,r=()=>{clearTimeout(n),i=setTimeout(()=>{s.showPopover(),N(t,s)},200)},o=()=>{clearTimeout(i),n=setTimeout(()=>{s.hidePopover()},100)},l=()=>{clearTimeout(n),s.showPopover(),N(t,s)},c=()=>{clearTimeout(i),s.hidePopover()};t.addEventListener("mouseenter",r),t.addEventListener("mouseleave",o),t.addEventListener("focus",l),t.addEventListener("blur",c),s.addEventListener("mouseenter",()=>clearTimeout(n)),s.addEventListener("mouseleave",o)}),a.querySelectorAll("[popovertarget]").forEach(t=>{let e=t.getAttribute("popovertarget"),s=document.getElementById(e);!s?.hasAttribute("popover")||!s.matches('[role="tooltip"]')||s.hasAttribute("data-tooltip-click-init")||(s.setAttribute("data-tooltip-click-init",""),s.addEventListener("toggle",i=>{i.newState==="open"&&N(t,s)}))})}function N(a,t){let e=a.getBoundingClientRect(),s=t.dataset.position||"top",i=8,n=t.getBoundingClientRect(),r,o;switch(s){case"bottom":r=e.bottom+i,o=e.left+(e.width-n.width)/2;break;case"left":r=e.top+(e.height-n.height)/2,o=e.left-n.width-i;break;case"right":r=e.top+(e.height-n.height)/2,o=e.right+i;break;default:r=e.top-n.height-i,o=e.left+(e.width-n.width)/2;break}let l=8;o=Math.max(l,Math.min(o,window.innerWidth-n.width-l)),r=Math.max(l,Math.min(r,window.innerHeight-n.height-l)),t.style.top=`${r}px`,t.style.left=`${o}px`}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>U()):U();function F(a){document.querySelectorAll("browser-window").forEach(t=>{t.setAttribute("mode",a)}),document.querySelectorAll("code-block").forEach(t=>{t.setAttribute("theme",a)})}function V(){let{effectiveMode:a}=u.getState();F(a),window.addEventListener("theme-change",e=>{F(e.detail.effectiveMode)}),new MutationObserver(e=>{let{effectiveMode:s}=u.getState();for(let i of e)for(let n of i.addedNodes)n.nodeType===Node.ELEMENT_NODE&&(n.tagName==="BROWSER-WINDOW"?n.setAttribute("mode",s):n.tagName==="CODE-BLOCK"&&n.setAttribute("theme",s),n.querySelectorAll?.("browser-window").forEach(r=>{r.setAttribute("mode",s)}),n.querySelectorAll?.("code-block").forEach(r=>{r.setAttribute("theme",s)}))}).observe(document.body,{childList:!0,subtree:!0})}var E={"semantic-card":{validChildren:["header","section","footer"],validSlots:["header","content","footer"],rules:{maxHeader:1,maxFooter:1,order:["header","section","footer"]}}};function G(){return document.documentElement.hasAttribute("data-debug")||localStorage.getItem("vanillaBreeze.debug")==="true"}function Q(a,t,e){let s=[],i=Array.from(a.children),n={header:0,section:0,footer:0},r=[];for(let c of i){let d=c.tagName.toLowerCase(),h=c.getAttribute("slot");if(e.validChildren.includes(d)){n[d]++,r.push(d);continue}if(h&&e.validSlots.includes(h)){let p=h==="content"?"section":h;r.push(p);continue}}e.rules.maxHeader&&n.header>e.rules.maxHeader&&s.push({type:"duplicate",message:`Multiple <header> elements found (max: ${e.rules.maxHeader})`,element:a}),e.rules.maxFooter&&n.footer>e.rules.maxFooter&&s.push({type:"duplicate",message:`Multiple <footer> elements found (max: ${e.rules.maxFooter})`,element:a});let o=e.rules.order,l=-1;for(let c of r){let d=o.indexOf(c);if(d!==-1&&d<l){s.push({type:"order",message:`Invalid child order: <${c}> should appear before elements that follow it in the semantic order (header > section > footer)`,element:a});break}d!==-1&&(l=d)}return s}function Z(a){for(let t of a)console.warn(`[Vanilla Breeze] Content model warning in <${t.element.tagName.toLowerCase()}>:`,t.message,t.element),t.element.setAttribute("data-debug-invalid",""),t.element.setAttribute("data-debug-message",t.message)}function X(a){a.removeAttribute("data-debug-invalid"),a.removeAttribute("data-debug-message")}function O(){for(let[a,t]of Object.entries(E)){let e=document.querySelectorAll(a);for(let s of e){X(s);let i=Q(s,a,t);i.length>0&&Z(i)}}}function tt(){if(!G())return;console.info("[Vanilla Breeze] Debug mode enabled - content model validation active"),document.readyState==="loading"?document.addEventListener("DOMContentLoaded",O):O(),new MutationObserver(t=>{let e=!1;for(let s of t)if(s.type==="childList"){let i=s.target;if(i.tagName&&E[i.tagName.toLowerCase()]){e=!0;break}for(let n of s.addedNodes)if(n.nodeType===Node.ELEMENT_NODE&&(E[n.tagName.toLowerCase()]||n.querySelector(Object.keys(E).join(",")))){e=!0;break}}e&&O()}).observe(document.body,{childList:!0,subtree:!0})}tt();u.init();V();
