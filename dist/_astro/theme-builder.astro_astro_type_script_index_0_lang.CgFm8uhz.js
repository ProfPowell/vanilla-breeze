class n{constructor(){this.previewPanel=document.getElementById("preview-panel"),this.cssModal=document.getElementById("css-modal"),this.cssOutput=document.getElementById("css-output"),this.currentTheme="default",this.currentMode="light",this.customTokens={},this.init()}init(){document.querySelectorAll(".preset-btn").forEach(e=>{e.addEventListener("click",()=>this.applyPreset(e.dataset.theme))}),document.querySelectorAll(".mode-btn").forEach(e=>{e.addEventListener("click",()=>this.setMode(e.dataset.mode))}),document.querySelectorAll('.controls-panel input[type="range"], .controls-panel select').forEach(e=>{e.addEventListener("input",()=>this.updateToken(e))}),document.getElementById("copy-css")?.addEventListener("click",()=>this.showCSSModal()),document.getElementById("download-css")?.addEventListener("click",()=>this.downloadCSS()),document.getElementById("reset-theme")?.addEventListener("click",()=>this.reset()),document.getElementById("close-modal")?.addEventListener("click",()=>this.cssModal?.close()),document.getElementById("modal-copy")?.addEventListener("click",()=>this.copyToClipboard()),this.updateActivePreset("default")}applyPreset(e){this.currentTheme=e,e==="default"?this.previewPanel?.removeAttribute("data-theme"):this.previewPanel?.setAttribute("data-theme",e),this.customTokens={},this.previewPanel?.removeAttribute("style"),this.updateActivePreset(e)}updateActivePreset(e){document.querySelectorAll(".preset-btn").forEach(t=>{t.classList.toggle("active",t.dataset.theme===e)})}setMode(e){this.currentMode=e,e==="auto"?this.previewPanel?.removeAttribute("data-mode"):this.previewPanel?.setAttribute("data-mode",e),document.querySelectorAll(".mode-btn").forEach(t=>{t.classList.toggle("active",t.dataset.mode===e)})}updateToken(e){const t=e.dataset.token,s=e.value,a=document.querySelector(`[data-for="${t}"]`);if(a){let o=s;t.includes("radius")&&t!=="--radius-scale"?o=`${s}rem`:t==="--font-size-base-px"?o=`${s}px`:t==="--duration-scale"&&(o=`${s}x`),a.textContent=o}this.customTokens[t]=s,this.applyCustomTokens()}applyCustomTokens(){let e="";for(const[t,s]of Object.entries(this.customTokens))switch(t){case"--hue-primary":e+=`--color-primary: oklch(50% 0.15 ${s}); `,e+=`--color-interactive: oklch(50% 0.15 ${s}); `;break;case"--hue-secondary":e+=`--color-secondary: oklch(50% 0.1 ${s}); `;break;case"--hue-accent":e+=`--color-accent: oklch(65% 0.15 ${s}); `;break;case"--saturation-primary":const a=this.customTokens["--hue-primary"]||250;e+=`--color-primary: oklch(50% ${s} ${a}); `;break;case"--radius-s-value":e+=`--radius-s: ${s}rem; `;break;case"--radius-m-value":e+=`--radius-m: ${s}rem; `;break;case"--radius-l-value":e+=`--radius-l: ${s}rem; `;break;case"--shadow-intensity":const o=parseFloat(s);e+=`--shadow-sm: 0 2px ${4*o}px oklch(0% 0 0 / ${.1*o}); `,e+=`--shadow-md: 0 4px ${8*o}px oklch(0% 0 0 / ${.12*o}); `,e+=`--shadow-lg: 0 8px ${16*o}px oklch(0% 0 0 / ${.15*o}); `;break;case"--font-family":e+=`--font-sans: ${s}; `;break;case"--font-size-base-px":e+=`font-size: ${s}px; `;break;case"--line-height":e+=`--line-height-normal: ${s}; `;break;case"--duration-scale":const r=parseFloat(s);e+=`--duration-fast: ${Math.round(100*r)}ms; `,e+=`--duration-normal: ${Math.round(200*r)}ms; `,e+=`--duration-slow: ${Math.round(400*r)}ms; `;break;case"--ease-type":e+=`--ease-default: ${s}; `;break}this.previewPanel&&(this.previewPanel.style.cssText=e)}generateCSS(){const e="custom";let t=`/* Custom Vanilla Breeze Theme */
`;t+=`:root[data-theme="${e}"],
`,t+=`[data-theme="${e}"] {
`;for(const[s,a]of Object.entries(this.customTokens))switch(s){case"--hue-primary":t+=`  --hue-primary: ${a};
`,t+=`  --color-primary: oklch(50% 0.15 ${a});
`;break;case"--hue-secondary":t+=`  --hue-secondary: ${a};
`,t+=`  --color-secondary: oklch(50% 0.1 ${a});
`;break;case"--hue-accent":t+=`  --hue-accent: ${a};
`,t+=`  --color-accent: oklch(65% 0.15 ${a});
`;break;case"--radius-s-value":t+=`  --radius-s: ${a}rem;
`;break;case"--radius-m-value":t+=`  --radius-m: ${a}rem;
`;break;case"--radius-l-value":t+=`  --radius-l: ${a}rem;
`;break;case"--font-family":t+=`  --font-sans: ${a};
`;break;case"--line-height":t+=`  --line-height-normal: ${a};
`;break}return t+=`}
`,this.currentTheme!=="default"&&(t=`/* Based on: ${this.currentTheme} theme */
`+t),t}showCSSModal(){const e=this.generateCSS();this.cssOutput&&(this.cssOutput.textContent=e),this.cssModal?.showModal()}downloadCSS(){const e=this.generateCSS(),t=new Blob([e],{type:"text/css"}),s=URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.download="custom-theme.css",a.click(),URL.revokeObjectURL(s)}async copyToClipboard(){const e=this.generateCSS();try{await navigator.clipboard.writeText(e);const t=document.getElementById("modal-copy");if(t){const s=t.textContent;t.textContent="Copied!",setTimeout(()=>{t.textContent=s},2e3)}}catch(t){console.error("Failed to copy:",t)}}reset(){this.customTokens={},this.previewPanel?.removeAttribute("style"),this.applyPreset("default"),this.setMode("light"),document.querySelectorAll('.controls-panel input[type="range"]').forEach(e=>{e.value=e.defaultValue;const t=document.querySelector(`[data-for="${e.dataset.token}"]`);t&&(t.textContent=e.defaultValue)}),document.querySelectorAll(".controls-panel select").forEach(e=>{e.selectedIndex=0})}}new n;document.getElementById("demo-form")?.addEventListener("submit",c=>c.preventDefault());
