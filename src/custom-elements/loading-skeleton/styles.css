loading-skeleton {
  display: block;
  background: var(--_bg, var(--color-gray-200));
  border-radius: var(--radius-s);
  animation: skeleton-shimmer 1.5s ease-in-out infinite;
  position: relative;
  overflow: hidden;

  /* Default dimensions */
  height: var(--_height, 1em);
  width: var(--_width, 100%);

  /* Shimmer overlay */
  &::after {
    content: "";
    position: absolute;
    inset: 0;
    background: linear-gradient(
      90deg,
      transparent 0%,
      oklch(100% 0 0 / 0.4) 50%,
      transparent 100%
    );
    transform: translateX(-100%);
    animation: skeleton-shimmer-sweep 1.5s ease-in-out infinite;
  }

  /* Text variant (default) */
  &[data-variant="text"] {
    --_height: 1em;
    --_width: 100%;
    border-radius: var(--radius-xs);
  }

  /* Circle variant */
  &[data-variant="circle"] {
    --_width: var(--_size, 3rem);
    --_height: var(--_size, 3rem);
    border-radius: var(--radius-full);
  }

  /* Rectangle variant */
  &[data-variant="rectangle"] {
    --_height: var(--_rect-height, 8rem);
    --_width: 100%;
    border-radius: var(--radius-m);
  }

  /* Sizes for circle */
  &[data-size="xs"] { --_size: 1.5rem; }
  &[data-size="sm"] { --_size: 2rem; }
  &[data-size="md"] { --_size: 3rem; }
  &[data-size="lg"] { --_size: 4rem; }
  &[data-size="xl"] { --_size: 6rem; }

  /* Heights for rectangle */
  &[data-height="sm"] { --_rect-height: 4rem; }
  &[data-height="md"] { --_rect-height: 8rem; }
  &[data-height="lg"] { --_rect-height: 12rem; }
  &[data-height="xl"] { --_rect-height: 16rem; }

  /* Width modifiers */
  &[data-width="25"] { --_width: 25%; }
  &[data-width="50"] { --_width: 50%; }
  &[data-width="75"] { --_width: 75%; }
  &[data-width="100"] { --_width: 100%; }

  /* Border style variants (outline only, no fill) */
  &[data-border="solid"] {
    --_bg: transparent;
    border: var(--border-width-thin) solid var(--color-gray-300);

    &::after {
      display: none;
    }
  }

  &[data-border="dashed"] {
    --_bg: transparent;
    border: var(--border-width-thin) dashed var(--color-gray-300);

    &::after {
      display: none;
    }
  }

  &[data-border="dotted"] {
    --_bg: transparent;
    border: var(--border-width-thin) dotted var(--color-gray-300);

    &::after {
      display: none;
    }
  }
}

@keyframes skeleton-shimmer {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.7;
  }
}

@keyframes skeleton-shimmer-sweep {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  loading-skeleton {
    animation: none;

    &::after {
      animation: none;
      display: none;
    }
  }
}
