/**
 * Chart Base Styles
 *
 * Resets table styling and establishes common chart patterns.
 * All chart types extend from these base styles.
 */

/* Base chart container - table reset */
.vb-chart {
  display: block;
  width: 100%;
  border-collapse: collapse;
  border-spacing: 0;
  font-family: inherit;
}

/* Caption styling - chart title */
.vb-chart caption {
  display: block;
  text-align: start;
  font-weight: 600;
  margin-block-end: var(--size-s, 0.75rem);
  color: var(--color-text, inherit);
  font-size: var(--font-size-base, 1rem);
}

/* Hide thead visually but keep accessible for screen readers */
.vb-chart thead {
  position: absolute;
  width: 1px;
  height: 1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  clip-path: inset(50%);
  white-space: nowrap;
}

/* Reset tbody and rows */
.vb-chart tbody {
  display: block;
}

.vb-chart tr {
  display: block;
}

/* Row headers - data labels */
.vb-chart th {
  display: block;
  font-weight: normal;
  text-align: start;
  color: var(--chart-label-color);
  font-size: var(--font-size-sm, 0.875rem);
}

/* Data cells - contain the visual bar/column */
.vb-chart td {
  display: block;
  position: relative;
}

/* Axes display */
.vb-chart[data-axes="y"] tbody,
.vb-chart[data-axes="both"] tbody {
  border-inline-start: 1px solid var(--chart-axis-color);
  padding-inline-start: var(--size-xs, 0.5rem);
}

.vb-chart[data-axes="x"] tbody,
.vb-chart[data-axes="both"] tbody {
  border-block-end: 1px solid var(--chart-axis-color);
  padding-block-end: var(--size-xs, 0.5rem);
}

/* Print styles - revert to readable table */
@media print {
  .vb-chart {
    display: table;
  }

  .vb-chart caption {
    display: table-caption;
  }

  .vb-chart thead {
    position: static;
    width: auto;
    height: auto;
    overflow: visible;
    clip: auto;
    clip-path: none;
    white-space: normal;
    display: table-header-group;
  }

  .vb-chart tbody {
    display: table-row-group;
  }

  .vb-chart tr {
    display: table-row;
  }

  .vb-chart th,
  .vb-chart td {
    display: table-cell;
    padding: var(--size-xs, 0.5rem);
    border: 1px solid var(--chart-axis-color);
    background: none !important;
    width: auto !important;
    height: auto !important;
    font-size: inherit !important;
    color: inherit !important;
  }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  .vb-chart td {
    transition: none !important;
  }
}
