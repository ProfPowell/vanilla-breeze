/* image: Responsive img and picture styling */

img {
  max-inline-size: 100%;
  block-size: auto;
  display: block;
  vertical-align: middle;
}

picture {
  display: block;
}

picture > img {
  inline-size: 100%;
}

/* --- Image Variants --- */

/* Full-width image */
.img-full {
  inline-size: 100%;
  block-size: auto;
}

/* Contain within bounds */
.img-contain {
  object-fit: contain;
}

/* Cover/crop to fill */
.img-cover {
  object-fit: cover;
}

/* Rounded image */
.img-rounded {
  border-radius: var(--radius-m);
}

/* Circular image (avatars) */
.img-circle {
  border-radius: var(--radius-full);
  aspect-ratio: 1;
  object-fit: cover;
}

/* Thumbnail with border */
.img-thumbnail {
  padding: var(--space-2xs);
  background: var(--color-surface);
  border: var(--border-thin) solid var(--color-border);
  border-radius: var(--radius-s);
}

/* --- Aspect Ratio Containers --- */

.img-ratio-square {
  aspect-ratio: 1;
  object-fit: cover;
}

.img-ratio-video {
  aspect-ratio: 16 / 9;
  object-fit: cover;
}

.img-ratio-portrait {
  aspect-ratio: 3 / 4;
  object-fit: cover;
}

.img-ratio-landscape {
  aspect-ratio: 4 / 3;
  object-fit: cover;
}

/* --- Loading States --- */

img[loading="lazy"] {
  background: var(--color-surface-raised);
}

/* Placeholder for broken images */
img:not([src]),
img[src=""] {
  background: var(--color-surface-raised);
  min-block-size: 100px;

  &::before {
    content: "";
    display: block;
  }
}
