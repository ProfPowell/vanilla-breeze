/* figure: Figure with caption styling */

figure {
  display: block;
  margin: 0;

  & > img,
  & > video,
  & > picture,
  & > iframe,
  & > canvas {
    display: block;
    inline-size: 100%;
    block-size: auto;
  }

  /* --- Variants (use element.class scoping) --- */

  /* Full-width figure */
  &.full {
    inline-size: 100%;
  }

  /* Bordered figure */
  &.bordered {
    padding: var(--size-s);
    border: var(--border-width-thin) solid var(--color-border);
    border-radius: var(--radius-m);

    & > figcaption {
      margin-block-start: var(--size-s);
      padding-block-start: var(--size-s);
      border-block-start: var(--border-width-thin) solid var(--color-border);
    }
  }

  /* Float left figure */
  &.float-start {
    float: inline-start;
    max-inline-size: 50%;
    margin-inline-end: var(--size-l);
    margin-block-end: var(--size-s);
  }

  /* Float right figure */
  &.float-end {
    float: inline-end;
    max-inline-size: 50%;
    margin-inline-start: var(--size-l);
    margin-block-end: var(--size-s);
  }

  /* Centered figure */
  &.centered {
    margin-inline: auto;
    text-align: center;
  }

  /* Code figure (for code examples) */
  &.code {
    & > pre {
      margin: 0;
      border-radius: var(--radius-m) var(--radius-m) 0 0;
    }

    & > figcaption {
      padding: var(--size-xs) var(--size-s);
      background: var(--color-surface-raised);
      border-radius: 0 0 var(--radius-m) var(--radius-m);
      font-family: var(--font-mono);
    }
  }

  /* Quote figure */
  &.quote {
    & > blockquote {
      margin: 0;
    }

    & > figcaption {
      font-style: normal;

      &::before {
        content: "â€” ";
      }
    }
  }
}

figcaption {
  font-size: var(--font-size-sm);
  color: var(--color-text-muted);
  margin-block-start: var(--size-s);

  /* --- Caption Variants --- */

  &.centered {
    text-align: center;
  }

  &.end {
    text-align: end;
  }

  &.hidden {
    position: absolute;
    inline-size: 1px;
    block-size: 1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
  }
}
