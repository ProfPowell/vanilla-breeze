input:not(:is([type="checkbox"], [type="radio"], [type="range"], [type="submit"], [type="button"], [type="reset"])),
textarea,
select {
  display: block;
  inline-size: 100%;
  padding-block: var(--size-s);
  padding-inline: var(--size-s);
  min-block-size: var(--size-touch-min);
  border: var(--border-width-thin) solid var(--color-border);
  border-radius: var(--radius-m);
  background: var(--color-surface);
  font: inherit;
  transition: border-color var(--duration-fast) var(--ease-default);

  &:focus {
    outline: none;
    border-color: var(--color-interactive);
    box-shadow: 0 0 0 3px oklch(from var(--color-interactive) l c h / 0.15);
  }

  &::placeholder {
    color: var(--color-text-muted);
  }

  &:disabled {
    background: var(--color-surface-raised);
    cursor: not-allowed;
  }

  /* ARIA invalid for JS-driven validation */
  &[aria-invalid="true"] {
    border-color: var(--color-error);
  }

  /* CSS-only validation - only after user interaction */
  &:user-invalid {
    border-color: var(--color-error);
  }
}

textarea {
  min-block-size: 8rem;
  resize: vertical;
}

label {
  display: block;
  font-weight: 500;
  margin-block-end: var(--size-xs);
}

/* Labels containing checkboxes/radios - inline flex alignment */
label:has(input[type="checkbox"]),
label:has(input[type="radio"]) {
  display: inline-flex;
  align-items: center;
  gap: var(--size-xs);
  margin-block-end: 0;
  cursor: pointer;
}

fieldset {
  border: var(--border-width-thin) solid var(--color-border);
  border-radius: var(--radius-m);
  padding: var(--size-m);
}

legend {
  font-weight: 600;
  padding-inline: var(--size-xs);
}
