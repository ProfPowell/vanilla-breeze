/* Toggle Switch
   Checkbox styled as an on/off toggle.
   Sizes: default, data-switch="sm", data-switch="lg"
   ---------------------------------------------------------------- */

input[data-switch] {
  appearance: none;
  position: relative;
  display: inline-block;
  inline-size: 2.75rem;
  block-size: 1.5rem;
  border-radius: var(--radius-pill, 999px);
  background: var(--color-border, oklch(75% 0 0));
  border: none;
  cursor: pointer;
  vertical-align: middle;
  flex-shrink: 0;
  transition: background-color var(--duration-fast, 150ms) var(--ease-default, ease);
}

/* Knob */
input[data-switch]::before {
  content: '';
  position: absolute;
  inset-block-start: 2px;
  inset-inline-start: 2px;
  inline-size: calc(1.5rem - 4px);
  block-size: calc(1.5rem - 4px);
  border-radius: 50%;
  background: white;
  box-shadow: 0 1px 3px oklch(0% 0 0 / 0.2);
  transition: translate var(--duration-fast, 150ms) var(--ease-default, ease);
}

/* Checked state */
input[data-switch]:checked {
  background: var(--color-interactive, oklch(55% 0.2 260));
}

input[data-switch]:checked::before {
  translate: calc(2.75rem - 1.5rem) 0;
}

/* Focus */
input[data-switch]:focus-visible {
  outline: 2px solid var(--color-interactive, oklch(55% 0.2 260));
  outline-offset: 2px;
}

/* Disabled */
input[data-switch]:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Small variant */
input[data-switch="sm"] {
  inline-size: 2rem;
  block-size: 1.125rem;
}

input[data-switch="sm"]::before {
  inline-size: calc(1.125rem - 4px);
  block-size: calc(1.125rem - 4px);
}

input[data-switch="sm"]:checked::before {
  translate: calc(2rem - 1.125rem) 0;
}

/* Large variant */
input[data-switch="lg"] {
  inline-size: 3.5rem;
  block-size: 2rem;
}

input[data-switch="lg"]::before {
  inline-size: calc(2rem - 4px);
  block-size: calc(2rem - 4px);
}

input[data-switch="lg"]:checked::before {
  translate: calc(3.5rem - 2rem) 0;
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  input[data-switch],
  input[data-switch]::before {
    transition-duration: 0s;
  }
}
