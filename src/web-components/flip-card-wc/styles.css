/* flip-card-wc: Accessible 3D flip card */

flip-card-wc {
  --flip-duration: var(--duration-normal, 400ms);

  display: grid;
  perspective: 800px;
}

/* Duration variants */
flip-card-wc[data-duration="fast"] {
  --flip-duration: var(--duration-fast, 200ms);
}

flip-card-wc[data-duration="slow"] {
  --flip-duration: var(--duration-slow, 600ms);
}

/* Whole-card trigger: show pointer cursor */
flip-card-wc[role="button"] {
  cursor: pointer;
}

/* Both faces occupy the same grid cell */
flip-card-wc > [data-face] {
  grid-area: 1 / 1;
  backface-visibility: hidden;
  transition: transform var(--flip-duration) var(--ease-default, ease);
}

/* Back face is pre-rotated */
flip-card-wc > [data-face="back"] {
  transform: rotateY(180deg);
}

/* Flipped state: rotate both faces */
flip-card-wc[data-flipped] > [data-face="front"] {
  transform: rotateY(180deg);
}

flip-card-wc[data-flipped] > [data-face="back"] {
  transform: rotateY(0deg);
}

/* --- Vertical orientation --- */

flip-card-wc[data-orientation="vertical"] > [data-face="back"] {
  transform: rotateX(180deg);
}

flip-card-wc[data-orientation="vertical"][data-flipped] > [data-face="front"] {
  transform: rotateX(180deg);
}

flip-card-wc[data-orientation="vertical"][data-flipped] > [data-face="back"] {
  transform: rotateX(0deg);
}

/* --- Progressive enhancement: no-JS fallback --- */
/* Without JS, both faces stack naturally (grid auto rows) */
flip-card-wc:not(:defined) > [data-face] {
  backface-visibility: visible;
  transform: none;
}

flip-card-wc:not(:defined) > [data-face="back"] {
  margin-block-start: var(--size-m);
}

/* --- Reduced motion --- */

@media (prefers-reduced-motion: reduce) {
  flip-card-wc {
    --flip-duration: 0s;
  }
}
