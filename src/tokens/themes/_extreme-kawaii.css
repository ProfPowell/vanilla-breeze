/**
 * Extreme Theme: Kawaii
 * Japanese cute aesthetic
 * Inspired by Harajuku fashion and kawaii culture
 *
 * Character: Playful, cute, colorful
 * - Pastel pink/mint/lavender palette
 * - Rounded pill shapes
 * - Bouncy animations
 * - Decorative sparkle elements
 */

:root[data-theme~="kawaii"],
[data-theme~="kawaii"] {
  color-scheme: light;

  /* Theme hints for ThemeManager */
  --theme-border-style: kawaii;
  --theme-icon-set: mage;

  /* ===== COLORS ===== */
  --color-surface: oklch(98% 0.02 350); /* Soft pink-white */
  --color-surface-alt: oklch(95% 0.04 350); /* Light pink */
  --color-surface-raised: oklch(100% 0 0);
  --color-surface-sunken: oklch(92% 0.05 350);
  --color-background: oklch(97% 0.03 350);

  --color-text: oklch(25% 0.08 330); /* Darker purple-brown for contrast */
  --color-text-muted: oklch(40% 0.06 330);
  --color-text-subtle: oklch(50% 0.04 330);

  --color-primary: oklch(55% 0.18 350); /* Darker kawaii pink for contrast */
  --color-primary-hover: oklch(50% 0.2 350);
  --color-primary-subtle: oklch(95% 0.05 350);

  --color-accent: oklch(45% 0.12 180); /* Darker mint green for contrast */
  --color-accent-hover: oklch(40% 0.14 180);
  --color-accent-subtle: oklch(95% 0.04 180);

  /* Extra kawaii colors - darkened for contrast */
  --color-lavender: oklch(55% 0.12 290);
  --color-peach: oklch(55% 0.12 60);
  --color-sky: oklch(50% 0.12 220);

  --color-border: oklch(90% 0.05 350);
  --color-border-muted: oklch(94% 0.03 350);
  --color-border-strong: oklch(75% 0.15 350);

  --color-interactive: var(--color-primary);
  --color-interactive-hover: var(--color-primary-hover);

  /* ===== TYPOGRAPHY ===== */
  --font-sans: "Nunito", "Quicksand", "Varela Round", system-ui, sans-serif;
  --font-mono: "Fira Code", monospace;

  --text-heading-1: 2.5rem;
  --text-heading-2: 1.875rem;
  --text-heading-3: 1.5rem;
  --text-heading-4: 1.25rem;
  --text-body: 1rem;

  --weight-normal: 400;
  --weight-bold: 700;
  --line-height-normal: 1.6;
  --line-height-tight: 1.3;

  /* ===== SHAPE ===== */
  /* Very rounded, pill-like shapes */
  --radius-xs: 0.5rem;
  --radius-s: 0.75rem;
  --radius-m: 1rem;
  --radius-l: 1.5rem;
  --radius-xl: 2rem;
  --radius-2xl: 3rem;
  --radius-full: 9999px;

  /* ===== SHADOWS ===== */
  /* Soft, colorful shadows */
  --shadow-xs: 0 2px 4px oklch(75% 0.15 350 / 0.15);
  --shadow-sm: 0 4px 8px oklch(75% 0.15 350 / 0.2);
  --shadow-md: 0 6px 16px oklch(75% 0.15 350 / 0.25);
  --shadow-lg: 0 10px 24px oklch(75% 0.15 350 / 0.3);
  --shadow-xl: 0 16px 32px oklch(75% 0.15 350 / 0.35);
  --shadow-2xl: 0 24px 48px oklch(75% 0.15 350 / 0.4);

  /* ===== MOTION ===== */
  --duration-instant: 50ms;
  --duration-fast: 150ms;
  --duration-normal: 300ms;
  --duration-slow: 500ms;

  /* Bouncy easing */
  --ease-default: cubic-bezier(0.34, 1.56, 0.64, 1);
  --ease-out: cubic-bezier(0.22, 1, 0.36, 1);
  --ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

/* Kawaii component overrides */
:root[data-theme~="kawaii"],
[data-theme~="kawaii"] {
  /* Sparkle decoration keyframes */
  @keyframes sparkle {
    0%,
    100% {
      opacity: 1;
      transform: scale(1);
    }
    50% {
      opacity: 0.5;
      transform: scale(0.8);
    }
  }

  @keyframes bounce {
    0%,
    100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-5px);
    }
  }

  @keyframes wiggle {
    0%,
    100% {
      transform: rotate(-3deg);
    }
    50% {
      transform: rotate(3deg);
    }
  }

  & :is(main, article) {
  /* Cute dividers with hearts */
  & hr {
    border: none;
    height: 2rem;
    background: transparent;
    position: relative;
    margin-block: 2rem;

    &::before {
      content: "â™¡ âœ¦ â™¡ âœ¦ â™¡";
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      color: var(--color-primary);
      font-size: 1.25rem;
      letter-spacing: 0.5rem;
      animation: sparkle 2s ease-in-out infinite;
    }
  }

  /* Cute headings */
  & h1,
  & h2,
  & h3 {
    position: relative;
  }

  & h1 {
    color: var(--color-primary);

    &::before {
      content: "âœ¿ ";
    }

    &::after {
      content: " âœ¿";
    }
  }

  & h2 {
    color: var(--color-lavender);

    &::before {
      content: "â˜… ";
      animation: sparkle 1.5s ease-in-out infinite;
    }
  }

  & h3 {
    color: var(--color-accent);
  }

  /* Links with heart underline */
  & a:not([class]) {
    color: var(--color-primary);
    text-decoration: none;
    position: relative;

    &::after {
      content: "";
      position: absolute;
      bottom: -2px;
      left: 0;
      width: 100%;
      height: 2px;
      background: linear-gradient(
        90deg,
        var(--color-primary),
        var(--color-lavender),
        var(--color-accent)
      );
      border-radius: var(--radius-full);
      transform: scaleX(0);
      transition: transform 0.3s var(--ease-bounce);
    }

    &:hover {
      &::after {
        transform: scaleX(1);
      }
    }
  }

  /* Bouncy buttons */
  & button,
  & .button {
    border-radius: var(--radius-full);
    background: linear-gradient(135deg, var(--color-primary), var(--color-lavender));
    border: none;
    color: white;
    font-weight: 700;
    box-shadow: var(--shadow-md);
    transition: all 0.3s var(--ease-bounce);

    &:hover {
      transform: translateY(-3px) scale(1.02);
      box-shadow: var(--shadow-lg);
    }

    &:active {
      transform: translateY(0) scale(0.98);
    }
  }

  /* Cute cards */
  & .card {
    border-radius: var(--radius-xl);
    background: var(--color-surface-raised);
    border: 2px solid var(--color-border);
    box-shadow: var(--shadow-md);
    position: relative;
    overflow: visible;
    transition: all 0.3s var(--ease-default);

    /* Decorative corner */
    &::before {
      content: "â™¡";
      position: absolute;
      top: -0.75rem;
      right: 1rem;
      background: var(--color-primary);
      color: white;
      width: 1.5rem;
      height: 1.5rem;
      border-radius: var(--radius-full);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.75rem;
    }

    &:hover {
      transform: translateY(-5px) rotate(1deg);
      box-shadow: var(--shadow-lg);
    }
  }

  /* Cute inputs */
  & input,
  & textarea {
    border-radius: var(--radius-full);
    border: 2px solid var(--color-border);
    background: var(--color-surface-raised);
    padding: 0.75rem 1.25rem;
    transition: all 0.3s var(--ease-default);

    &:focus {
      border-color: var(--color-primary);
      box-shadow: 0 0 0 4px var(--color-primary-subtle);
      outline: none;
    }

    &::placeholder {
      color: var(--color-text-subtle);
    }
  }

  /* Cute blockquotes */
  & blockquote {
    background: linear-gradient(
      135deg,
      var(--color-primary-subtle),
      oklch(95% 0.04 290)
    );
    border: none;
    border-radius: var(--radius-xl);
    padding: 1.5rem 2rem;
    position: relative;

    &::before {
      content: "ðŸ’­";
      position: absolute;
      top: -1rem;
      left: 1.5rem;
      font-size: 2rem;
    }
  }

  /* Cute code */
  & code {
    background: var(--color-accent-subtle);
    color: oklch(35% 0.12 180); /* Darker for better contrast */
    border-radius: var(--radius-s);
    padding: 0.125rem 0.375rem;
  }

  & pre {
    background: linear-gradient(135deg, oklch(95% 0.04 180), oklch(95% 0.04 220));
    border-radius: var(--radius-l);
    border: 2px solid var(--color-accent);
  }

  /* Lists with cute markers */
  & ul:not([class]) {
    list-style: none;

    & > li::before {
      content: "â™¡";
      color: var(--color-primary);
      margin-inline-end: 0.5rem;
    }
  }

  & ol:not([class]) {
    list-style: none;
    counter-reset: kawaii;

    & > li {
      counter-increment: kawaii;

      &::before {
        content: counter(kawaii) "â™¡";
        color: var(--color-lavender);
        margin-inline-end: 0.5rem;
        font-weight: 700;
      }
    }
  }
  }

  & :is(main, article) code-block {
    --cb-bg: oklch(95% 0.03 350);
    --cb-code-bg: oklch(95% 0.03 350);
    --cb-header-bg: oklch(97% 0.02 350);
    --cb-text-color: var(--color-text);
    --cb-border-color: var(--color-border);
    --cb-comment: var(--color-text-muted);
    --cb-keyword: var(--color-primary);
    --cb-string: var(--color-lavender);
    --cb-function: var(--color-accent);
    --cb-number: var(--color-sky);
    --cb-tag: var(--color-accent);
    --cb-attribute: var(--color-primary);
    --cb-button-bg: oklch(97% 0.02 350);
    --cb-button-color: var(--color-text-muted);
    --cb-scrollbar-thumb: var(--color-border);
  }

  & :is(main, article) browser-window {
    --browser-window-header-bg: oklch(97% 0.02 350);
    --browser-window-border-color: var(--color-border);
    --browser-window-url-bg: oklch(99% 0.01 350);
    --browser-window-text-muted: var(--color-text-muted);
  }

  /* Selection */
  & ::selection {
    background: var(--color-primary);
    color: white;
  }
}

/* Dark mode - night kawaii */
:root[data-theme~="kawaii"][data-mode="dark"],
[data-theme~="kawaii"][data-mode="dark"] {
  color-scheme: dark;

  --color-surface: oklch(18% 0.04 290);
  --color-surface-alt: oklch(22% 0.05 290);
  --color-surface-raised: oklch(25% 0.04 290);
  --color-background: oklch(12% 0.04 290);

  --color-text: oklch(92% 0.03 350);
  --color-text-muted: oklch(75% 0.04 350);

  /* Lighter colors in dark mode for contrast */
  --color-primary: oklch(75% 0.18 350);
  --color-accent: oklch(75% 0.15 180);
  --color-lavender: oklch(75% 0.12 290);
  --color-peach: oklch(75% 0.12 60);
  --color-sky: oklch(70% 0.12 220);

  --color-border: oklch(35% 0.05 290);
}
