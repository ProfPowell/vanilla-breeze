/**
 * Extreme Theme: Organic
 * Warm, flowing, earthy, handcrafted feel
 * Inspired by natural materials and organic shapes
 *
 * Character: Natural, warm, flowing
 * - Serif typography (Charter/Georgia)
 * - Earthy warm colors
 * - Large organic radii
 * - Soft diffused shadows
 */

:root[data-theme="organic"],
[data-theme="organic"] {
  /* ===== COLORS ===== */
  --color-surface: oklch(97% 0.02 80); /* Warm cream */
  --color-surface-alt: oklch(94% 0.03 75); /* Soft sand */
  --color-surface-raised: oklch(99% 0.01 80); /* Off-white */
  --color-surface-sunken: oklch(90% 0.04 70); /* Warm beige */
  --color-background: oklch(97% 0.02 80);

  --color-text: oklch(22% 0.05 50); /* Warm dark brown */
  --color-text-muted: oklch(40% 0.04 50); /* Improved contrast */
  --color-text-subtle: oklch(50% 0.03 60); /* Improved contrast */

  --color-primary: oklch(50% 0.12 145); /* Forest green */
  --color-primary-hover: oklch(45% 0.14 145);
  --color-primary-subtle: oklch(95% 0.04 145);

  --color-accent: oklch(65% 0.15 55); /* Terracotta */
  --color-accent-hover: oklch(55% 0.15 55);
  --color-accent-subtle: oklch(95% 0.05 55);

  --color-border: oklch(85% 0.04 70);
  --color-border-muted: oklch(90% 0.03 70);
  --color-border-strong: oklch(70% 0.06 60);

  --color-interactive: var(--color-primary);
  --color-interactive-hover: var(--color-primary-hover);

  /* ===== TYPOGRAPHY ===== */
  --font-sans: Charter, "Bitstream Charter", "Sitka Text", Cambria, Georgia, serif;
  --font-mono: "Source Code Pro", Menlo, Consolas, monospace;

  --text-heading-1: 2.75rem;
  --text-heading-2: 2rem;
  --text-heading-3: 1.5rem;
  --text-heading-4: 1.25rem;

  --weight-normal: 400;
  --weight-bold: 600;
  --line-height-normal: 1.7;
  --line-height-tight: 1.2;

  /* ===== SHAPE ===== */
  /* Organic, varying curves */
  --radius-xs: 0.375rem;
  --radius-s: 0.5rem;
  --radius-m: 0.75rem;
  --radius-l: 1rem;
  --radius-xl: 1.5rem;
  --radius-2xl: 2rem;

  /* Organic blob-like radius */
  --radius-organic: 40% 60% 70% 30% / 40% 50% 60% 50%;

  /* ===== SHADOWS ===== */
  /* Soft, diffused shadows */
  --shadow-xs: 0 1px 4px -1px oklch(30% 0.05 60 / 0.1);
  --shadow-sm: 0 2px 8px -2px oklch(30% 0.05 60 / 0.15);
  --shadow-md: 0 4px 16px -4px oklch(30% 0.05 60 / 0.2);
  --shadow-lg: 0 8px 24px -6px oklch(30% 0.05 60 / 0.25);
  --shadow-xl: 0 16px 40px -8px oklch(30% 0.05 60 / 0.3);
  --shadow-2xl: 0 24px 56px -12px oklch(30% 0.05 60 / 0.35);

  /* ===== MOTION ===== */
  --duration-instant: 50ms;
  --duration-fast: 150ms;
  --duration-normal: 300ms;
  --duration-slow: 500ms;

  --ease-default: cubic-bezier(0.4, 0, 0.2, 1);
  --ease-out: cubic-bezier(0.22, 1, 0.36, 1);
}

/* Organic page-level effects - only on :root */
:root[data-theme="organic"]::before {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  opacity: 0.03;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
  z-index: 9998;
}

/* Organic component overrides */
:root[data-theme="organic"],
[data-theme="organic"] {
  /* Flowing dividers */
  & hr {
    border: none;
    height: 2px;
    margin-block: 2.5rem;
    background: linear-gradient(
      90deg,
      transparent,
      var(--color-border-strong) 20%,
      var(--color-border-strong) 80%,
      transparent
    );
  }

  /* Organic heading styles */
  & h1,
  & h2 {
    position: relative;

    &::after {
      content: "";
      display: block;
      width: 3rem;
      height: 3px;
      margin-block-start: 0.75rem;
      background: var(--color-accent);
      border-radius: 9999px;
    }
  }

  /* Links with organic underline */
  & a:not([class]) {
    color: var(--color-primary);
    text-decoration: none;
    background-image: linear-gradient(
      to right,
      var(--color-primary-subtle),
      var(--color-primary-subtle)
    );
    background-position: 0 100%;
    background-size: 100% 2px;
    background-repeat: no-repeat;
    transition: background-size 0.3s ease;

    &:hover {
      background-size: 100% 100%;
    }
  }

  /* Article with drop cap */
  & article > p:first-of-type::first-letter {
    font-size: 4rem;
    float: left;
    line-height: 0.8;
    margin-inline-end: 0.5rem;
    margin-block-start: 0.1em;
    color: var(--color-primary);
  }

  /* Blockquote with organic styling */
  & blockquote {
    position: relative;
    padding: 1.5rem 2rem;
    background: var(--color-surface-alt);
    border-radius: var(--radius-l);
    border: none;

    &::before {
      content: "\201C";
      position: absolute;
      top: -0.5rem;
      left: 1rem;
      font-size: 4rem;
      line-height: 1;
      color: var(--color-accent);
      opacity: 0.5;
    }
  }

  /* Cards with organic shape variation */
  & .card:nth-child(odd) {
    border-radius: 1.5rem 0.75rem 1.5rem 0.75rem;
  }

  & .card:nth-child(even) {
    border-radius: 0.75rem 1.5rem 0.75rem 1.5rem;
  }

  /* Buttons with organic feel */
  & button,
  & .button {
    border-radius: var(--radius-l);
    transition: all 0.3s ease;
  }

  /* Inputs with warmth */
  & input,
  & textarea {
    background: var(--color-surface-raised);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-m);
  }
}

/* Dark variant */
:root[data-theme="organic"][data-mode="dark"],
[data-theme="organic"][data-mode="dark"] {
  color-scheme: dark;

  --color-surface: oklch(18% 0.03 60);
  --color-surface-alt: oklch(22% 0.04 55);
  --color-surface-raised: oklch(25% 0.03 60);
  --color-surface-sunken: oklch(12% 0.02 60);
  --color-background: oklch(15% 0.03 60);

  --color-text: oklch(92% 0.02 70);
  --color-text-muted: oklch(70% 0.03 65);

  --color-border: oklch(35% 0.04 55);
  --color-border-muted: oklch(28% 0.03 55);
}

/* Dark mode texture adjustment */
:root[data-theme="organic"][data-mode="dark"]::before {
  opacity: 0.05;
}
