---
/**
 * Progressive Enhancement Charts
 *
 * CSS-only charting system built on semantic HTML tables.
 * Data remains accessible without CSS, beautiful with CSS.
 */

import LabLayout from '../../../layouts/LabLayout.astro';
---

<LabLayout
  title="Progressive Enhancement Charts"
  description="CSS-only charting using semantic HTML tables with Vanilla Breeze design tokens."
>
  <layout-center>
    <layout-stack>
      <!-- Breadcrumb -->
      <nav class="breadcrumb">
        <a href="/lab/">Lab</a>
        <span>/</span>
        <a href="/lab/experiments/">Experiments</a>
        <span>/</span>
        <span>Charts</span>
      </nav>

      <!-- Header -->
      <header>
        <h1>Progressive Enhancement Charts</h1>
        <p class="intro">
          A CSS-only charting system built on semantic HTML tables.
          Data remains accessible and readable without CSS, transforms
          into beautiful visualizations with CSS.
        </p>
        <p class="status-badge">Planning Phase</p>
      </header>

      <!-- Concept Section -->
      <section class="demo-section">
        <h2>The Concept</h2>
        <p>Traditional JavaScript charting libraries render canvas or SVG elements
           that are inaccessible without JavaScript. This experiment explores a
           different approach:</p>
        <ul>
          <li><strong>Semantic HTML first</strong> - Charts are HTML tables</li>
          <li><strong>CSS transforms data</strong> - Visual styling via CSS custom properties</li>
          <li><strong>Progressive enhancement</strong> - Works without CSS, beautiful with it</li>
          <li><strong>Vanilla Breeze tokens</strong> - Uses existing design system</li>
        </ul>
      </section>

      <!-- Example Section -->
      <section class="demo-section">
        <h2>Basic Example</h2>
        <p>A simple bar chart using semantic HTML:</p>
        <browser-window url="bar-chart-example">
          <!-- Placeholder demo -->
          <div class="chart-placeholder">
            <p>Chart demo will appear here</p>
          </div>
        </browser-window>
        <code-block language="html" label="Semantic table as chart">
          {`<table class="vb-chart bar">
  <caption>Monthly Sales</caption>
  <tbody>
    <tr>
      <th scope="row">January</th>
      <td style="--value: 65%">$6,500</td>
    </tr>
    <tr>
      <th scope="row">February</th>
      <td style="--value: 80%">$8,000</td>
    </tr>
  </tbody>
</table>`}
        </code-block>
      </section>

      <!-- Planned Features -->
      <section class="demo-section">
        <h2>Planned Chart Types</h2>
        <div class="feature-grid">
          <div class="feature-card">
            <h3>Bar Charts</h3>
            <p>Horizontal bars for comparisons</p>
          </div>
          <div class="feature-card">
            <h3>Column Charts</h3>
            <p>Vertical columns for time series</p>
          </div>
          <div class="feature-card">
            <h3>Line Charts</h3>
            <p>Connected data points</p>
          </div>
          <div class="feature-card">
            <h3>Area Charts</h3>
            <p>Filled regions under lines</p>
          </div>
        </div>
      </section>

      <!-- Resources Section -->
      <section class="demo-section">
        <h2>Resources</h2>
        <div class="resource-links">
          <a href="https://github.com/ProfPowell/vanilla-charts" class="resource-card" target="_blank" rel="noopener">
            <h3>Vanilla Charts Fork</h3>
            <p>The Charts.css fork we're building from</p>
          </a>
          <a href="/r-n-d/charts-experiment.md" class="resource-card">
            <h3>Planning Document</h3>
            <p>Detailed technical planning and design decisions</p>
          </a>
        </div>
      </section>
    </layout-stack>
  </layout-center>
</LabLayout>

<style>
  /* Standard Lab page styles */
  nav.breadcrumb {
    display: flex;
    align-items: center;
    gap: var(--size-xs);
    font-size: var(--font-size-sm);
    color: var(--color-text-muted);
  }

  nav.breadcrumb a {
    color: var(--color-primary);
    text-decoration: none;
  }

  nav.breadcrumb a:hover {
    text-decoration: underline;
  }

  header {
    margin-block-end: var(--size-xl);
  }

  h1 {
    margin-block-end: var(--size-s);
  }

  .intro {
    font-size: var(--font-size-lg);
    color: var(--color-text-muted);
    max-width: 60ch;
  }

  .status-badge {
    display: inline-block;
    padding: var(--size-xs) var(--size-s);
    background: var(--color-warning-subtle, #fef3c7);
    border-radius: var(--radius-s);
    font-size: var(--font-size-sm);
    font-weight: 500;
    margin-block-start: var(--size-m);
  }

  .demo-section {
    padding: var(--size-l);
    background: var(--color-surface);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-m);
  }

  .demo-section h2 {
    margin: 0 0 var(--size-s) 0;
  }

  .demo-section > p,
  .demo-section > ul {
    color: var(--color-text-muted);
    margin-block-end: var(--size-m);
  }

  .demo-section ul {
    padding-left: var(--size-l);
  }

  .demo-section li {
    margin-block-end: var(--size-xs);
  }

  .chart-placeholder {
    padding: var(--size-2xl);
    background: var(--color-surface-alt);
    border: 2px dashed var(--color-border);
    border-radius: var(--radius-m);
    text-align: center;
    color: var(--color-text-muted);
  }

  .feature-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: var(--size-m);
  }

  .feature-card {
    padding: var(--size-m);
    background: var(--color-surface-alt);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-s);
  }

  .feature-card h3 {
    margin: 0 0 var(--size-xs) 0;
    font-size: var(--font-size-base);
  }

  .feature-card p {
    margin: 0;
    font-size: var(--font-size-sm);
    color: var(--color-text-muted);
  }

  .resource-links {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--size-m);
  }

  .resource-card {
    display: block;
    padding: var(--size-m);
    background: var(--color-surface-alt);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-m);
    text-decoration: none;
    color: inherit;
    transition: border-color 0.15s ease, box-shadow 0.15s ease;
  }

  .resource-card:hover {
    border-color: var(--color-primary);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  }

  .resource-card h3 {
    margin: 0 0 var(--size-xs) 0;
    color: var(--color-primary);
  }

  .resource-card p {
    margin: 0;
    font-size: var(--font-size-sm);
    color: var(--color-text-muted);
  }
</style>
