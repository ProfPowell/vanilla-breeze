---
import DocsLayout from '../../../layouts/DocsLayout.astro';
---

<DocsLayout
  title="Table Responsive Examples"
  description="Responsive table layouts that adapt to narrow viewports using container queries and card-based layouts."
  currentSection="examples"
>
  <h1>Table Responsive Examples</h1>
  <p class="lead">Responsive table layouts that adapt to narrow viewports using container queries and card-based layouts.</p>

  <!-- Responsive Card Demo -->
  <section class="demo-section">
    <h2>Responsive Card Layout</h2>
    <p>When the table container is narrower than 500px, each row transforms into a card with labeled fields. Uses <code>data-responsive="card"</code> on the table and <code>data-label</code> on each cell.</p>

    <div class="resize-hint">
      <icon-wc name="move-horizontal" size="sm"></icon-wc>
      <span>Resize your browser window to see the table transform into cards at narrow widths.</span>
    </div>

    <table-wc>
      <table data-responsive="card">
        <thead>
          <tr>
            <th>Name</th>
            <th>Email</th>
            <th>Role</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td data-label="Name">Alice Chen</td>
            <td data-label="Email">alice.chen@company.com</td>
            <td data-label="Role">Senior Engineer</td>
            <td data-label="Status">Active</td>
          </tr>
          <tr>
            <td data-label="Name">Bob Martinez</td>
            <td data-label="Email">bob.martinez@company.com</td>
            <td data-label="Role">Marketing Lead</td>
            <td data-label="Status">Active</td>
          </tr>
          <tr>
            <td data-label="Name">Carol Johnson</td>
            <td data-label="Email">carol.johnson@company.com</td>
            <td data-label="Role">Sales Manager</td>
            <td data-label="Status">On Leave</td>
          </tr>
          <tr>
            <td data-label="Name">David Kim</td>
            <td data-label="Email">david.kim@company.com</td>
            <td data-label="Role">Developer</td>
            <td data-label="Status">Active</td>
          </tr>
          <tr>
            <td data-label="Name">Emma Wilson</td>
            <td data-label="Email">emma.wilson@company.com</td>
            <td data-label="Role">UX Designer</td>
            <td data-label="Status">Active</td>
          </tr>
        </tbody>
      </table>
    </table-wc>
  </section>

  <!-- Forced Narrow Preview -->
  <section class="demo-section">
    <h2>Card Layout Preview</h2>
    <p>This container is constrained to 400px width to demonstrate the card layout without resizing.</p>

    <div class="narrow-container">
      <p class="container-label">Container width: 400px</p>
      <table-wc>
        <table data-responsive="card">
          <thead>
            <tr>
              <th>Product</th>
              <th>Price</th>
              <th>Stock</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td data-label="Product">Wireless Keyboard</td>
              <td data-label="Price">$79.99</td>
              <td data-label="Stock">42 units</td>
            </tr>
            <tr>
              <td data-label="Product">USB-C Hub</td>
              <td data-label="Price">$49.99</td>
              <td data-label="Stock">128 units</td>
            </tr>
            <tr>
              <td data-label="Product">Monitor Stand</td>
              <td data-label="Price">$119.99</td>
              <td data-label="Stock">15 units</td>
            </tr>
            <tr>
              <td data-label="Product">Webcam HD</td>
              <td data-label="Price">$89.99</td>
              <td data-label="Stock">67 units</td>
            </tr>
          </tbody>
        </table>
      </table-wc>
    </div>
  </section>

  <!-- How It Works -->
  <section class="demo-section">
    <h2>How It Works</h2>

    <h3>HTML Structure</h3>
    <p>Add <code>data-responsive="card"</code> to the table and <code>data-label</code> to each <code>&lt;td&gt;</code>:</p>
    <pre><code>&lt;table-wc&gt;
  &lt;table data-responsive="card"&gt;
    &lt;thead&gt;
      &lt;tr&gt;
        &lt;th&gt;Name&lt;/th&gt;
        &lt;th&gt;Email&lt;/th&gt;
      &lt;/tr&gt;
    &lt;/thead&gt;
    &lt;tbody&gt;
      &lt;tr&gt;
        &lt;td data-label="Name"&gt;Alice Chen&lt;/td&gt;
        &lt;td data-label="Email"&gt;alice@example.com&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/tbody&gt;
  &lt;/table&gt;
&lt;/table-wc&gt;</code></pre>

    <h3>Container Query Behavior</h3>
    <p>The <code>table-wc</code> element uses <code>container-type: inline-size</code> to enable container queries. When the container is narrower than 500px:</p>
    <ul>
      <li>The table header is hidden</li>
      <li>Each row becomes a bordered card</li>
      <li>Each cell displays as a grid with the <code>data-label</code> value on the left</li>
    </ul>

    <h3>Benefits</h3>
    <dl>
      <dt>Progressive Enhancement</dt>
      <dd>Tables remain fully functional without JavaScript. The responsive behavior is pure CSS.</dd>

      <dt>Container-Based</dt>
      <dd>Responds to the container width, not viewport. Works in sidebars, modals, and constrained layouts.</dd>

      <dt>Accessible</dt>
      <dd>Screen readers still receive the full table semantics. Labels provide context for each value.</dd>
    </dl>
  </section>

</DocsLayout>

<style>
  .demo-section {
    margin-block-end: var(--size-2xl);
  }

  .demo-section h2 {
    margin-block-end: var(--size-s);
  }

  .demo-section > p {
    color: var(--color-text-muted);
    margin-block-end: var(--size-m);
  }

  .narrow-container {
    max-width: 400px;
    border: 2px dashed var(--color-border);
    border-radius: var(--radius-m);
    padding: var(--size-m);
    background: var(--color-surface-raised);
  }

  .container-label {
    font-size: var(--font-size-sm);
    color: var(--color-text-muted);
    margin-block-end: var(--size-s);
    font-style: italic;
  }

  .resize-hint {
    background: var(--color-info);
    color: var(--color-text-on-primary);
    padding: var(--size-s) var(--size-m);
    border-radius: var(--radius-m);
    margin-block-end: var(--size-l);
    display: flex;
    align-items: center;
    gap: var(--size-s);
  }
</style>
