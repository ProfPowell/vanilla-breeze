---
/**
 * hotkey-wc Web Component Documentation
 *
 * Platform-aware keyboard shortcut display with styled <kbd> elements.
 */
import ElementLayout from '../../../../layouts/ElementLayout.astro';

const basicCode = `<hotkey-wc data-keys="meta+k">Ctrl+K</hotkey-wc>`;

const multipleCode = `<hotkey-wc data-keys="meta+k">Ctrl+K</hotkey-wc>
<hotkey-wc data-keys="meta+s">Ctrl+S</hotkey-wc>
<hotkey-wc data-keys="meta+shift+p">Ctrl+Shift+P</hotkey-wc>
<hotkey-wc data-keys="alt+f4">Alt+F4</hotkey-wc>`;

const modifierCode = `<!-- meta \u2192 \u2318 on Mac, Ctrl on others -->
<hotkey-wc data-keys="meta+c">Ctrl+C</hotkey-wc>

<!-- alt \u2192 \u2325 on Mac, Alt on others -->
<hotkey-wc data-keys="alt+tab">Alt+Tab</hotkey-wc>

<!-- shift \u2192 \u21e7 on Mac, Shift on others -->
<hotkey-wc data-keys="shift+enter">Shift+Enter</hotkey-wc>

<!-- ctrl \u2192 \u2303 on Mac, Ctrl on others -->
<hotkey-wc data-keys="ctrl+click">Ctrl+Click</hotkey-wc>`;

const commandPaletteCode = `<table>
  <tbody>
    <tr>
      <td>Search</td>
      <td><hotkey-wc data-keys="meta+k">Ctrl+K</hotkey-wc></td>
    </tr>
    <tr>
      <td>Save</td>
      <td><hotkey-wc data-keys="meta+s">Ctrl+S</hotkey-wc></td>
    </tr>
    <tr>
      <td>Undo</td>
      <td><hotkey-wc data-keys="meta+z">Ctrl+Z</hotkey-wc></td>
    </tr>
  </tbody>
</table>`;

const inlineCode = `<p>Press <hotkey-wc data-keys="meta+k">Ctrl+K</hotkey-wc> to open the search palette.</p>`;
---

<ElementLayout
  title="hotkey-wc"
  description="Platform-aware keyboard shortcut display with styled kbd elements."
  elementName="hotkey-wc"
  category="component"
  currentPath="/docs/elements/web-components/hotkey-wc/"
>
  <section>
    <h2>Overview</h2>
    <p>The <code>&lt;hotkey-wc&gt;</code> component parses a key combination string and renders platform-aware <code>&lt;kbd&gt;</code> elements. On Mac, modifier keys display as symbols; on other platforms, as text labels.</p>

    <browser-window
      src="/docs/examples/demos/hotkey-wc-basic.html"
      url="https://vanilla-breeze.dev/hotkey"
      title="Keyboard Shortcuts"
      shadow>
    </browser-window>

    <code-block language="html" show-lines label="Basic hotkey display">{basicCode}</code-block>
  </section>

  <section>
    <h2>How It Works</h2>
    <ol>
      <li>Reads the <code>data-keys</code> attribute (e.g., <code>"meta+k"</code>)</li>
      <li>Detects the user's platform (Mac vs. other)</li>
      <li>Maps modifier names to platform-appropriate symbols or labels</li>
      <li>Generates a <code>&lt;kbd&gt;</code> element for each key in the combo</li>
      <li>Replaces the element's content with the styled key caps</li>
    </ol>
    <p>The original text content (e.g., "Ctrl+K") serves as a fallback when JavaScript is unavailable.</p>
  </section>

  <section>
    <h2>Attributes</h2>
    <table class="props-table">
      <thead>
        <tr>
          <th>Attribute</th>
          <th>Type</th>
          <th>Default</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>data-keys</code></td>
          <td>string</td>
          <td>-</td>
          <td>Key combination string. Keys separated by <code>+</code>. Supported modifiers: <code>meta</code>, <code>alt</code>, <code>shift</code>, <code>ctrl</code>.</td>
        </tr>
      </tbody>
    </table>
  </section>

  <section>
    <h2>Modifier Key Mapping</h2>
    <p>Modifier keys are automatically translated based on the user's platform:</p>

    <table class="props-table">
      <thead>
        <tr>
          <th>Key name</th>
          <th>Mac</th>
          <th>Windows/Linux</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>meta</code></td>
          <td>&#x2318;</td>
          <td>Ctrl</td>
        </tr>
        <tr>
          <td><code>alt</code></td>
          <td>&#x2325;</td>
          <td>Alt</td>
        </tr>
        <tr>
          <td><code>shift</code></td>
          <td>&#x21E7;</td>
          <td>Shift</td>
        </tr>
        <tr>
          <td><code>ctrl</code></td>
          <td>&#x2303;</td>
          <td>Ctrl</td>
        </tr>
      </tbody>
    </table>

    <p>Non-modifier keys are displayed in uppercase (e.g., <code>k</code> becomes <kbd>K</kbd>).</p>
  </section>

  <section>
    <h2>Examples</h2>
    <p>Common keyboard shortcuts rendered with platform-aware symbols:</p>

    <div class="example">
      <layout-cluster data-gap="xl">
        <span>Search: <hotkey-wc data-keys="meta+k">Ctrl+K</hotkey-wc></span>
        <span>Save: <hotkey-wc data-keys="meta+s">Ctrl+S</hotkey-wc></span>
        <span>Undo: <hotkey-wc data-keys="meta+z">Ctrl+Z</hotkey-wc></span>
        <span>Command palette: <hotkey-wc data-keys="meta+shift+p">Ctrl+Shift+P</hotkey-wc></span>
      </layout-cluster>
    </div>

    <code-block language="html" show-lines label="Multiple shortcut displays">{multipleCode}</code-block>
  </section>

  <section>
    <h2>Inline Usage</h2>
    <p>The component works naturally inline with paragraph text:</p>

    <div class="example">
      <p>Press <hotkey-wc data-keys="meta+k">Ctrl+K</hotkey-wc> to open the search palette.</p>
      <p>Use <hotkey-wc data-keys="meta+shift+p">Ctrl+Shift+P</hotkey-wc> for the command palette.</p>
    </div>

    <code-block language="html" show-lines label="Inline with text">{inlineCode}</code-block>
  </section>

  <section>
    <h2>Common Use Cases</h2>

    <h3>Keyboard Shortcuts Table</h3>
    <p>Display a reference table of available shortcuts:</p>

    <div class="example">
      <table>
        <thead>
          <tr>
            <th>Action</th>
            <th>Shortcut</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Search</td>
            <td><hotkey-wc data-keys="meta+k">Ctrl+K</hotkey-wc></td>
          </tr>
          <tr>
            <td>Save</td>
            <td><hotkey-wc data-keys="meta+s">Ctrl+S</hotkey-wc></td>
          </tr>
          <tr>
            <td>Undo</td>
            <td><hotkey-wc data-keys="meta+z">Ctrl+Z</hotkey-wc></td>
          </tr>
          <tr>
            <td>Redo</td>
            <td><hotkey-wc data-keys="meta+shift+z">Ctrl+Shift+Z</hotkey-wc></td>
          </tr>
          <tr>
            <td>Select all</td>
            <td><hotkey-wc data-keys="meta+a">Ctrl+A</hotkey-wc></td>
          </tr>
        </tbody>
      </table>
    </div>

    <code-block language="html" show-lines label="Shortcuts reference table">{commandPaletteCode}</code-block>

    <h3>With Tooltips</h3>
    <p>Combine with <code>&lt;tooltip-wc&gt;</code> to show shortcuts on hover:</p>

    <div class="example">
      <layout-cluster data-gap="l">
        <tooltip-wc>
          <button type="button">
            <icon-wc name="search" size="sm"></icon-wc>
            Search
          </button>
          <template data-tooltip>
            Search <hotkey-wc data-keys="meta+k">Ctrl+K</hotkey-wc>
          </template>
        </tooltip-wc>

        <tooltip-wc>
          <button type="button" class="secondary">
            <icon-wc name="save" size="sm"></icon-wc>
            Save
          </button>
          <template data-tooltip>
            Save <hotkey-wc data-keys="meta+s">Ctrl+S</hotkey-wc>
          </template>
        </tooltip-wc>
      </layout-cluster>
    </div>
  </section>

  <section>
    <h2>Accessibility</h2>
    <ul>
      <li>Sets <code>aria-label</code> on the component with the full text content for screen readers</li>
      <li>Uses semantic <code>&lt;kbd&gt;</code> elements which are recognized by assistive technology</li>
      <li>The original text content serves as a no-JS fallback</li>
      <li>On Mac, separators between keys are omitted since the symbols are self-explanatory; on other platforms, <code>+</code> separators are included for clarity</li>
    </ul>
  </section>
</ElementLayout>
