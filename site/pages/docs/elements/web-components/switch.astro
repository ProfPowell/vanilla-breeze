---
/**
 * Toggle Switch Documentation
 *
 * CSS-styled checkbox toggle with switch-init.js for ARIA role.
 */
import ElementLayout from '../../../../layouts/ElementLayout.astro';

const basicCode = `<label>
  <input type="checkbox" data-switch name="notifications">
  Enable notifications
</label>`;

const sizesCode = `<!-- Small -->
<label>
  <input type="checkbox" data-switch="sm" name="compact">
  Compact mode
</label>

<!-- Default -->
<label>
  <input type="checkbox" data-switch name="default">
  Default size
</label>

<!-- Large -->
<label>
  <input type="checkbox" data-switch="lg" name="feature">
  Large switch
</label>`;

const formFieldCode = `<form-field>
  <label>
    <input type="checkbox" data-switch name="auto-save">
    Auto-save drafts
  </label>
</form-field>`;

const cssCode = `/* Custom active color */
input[data-switch]:checked \{
  background: var(--color-success);
\}

/* Custom sizing */
input[data-switch] \{
  inline-size: 3rem;
  block-size: 1.75rem;
\}`;
---

<ElementLayout
  title="Toggle Switch"
  description="Checkbox styled as an on/off toggle switch. CSS-only visuals with JS-added ARIA role."
  elementName="data-switch"
  category="component"
  currentPath="/docs/elements/web-components/switch/"
>
  <section>
    <h2>Overview</h2>
    <p>A toggle switch is a checkbox that looks like a physical on/off switch. The native <code>&lt;input type="checkbox"&gt;</code> provides all the semantics &mdash; <code>data-switch</code> adds the visual treatment and <code>switch-init.js</code> adds <code>role="switch"</code> for screen readers.</p>

    <browser-window
      src="/docs/examples/demos/switch-basic.html"
      url="https://vanilla-breeze.dev/switch"
      title="Toggle Switch Demo"
      shadow>
    </browser-window>
  </section>

  <section>
    <h2>Basic Usage</h2>
    <p>Add <code>data-switch</code> to any checkbox. The label wrapping pattern keeps the control accessible and clickable.</p>

    <div class="example">
      <label>
        <input type="checkbox" data-switch name="demo-basic" checked>
        Enable notifications
      </label>
    </div>

    <code-block language="html" show-lines label="Basic toggle switch">{basicCode}</code-block>
  </section>

  <section>
    <h2>Size Variants</h2>
    <p>Use <code>data-switch="sm"</code> or <code>data-switch="lg"</code> for smaller or larger switches. The default (empty value or no value) is the medium size.</p>

    <div class="example">
      <div style="display: flex; flex-direction: column; gap: var(--size-s);">
        <label><input type="checkbox" data-switch="sm" name="demo-sm" checked> Small</label>
        <label><input type="checkbox" data-switch name="demo-md"> Default</label>
        <label><input type="checkbox" data-switch="lg" name="demo-lg" checked> Large</label>
      </div>
    </div>

    <code-block language="html" show-lines label="Size variants">{sizesCode}</code-block>
  </section>

  <section>
    <h2>With form-field</h2>
    <p>Toggle switches work inside <code>&lt;form-field&gt;</code> for consistent layout and validation feedback.</p>

    <code-block language="html" show-lines label="Inside form-field">{formFieldCode}</code-block>
  </section>

  <section>
    <h2>Attributes</h2>
    <table class="props-table">
      <thead>
        <tr>
          <th>Attribute</th>
          <th>Values</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>data-switch</code></td>
          <td><code>""</code>, <code>"sm"</code>, <code>"lg"</code></td>
          <td>Enables switch styling. Optional size variant.</td>
        </tr>
        <tr>
          <td><code>checked</code></td>
          <td>&mdash;</td>
          <td>Native checkbox checked state (on).</td>
        </tr>
        <tr>
          <td><code>disabled</code></td>
          <td>&mdash;</td>
          <td>Disables the switch. Visual opacity reduced.</td>
        </tr>
      </tbody>
    </table>
  </section>

  <section>
    <h2>Accessibility</h2>
    <ul>
      <li><code>switch-init.js</code> adds <code>role="switch"</code> so screen readers announce it as a switch rather than a checkbox</li>
      <li>The wrapping <code>&lt;label&gt;</code> provides the accessible name</li>
      <li>Focus-visible outline appears on keyboard navigation</li>
      <li>Works without JS as a normal checkbox</li>
    </ul>
  </section>

  <section>
    <h2>Styling</h2>
    <code-block language="css" show-lines label="Custom styling">{cssCode}</code-block>
  </section>

  <section>
    <h2>Progressive Enhancement</h2>
    <ul>
      <li><strong>No JS:</strong> Renders as a styled checkbox toggle. Fully functional for form submission and keyboard use.</li>
      <li><strong>With JS:</strong> <code>switch-init.js</code> adds <code>role="switch"</code> for improved screen reader semantics.</li>
    </ul>
  </section>

  <section>
    <h2>Related Elements</h2>
    <ul>
      <li><a href="/docs/elements/native/input/"><code>&lt;input&gt;</code></a> &mdash; Base checkbox element</li>
      <li><a href="/docs/elements/custom-elements/form-field/"><code>&lt;form-field&gt;</code></a> &mdash; Form field wrapper with validation</li>
    </ul>
  </section>
</ElementLayout>
