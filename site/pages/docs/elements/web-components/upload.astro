---
/**
 * File Upload Drop Zone Documentation
 *
 * Enhanced file input with drag-and-drop zone.
 */
import ElementLayout from '../../../../layouts/ElementLayout.astro';

const basicCode = `<input type="file" data-upload accept=".pdf,.doc" multiple>`;

const singleCode = `<form-field>
  <label for="avatar">Profile Photo</label>
  <input type="file" id="avatar" name="avatar"
    data-upload accept=".jpg,.png,.webp">
</form-field>`;

const multiCode = `<form-field>
  <label for="docs">Documents</label>
  <input type="file" id="docs" name="docs"
    data-upload accept=".pdf,.doc,.docx" multiple>
</form-field>`;

const cssCode = `/* Custom border color */
.upload-zone \{
  border-color: var(--color-interactive);
  border-style: dashed;
\}

/* Drag-over state */
.upload-zone[data-dragover] \{
  border-color: var(--color-success);
  background: color-mix(in oklab, var(--color-success) 5%, transparent);
\}`;
---

<ElementLayout
  title="File Upload"
  description="Drag-and-drop file upload zone that enhances native file inputs with visual feedback."
  elementName="data-upload"
  category="component"
  currentPath="/docs/elements/web-components/upload/"
>
  <section>
    <h2>Overview</h2>
    <p>Add <code>data-upload</code> to an <code>&lt;input type="file"&gt;</code> to wrap it in a drag-and-drop zone. The native input remains functional for accessibility and form submission. The zone shows an upload icon, accepted file types, and a list of selected files with sizes.</p>

    <browser-window
      src="/docs/examples/demos/upload-basic.html"
      url="https://vanilla-breeze.dev/upload"
      title="File Upload Demo"
      shadow>
    </browser-window>
  </section>

  <section>
    <h2>Basic Usage</h2>
    <p>Just add <code>data-upload</code> to any file input. The <code>accept</code> and <code>multiple</code> attributes work as normal.</p>

    <code-block language="html" show-lines label="Basic upload">{basicCode}</code-block>
  </section>

  <section>
    <h2>Single File</h2>
    <p>Without <code>multiple</code>, only one file can be selected at a time.</p>

    <code-block language="html" show-lines label="Single file">{singleCode}</code-block>
  </section>

  <section>
    <h2>Multiple Files</h2>
    <p>With <code>multiple</code>, the file list shows all selected files.</p>

    <code-block language="html" show-lines label="Multiple files">{multiCode}</code-block>
  </section>

  <section>
    <h2>Attributes</h2>
    <table class="props-table">
      <thead>
        <tr>
          <th>Attribute</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>data-upload</code></td>
          <td>Enable drop zone enhancement.</td>
        </tr>
        <tr>
          <td><code>accept</code></td>
          <td>Native attribute. Accepted file types (shown as labels in the zone).</td>
        </tr>
        <tr>
          <td><code>multiple</code></td>
          <td>Native attribute. Allow multiple file selection.</td>
        </tr>
      </tbody>
    </table>
  </section>

  <section>
    <h2>Features</h2>
    <ul>
      <li>Drag-and-drop with visual feedback (border color change)</li>
      <li>Click anywhere in the zone to open the file picker</li>
      <li>File list with names and human-readable sizes (KB, MB, GB)</li>
      <li>Accepted file types shown as labels below the drop prompt</li>
      <li>Falls back to standard file input without JS</li>
    </ul>
  </section>

  <section>
    <h2>Styling</h2>
    <code-block language="css" show-lines label="Custom upload zone">{cssCode}</code-block>
  </section>

  <section>
    <h2>Progressive Enhancement</h2>
    <ul>
      <li><strong>No JS:</strong> Standard native file input. Fully functional but no drag-and-drop.</li>
      <li><strong>With JS:</strong> Wrapped in a drop zone with drag feedback and file list display.</li>
    </ul>
  </section>

  <section>
    <h2>Related Elements</h2>
    <ul>
      <li><a href="/docs/elements/native/input/"><code>&lt;input&gt;</code></a> &mdash; Native file input</li>
      <li><a href="/docs/elements/custom-elements/form-field/"><code>&lt;form-field&gt;</code></a> &mdash; Form field wrapper</li>
    </ul>
  </section>
</ElementLayout>
