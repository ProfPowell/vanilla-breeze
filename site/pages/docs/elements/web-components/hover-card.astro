---
/**
 * Hover Card Web Component Documentation
 *
 * Rich content preview on hover with configurable delay and positioning.
 */
import ElementLayout from '../../../../layouts/ElementLayout.astro';

const basicCode = `<hover-card-wc>
  <a href="/user/jane" data-trigger>Jane Smith</a>
  <div data-content>
    <img src="/avatars/jane.jpg" alt="" />
    <h4>Jane Smith</h4>
    <p>Senior Developer at Acme Co</p>
    <p class="text-muted">Joined March 2023</p>
  </div>
</hover-card-wc>`;

const positionCode = `<!-- Card appears above trigger -->
<hover-card-wc data-position="top">
  <a href="#" data-trigger>Hover me</a>
  <div data-content>
    <p>Content above the trigger</p>
  </div>
</hover-card-wc>`;

const delayCode = `<!-- Custom delay (default: 300ms) -->
<hover-card-wc data-delay="500">
  <a href="#" data-trigger>Slow reveal</a>
  <div data-content>...</div>
</hover-card-wc>`;

const jsApiCode = `const hoverCard = document.querySelector('hover-card-wc');

// Listen for events
hoverCard.addEventListener('hover-card-show', () => \{
  console.log('Card shown');
\});

hoverCard.addEventListener('hover-card-hide', () => \{
  console.log('Card hidden');
\});`;
---

<ElementLayout
  title="hover-card-wc"
  description="Rich content preview on hover with configurable delay and positioning."
  elementName="hover-card-wc"
  category="component"
  currentPath="/docs/elements/web-components/hover-card/"
>
  <section>
    <h2>Description</h2>
    <p>The <code>&lt;hover-card-wc&gt;</code> component shows structured content like user profiles, link previews, or product cards when hovering over a trigger element. Unlike <code>&lt;tooltip-wc&gt;</code> (which shows short text), hover cards display rich HTML content.</p>
  </section>

  <section>
    <h2>Basic Usage</h2>
    <div class="example">
      <p>Hover over
        <hover-card-wc>
          <a href="#" data-trigger>this link</a>
          <div data-content>
            <p><strong>Rich Content</strong></p>
            <p class="text-muted">This hover card shows structured content on hover.</p>
          </div>
        </hover-card-wc>
        to see the card.
      </p>
    </div>

    <code-block language="html" show-lines label="Basic hover card">{basicCode}</code-block>
  </section>

  <section>
    <h2>Attributes</h2>
    <table class="props-table">
      <thead>
        <tr>
          <th>Attribute</th>
          <th>Values</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>data-position</code></td>
          <td><code>bottom</code> (default), <code>top</code></td>
          <td>Preferred placement relative to trigger</td>
        </tr>
        <tr>
          <td><code>data-delay</code></td>
          <td>Number (ms)</td>
          <td>Show delay (default: 300ms)</td>
        </tr>
        <tr>
          <td><code>data-trigger</code></td>
          <td>Child attribute</td>
          <td>Marks the trigger element</td>
        </tr>
        <tr>
          <td><code>data-content</code></td>
          <td>Child attribute</td>
          <td>Marks the card content</td>
        </tr>
      </tbody>
    </table>
  </section>

  <section>
    <h2>Position Variants</h2>
    <div class="example">
      <div data-layout="cluster" data-gap="l">
        <hover-card-wc data-position="bottom">
          <button data-trigger>Bottom (default)</button>
          <div data-content>
            <p><strong>Bottom</strong></p>
            <p class="text-muted">Card appears below.</p>
          </div>
        </hover-card-wc>

        <hover-card-wc data-position="top">
          <button data-trigger>Top</button>
          <div data-content>
            <p><strong>Top</strong></p>
            <p class="text-muted">Card appears above.</p>
          </div>
        </hover-card-wc>
      </div>
    </div>

    <code-block language="html" show-lines label="Position variants">{positionCode}</code-block>
  </section>

  <section>
    <h2>Custom Delay</h2>
    <code-block language="html" show-lines label="Custom delay">{delayCode}</code-block>
  </section>

  <section>
    <h2>JavaScript API</h2>

    <h3>Events</h3>
    <table class="props-table">
      <thead>
        <tr>
          <th>Event</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>hover-card-show</code></td>
          <td>Fired when the card becomes visible</td>
        </tr>
        <tr>
          <td><code>hover-card-hide</code></td>
          <td>Fired when the card is hidden</td>
        </tr>
      </tbody>
    </table>

    <code-block language="javascript" show-lines label="JavaScript API">{jsApiCode}</code-block>
  </section>

  <section>
    <h2>Keyboard Support</h2>
    <table class="props-table">
      <thead>
        <tr>
          <th>Key</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><kbd>Tab</kbd> (focus trigger)</td>
          <td>Shows the hover card</td>
        </tr>
        <tr>
          <td><kbd>Tab</kbd> (blur trigger)</td>
          <td>Hides the hover card</td>
        </tr>
        <tr>
          <td><kbd>Escape</kbd></td>
          <td>Hides the hover card</td>
        </tr>
      </tbody>
    </table>
  </section>

  <section>
    <h2>Accessibility</h2>
    <ul>
      <li>Focus on trigger opens the card (keyboard accessible)</li>
      <li>Escape key closes the card</li>
      <li>Card stays open while hovering over it (grace period)</li>
      <li>Uses Popover API for proper top-layer rendering</li>
    </ul>
  </section>
</ElementLayout>
