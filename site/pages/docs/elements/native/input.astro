---
/**
 * Input Element Documentation
 *
 * The most versatile form element, accepting text, numbers, dates, files,
 * and more through the type attribute.
 */
import ElementLayout from '../../../../layouts/ElementLayout.astro';

// Code examples as template strings
const textInputTypesCode = `<input type="text" placeholder="Name" autocomplete="name" />
<input type="email" placeholder="Email" autocomplete="email" />
<input type="password" autocomplete="current-password" />
<input type="url" placeholder="https://" />
<input type="tel" placeholder="Phone" autocomplete="tel" />
<input type="search" placeholder="Search..." />`;

const numericInputTypesCode = `<input type="number" min="1" max="99" step="1" value="1" />
<input type="number" min="0" step="0.01" value="9.99" />
<input type="range" min="0" max="100" value="50" />`;

const dateTimeInputTypesCode = `<input type="date" />
<input type="time" />
<input type="datetime-local" />
<input type="month" />
<input type="week" />

<!-- With date constraints -->
<input type="date" min="2024-01-01" max="2024-12-31" />`;

const checkboxRadioCode = `<!-- Checkbox -->
<label>
  <input type="checkbox" name="subscribe" /> Subscribe to newsletter
</label>

<!-- Radio group (wrap in fieldset) -->
<fieldset>
  <legend>Select size</legend>
  <label>
    <input type="radio" name="size" value="small" /> Small
  </label>
  <label>
    <input type="radio" name="size" value="medium" checked /> Medium
  </label>
  <label>
    <input type="radio" name="size" value="large" /> Large
  </label>
</fieldset>`;

const hiddenInputCode = `<input type="hidden" name="csrf_token" value="abc123" />
<input type="hidden" name="user_id" value="42" />`;

const otherInputTypesCode = `<input type="file" accept=".pdf,.doc" />
<input type="file" accept="image/*" multiple />
<input type="color" value="#4a90d9" />
<input type="hidden" name="token" value="..." />`;

const disabledReadonlyCode = `<input type="text" disabled value="Cannot edit" />
<input type="text" readonly value="Can select but not edit" />`;

const datalistCode = `<input type="text" list="browsers" />
<datalist id="browsers">
  <option value="Chrome"></option>
  <option value="Firefox"></option>
</datalist>`;

const autocompleteCode = `<input type="text" name="name" autocomplete="name" />
<input type="email" name="email" autocomplete="email" />
<input type="password" autocomplete="current-password" />
<input type="password" autocomplete="new-password" />`;

const cssReferenceCode = `/* Text inputs, select, textarea */
input:not([type="checkbox"]):not([type="radio"]):not([type="range"]):not([type="submit"]):not([type="button"]):not([type="reset"]),
textarea,
select {
  display: block;
  inline-size: 100%;
  padding-block: var(--size-s);
  padding-inline: var(--size-s);
  min-block-size: var(--size-touch-min);
  border: var(--border-width-thin) solid var(--color-border);
  border-radius: var(--radius-m);
  background: var(--color-surface);
  font: inherit;
  transition: border-color var(--duration-fast);
}

input:focus,
textarea:focus,
select:focus {
  outline: none;
  border-color: var(--color-interactive);
  box-shadow: 0 0 0 3px oklch(from var(--color-interactive) l c h / 0.15);
}

input::placeholder {
  color: var(--color-text-muted);
}

input:disabled {
  background: var(--color-surface-raised);
  cursor: not-allowed;
}

input[aria-invalid="true"],
input:invalid:not(:placeholder-shown) {
  border-color: oklch(55% 0.25 25);
}`;
---

<ElementLayout
  title="input"
  description="The most versatile form element, accepting text, numbers, dates, files, and more through the type attribute. Always pair with a label for accessibility."
  elementName="input"
  category="native"
  nativeGroup="Forms"
  currentPath="/docs/elements/native/input/"
>
  <section>
    <h2>Input Type Overview</h2>
    <table class="props-table">
      <thead>
        <tr>
          <th>Category</th>
          <th>Types</th>
          <th>Purpose</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Text</td>
          <td><code>text</code>, <code>email</code>, <code>password</code>, <code>url</code>, <code>tel</code>, <code>search</code></td>
          <td>Single-line text input</td>
        </tr>
        <tr>
          <td>Numeric</td>
          <td><code>number</code>, <code>range</code></td>
          <td>Numeric values with constraints</td>
        </tr>
        <tr>
          <td>Date/Time</td>
          <td><code>date</code>, <code>time</code>, <code>datetime-local</code>, <code>month</code>, <code>week</code></td>
          <td>Temporal values with pickers</td>
        </tr>
        <tr>
          <td>Selection</td>
          <td><code>checkbox</code>, <code>radio</code></td>
          <td>Boolean or mutually exclusive choices</td>
        </tr>
        <tr>
          <td>Other</td>
          <td><code>file</code>, <code>color</code>, <code>hidden</code></td>
          <td>Specialized inputs</td>
        </tr>
      </tbody>
    </table>
  </section>

  <section>
    <h2>Text Input Types</h2>

    <h3>type="text"</h3>
    <p>Default single-line text input. Use for names, titles, and general text.</p>
    <div class="example">
      <form-field style="max-inline-size: 25rem;">
        <label for="input-text">Full Name</label>
        <input type="text" id="input-text" placeholder="Enter your name" autocomplete="name" />
      </form-field>
    </div>

    <h3>type="email"</h3>
    <p>Email address with built-in validation. Mobile keyboards show @ symbol.</p>
    <div class="example">
      <form-field style="max-inline-size: 25rem;">
        <label for="input-email">Email Address</label>
        <input type="email" id="input-email" placeholder="you@example.com" autocomplete="email" />
      </form-field>
    </div>

    <h3>type="password"</h3>
    <p>Masked text input. Use <code>autocomplete</code> to distinguish new vs current passwords.</p>
    <div class="example">
      <form-field style="max-inline-size: 25rem;">
        <label for="input-password">Password</label>
        <input type="password" id="input-password" placeholder="Enter password" autocomplete="current-password" />
      </form-field>
    </div>

    <h3>type="url"</h3>
    <p>URL input with validation. Mobile keyboards show common URL characters.</p>
    <div class="example">
      <form-field style="max-inline-size: 25rem;">
        <label for="input-url">Website</label>
        <input type="url" id="input-url" placeholder="https://example.com" autocomplete="url" />
      </form-field>
    </div>

    <h3>type="tel"</h3>
    <p>Telephone number. Shows numeric keyboard on mobile but allows any characters.</p>
    <div class="example">
      <form-field style="max-inline-size: 25rem;">
        <label for="input-tel">Phone Number</label>
        <input type="tel" id="input-tel" placeholder="(555) 123-4567" autocomplete="tel" />
      </form-field>
    </div>

    <h3>type="search"</h3>
    <p>Search input with clear button in some browsers.</p>
    <div class="example">
      <form-field style="max-inline-size: 25rem;">
        <label for="input-search">Search</label>
        <input type="search" id="input-search" placeholder="Search..." />
      </form-field>
    </div>

    <h3>Code</h3>
    <code-block language="html" show-lines label="Text input types">{textInputTypesCode}</code-block>
  </section>

  <section>
    <h2>Numeric Input Types</h2>

    <h3>type="number"</h3>
    <p>Numeric input with increment/decrement buttons. Use <code>min</code>, <code>max</code>, and <code>step</code>.</p>
    <div class="example">
      <layout-stack data-gap="m" style="max-inline-size: 25rem;">
        <form-field>
          <label for="input-number">Quantity</label>
          <input type="number" id="input-number" value="1" min="1" max="99" step="1" />
        </form-field>
        <form-field>
          <label for="input-number-decimal">Price</label>
          <input type="number" id="input-number-decimal" value="9.99" min="0" step="0.01" />
        </form-field>
      </layout-stack>
    </div>

    <h3>type="range"</h3>
    <p>Slider for selecting a value within a range.</p>
    <div class="example">
      <layout-stack data-gap="m" style="max-inline-size: 25rem;">
        <form-field>
          <label for="input-range">Volume: <output id="range-output">50</output></label>
          <input type="range" id="input-range" min="0" max="100" value="50" oninput="document.getElementById('range-output').value = this.value" />
        </form-field>
        <form-field>
          <label for="input-range-step">Rating (1-5)</label>
          <input type="range" id="input-range-step" min="1" max="5" step="1" value="3" />
        </form-field>
      </layout-stack>
    </div>

    <h3>Code</h3>
    <code-block language="html" show-lines label="Numeric input types">{numericInputTypesCode}</code-block>
  </section>

  <section>
    <h2>Date and Time Input Types</h2>
    <p>Native date/time pickers vary by browser. Consider progressive enhancement.</p>

    <h3>type="date"</h3>
    <div class="example">
      <form-field style="max-inline-size: 25rem;">
        <label for="input-date">Date</label>
        <input type="date" id="input-date" />
      </form-field>
    </div>

    <h3>type="time"</h3>
    <div class="example">
      <form-field style="max-inline-size: 25rem;">
        <label for="input-time">Time</label>
        <input type="time" id="input-time" />
      </form-field>
    </div>

    <h3>type="datetime-local"</h3>
    <div class="example">
      <form-field style="max-inline-size: 25rem;">
        <label for="input-datetime">Date and Time</label>
        <input type="datetime-local" id="input-datetime" />
      </form-field>
    </div>

    <h3>type="month"</h3>
    <div class="example">
      <form-field style="max-inline-size: 25rem;">
        <label for="input-month">Month</label>
        <input type="month" id="input-month" />
      </form-field>
    </div>

    <h3>type="week"</h3>
    <div class="example">
      <form-field style="max-inline-size: 25rem;">
        <label for="input-week">Week</label>
        <input type="week" id="input-week" />
      </form-field>
    </div>

    <h3>With Constraints</h3>
    <div class="example">
      <form-field style="max-inline-size: 25rem;">
        <label for="input-date-constrained">Appointment (Next 30 days)</label>
        <input type="date" id="input-date-constrained" min="2026-01-08" max="2026-02-07" />
      </form-field>
    </div>

    <h3>Code</h3>
    <code-block language="html" show-lines label="Date and time input types">{dateTimeInputTypesCode}</code-block>
  </section>

  <section>
    <h2>Checkbox and Radio Inputs</h2>

    <h3>type="checkbox"</h3>
    <p>Boolean selection. Can be checked or unchecked independently.</p>
    <div class="example">
      <layout-stack data-gap="s">
        <label>
          <input type="checkbox" name="features" value="dark-mode" /> Enable dark mode
        </label>
        <label>
          <input type="checkbox" name="features" value="notifications" checked /> Enable notifications
        </label>
        <label>
          <input type="checkbox" name="features" value="analytics" /> Share usage analytics
        </label>
        <label>
          <input type="checkbox" name="features" value="disabled" disabled /> Premium feature (disabled)
        </label>
      </layout-stack>
    </div>

    <h3>Indeterminate Checkbox</h3>
    <p>Set via JavaScript for "partially selected" states (e.g., select all).</p>
    <div class="example">
      <layout-stack data-gap="s">
        <label>
          <input type="checkbox" id="select-all" /> Select All
        </label>
        <layout-stack data-gap="xs" style="padding-inline-start: var(--size-l);">
          <label>
            <input type="checkbox" class="child-check" checked /> Item 1
          </label>
          <label>
            <input type="checkbox" class="child-check" /> Item 2
          </label>
          <label>
            <input type="checkbox" class="child-check" checked /> Item 3
          </label>
        </layout-stack>
      </layout-stack>
    </div>

    <h3>type="radio"</h3>
    <p>Mutually exclusive selection within a group (same <code>name</code>). Wrap in <a href="/docs/elements/native/fieldset/">fieldset</a> for accessibility.</p>
    <div class="example">
      <fieldset class="minimal">
        <legend>Shipping Method</legend>
        <layout-stack data-gap="s">
          <label>
            <input type="radio" name="shipping" value="standard" checked /> Standard (5-7 days)
          </label>
          <label>
            <input type="radio" name="shipping" value="express" /> Express (2-3 days)
          </label>
          <label>
            <input type="radio" name="shipping" value="overnight" /> Overnight
          </label>
          <label>
            <input type="radio" name="shipping" value="pickup" disabled /> Store Pickup (unavailable)
          </label>
        </layout-stack>
      </fieldset>
    </div>

    <h3>Code</h3>
    <code-block language="html" show-lines label="Checkbox and radio inputs">{checkboxRadioCode}</code-block>
  </section>

  <section>
    <h2>Other Input Types</h2>

    <h3>type="file"</h3>
    <p>File upload. Use <code>accept</code> to restrict file types and <code>multiple</code> for multiple files.</p>
    <div class="example">
      <layout-stack data-gap="m" style="max-inline-size: 25rem;">
        <form-field>
          <label for="input-file">Upload Document</label>
          <input type="file" id="input-file" accept=".pdf,.doc,.docx" />
          <span class="help">PDF, DOC, or DOCX files only</span>
        </form-field>
        <form-field>
          <label for="input-file-images">Upload Images</label>
          <input type="file" id="input-file-images" accept="image/*" multiple />
          <span class="help">Select multiple images</span>
        </form-field>
      </layout-stack>
    </div>

    <h3>type="color"</h3>
    <p>Color picker. Returns hex value.</p>
    <div class="example">
      <form-field style="max-inline-size: 15rem;">
        <label for="input-color">Brand Color</label>
        <input type="color" id="input-color" value="#4a90d9" />
      </form-field>
    </div>

    <h3>type="hidden"</h3>
    <p>Invisible form data. Used for tokens, IDs, or tracking.</p>
    <code-block language="html" show-lines label="Hidden input">{hiddenInputCode}</code-block>

    <h3>Code</h3>
    <code-block language="html" show-lines label="File, color, and hidden inputs">{otherInputTypesCode}</code-block>
  </section>

  <section>
    <h2>Input States</h2>

    <h3>Disabled</h3>
    <p>Prevents interaction. Value not submitted with form.</p>
    <div class="example">
      <form-field style="max-inline-size: 25rem;">
        <label for="input-disabled">Disabled Input</label>
        <input type="text" id="input-disabled" disabled value="Cannot edit this" />
      </form-field>
    </div>

    <h3>Read-only</h3>
    <p>Prevents editing but allows selection. Value is submitted with form.</p>
    <div class="example">
      <form-field style="max-inline-size: 25rem;">
        <label for="input-readonly">Read-only Input</label>
        <input type="text" id="input-readonly" readonly value="Can select but not edit" />
      </form-field>
    </div>

    <h3>Code</h3>
    <code-block language="html" show-lines label="Disabled and readonly inputs">{disabledReadonlyCode}</code-block>
  </section>

  <section>
    <h2>Validation States</h2>

    <h3>Required</h3>
    <p>Field must have a value before form submission.</p>
    <div class="example">
      <form style="max-inline-size: 25rem;">
        <form-field>
          <label for="input-required">Required Field *</label>
          <input type="text" id="input-required" required />
        </form-field>
      </form>
    </div>

    <h3>Invalid State</h3>
    <p>Shown when validation fails. Use <code>aria-invalid="true"</code> for explicit invalid styling.</p>
    <div class="example">
      <form-field style="max-inline-size: 25rem;">
        <label for="input-invalid">Email</label>
        <input type="email" id="input-invalid" aria-invalid="true" value="not-an-email" />
        <span class="error">Please enter a valid email address</span>
      </form-field>
    </div>

    <h3>Pattern Validation</h3>
    <p>Use regex patterns for custom validation.</p>
    <div class="example">
      <form-field style="max-inline-size: 25rem;">
        <label for="input-pattern">Username</label>
        <input type="text" id="input-pattern" pattern="[a-zA-Z0-9_]+" title="Letters, numbers, and underscores only" />
        <span class="help">Letters, numbers, and underscores only</span>
      </form-field>
    </div>

    <h3>Min/Max Length</h3>
    <div class="example">
      <form-field style="max-inline-size: 25rem;">
        <label for="input-minmax">Bio (10-200 characters)</label>
        <input type="text" id="input-minmax" minlength="10" maxlength="200" />
      </form-field>
    </div>
  </section>

  <section>
    <h2>Validation Attributes</h2>
    <table class="props-table">
      <thead>
        <tr>
          <th>Attribute</th>
          <th>Purpose</th>
          <th>Example</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>required</code></td>
          <td>Field must have a value</td>
          <td><code>&lt;input required /&gt;</code></td>
        </tr>
        <tr>
          <td><code>minlength</code></td>
          <td>Minimum character count</td>
          <td><code>minlength="2"</code></td>
        </tr>
        <tr>
          <td><code>maxlength</code></td>
          <td>Maximum character count</td>
          <td><code>maxlength="100"</code></td>
        </tr>
        <tr>
          <td><code>min</code></td>
          <td>Minimum numeric/date value</td>
          <td><code>min="0"</code></td>
        </tr>
        <tr>
          <td><code>max</code></td>
          <td>Maximum numeric/date value</td>
          <td><code>max="100"</code></td>
        </tr>
        <tr>
          <td><code>step</code></td>
          <td>Increment for numeric values</td>
          <td><code>step="0.01"</code></td>
        </tr>
        <tr>
          <td><code>pattern</code></td>
          <td>Regex pattern for validation</td>
          <td><code>pattern="[A-Za-z]+"</code></td>
        </tr>
        <tr>
          <td><code>type</code></td>
          <td>Built-in validation (email, url)</td>
          <td><code>type="email"</code></td>
        </tr>
      </tbody>
    </table>
  </section>

  <section>
    <h2>With Datalist</h2>
    <p>Add autocomplete suggestions using <a href="/docs/elements/native/datalist/">datalist</a>.</p>

    <div class="example">
      <form-field style="max-inline-size: 25rem;">
        <label for="input-datalist">Browser</label>
        <input type="text" id="input-datalist" list="browser-options" placeholder="Start typing..." />
        <datalist id="browser-options">
          <option value="Chrome"></option>
          <option value="Firefox"></option>
          <option value="Safari"></option>
          <option value="Edge"></option>
        </datalist>
      </form-field>
    </div>

    <h3>Code</h3>
    <code-block language="html" show-lines label="Input with datalist">{datalistCode}</code-block>
  </section>

  <section>
    <h2>With form-field</h2>
    <p>Use the <a href="/docs/elements/custom-elements/form-field/">form-field custom element</a> for CSS-only validation feedback.</p>

    <div class="example">
      <form style="max-inline-size: 25rem;">
        <layout-stack data-gap="m">
          <form-field>
            <label for="ff-email">Email</label>
            <input type="email"
                   id="ff-email"
                   name="email"
                   required
                   autocomplete="email"
                   aria-describedby="ff-email-msg" />
            <output id="ff-email-msg" for="ff-email" aria-live="polite">
              Enter a valid email address
            </output>
          </form-field>

          <form-field>
            <label for="ff-password">Password</label>
            <input type="password"
                   id="ff-password"
                   name="password"
                   required
                   minlength="8"
                   autocomplete="new-password"
                   aria-describedby="ff-password-msg" />
            <output id="ff-password-msg" for="ff-password" aria-live="polite">
              At least 8 characters required
            </output>
          </form-field>
        </layout-stack>
      </form>
    </div>
  </section>

  <section>
    <h2>Autocomplete Attribute</h2>
    <p>Help browsers autofill forms correctly with specific <code>autocomplete</code> values.</p>

    <table class="props-table">
      <thead>
        <tr>
          <th>Field Type</th>
          <th>Autocomplete Value</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Full name</td>
          <td><code>name</code></td>
        </tr>
        <tr>
          <td>Email</td>
          <td><code>email</code></td>
        </tr>
        <tr>
          <td>Phone</td>
          <td><code>tel</code></td>
        </tr>
        <tr>
          <td>Street address</td>
          <td><code>street-address</code></td>
        </tr>
        <tr>
          <td>City</td>
          <td><code>address-level2</code></td>
        </tr>
        <tr>
          <td>State/Province</td>
          <td><code>address-level1</code></td>
        </tr>
        <tr>
          <td>Postal code</td>
          <td><code>postal-code</code></td>
        </tr>
        <tr>
          <td>Country</td>
          <td><code>country-name</code></td>
        </tr>
        <tr>
          <td>Credit card number</td>
          <td><code>cc-number</code></td>
        </tr>
        <tr>
          <td>Current password</td>
          <td><code>current-password</code></td>
        </tr>
        <tr>
          <td>New password</td>
          <td><code>new-password</code></td>
        </tr>
        <tr>
          <td>One-time code</td>
          <td><code>one-time-code</code></td>
        </tr>
      </tbody>
    </table>

    <h3>Code</h3>
    <code-block language="html" show-lines label="Autocomplete attributes">{autocompleteCode}</code-block>
  </section>

  <section>
    <h2>Accessibility Notes</h2>
    <ul>
      <li><strong>Always use labels</strong>: Every input needs an associated <a href="/docs/elements/native/label/">label</a></li>
      <li><strong>Use autocomplete</strong>: Helps users fill forms faster and more accurately</li>
      <li><strong>Provide error messages</strong>: Use <code>aria-describedby</code> to link error text to inputs</li>
      <li><strong>Mark invalid fields</strong>: Use <code>aria-invalid="true"</code> for explicit invalid state</li>
      <li><strong>Avoid placeholder as label</strong>: Placeholders disappear when typing</li>
      <li><strong>Visible focus</strong>: Don't remove focus outlines</li>
      <li><strong>Touch targets</strong>: Minimum 44x44px for checkboxes and radios</li>
      <li><strong>Fieldsets for radio groups</strong>: Always wrap radio groups in <a href="/docs/elements/native/fieldset/">fieldset</a></li>
    </ul>
  </section>

  <section>
    <h2>CSS Reference</h2>
    <code-block language="css" show-lines label="Input CSS styles">{cssReferenceCode}</code-block>
  </section>

  <section>
    <h2>Related Elements</h2>
    <ul>
      <li><a href="/docs/elements/native/label/">label</a> - Essential for accessibility</li>
      <li><a href="/docs/elements/native/form/">form</a> - Container for inputs</li>
      <li><a href="/docs/elements/native/datalist/">datalist</a> - Autocomplete suggestions</li>
      <li><a href="/docs/elements/native/fieldset/">fieldset</a> - Group related inputs (especially radios)</li>
      <li><a href="/docs/elements/native/textarea/">textarea</a> - Multi-line text input</li>
      <li><a href="/docs/elements/native/select/">select</a> - Dropdown selection</li>
      <li><a href="/docs/elements/custom-elements/form-field/">form-field</a> - Enhanced form field with validation</li>
    </ul>
  </section>
</ElementLayout>
