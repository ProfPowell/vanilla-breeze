---
/**
 * Figure Element Documentation
 *
 * The figure element represents self-contained content with an optional caption,
 * used for images, diagrams, code snippets, and quotations.
 */
import ElementLayout from '../../../../layouts/ElementLayout.astro';

// Code examples as template strings
const basicFigureCode = `<figure>
  <img src="landscape.jpg" alt="A scenic landscape" />
  <figcaption>A beautiful mountain landscape at sunset.</figcaption>
</figure>`;

const borderedFigureCode = `<figure class="bordered">
  <img src="photo.jpg" alt="..." />
  <figcaption>Caption with border separator.</figcaption>
</figure>`;

const floatStartCode = `<figure class="float-start" style="max-inline-size: 200px;">
  <img src="photo.jpg" alt="..." />
  <figcaption>Caption text</figcaption>
</figure>
<p>Text wraps around the figure...</p>`;

const codeFigureCode = `<figure class="code">
  <pre><code>function greet(name) {
  return \`Hello, \${name}!\`;
}</code></pre>
  <figcaption>example.js</figcaption>
</figure>`;

const quoteFigureCode = `<figure class="quote">
  <blockquote>
    The only way to do great work is to love what you do.
  </blockquote>
  <figcaption>Steve Jobs</figcaption>
</figure>`;

const altVsFigcaptionCode = `<figure>
  <!-- alt describes WHAT the image shows -->
  <img src="chart.png" alt="Bar chart comparing Q1-Q4 sales" />

  <!-- figcaption provides CONTEXT about why it's shown -->
  <figcaption>Figure 1: Q4 sales exceeded targets by 15%.</figcaption>
</figure>`;
---

<ElementLayout
  title="figure"
  description="The figure element represents self-contained content with an optional caption, used for images, diagrams, code snippets, and quotations."
  elementName="figure"
  category="native"
  nativeGroup="Text Content"
  currentPath="/docs/elements/native/figure/"
>
  <!-- Description Section -->
  <section>
    <h2>Description</h2>
    <p>The <code>&lt;figure&gt;</code> element represents self-contained content that is referenced from the main content but could be moved to an appendix or sidebar without affecting the document flow. It typically contains images, diagrams, code listings, or quotations along with an optional <a href="/docs/elements/native/figcaption/"><code>&lt;figcaption&gt;</code></a>.</p>

    <p>Vanilla Breeze provides variants for bordered figures, floating figures, code examples, and pull quotes.</p>
  </section>

  <!-- When to Use Section -->
  <section>
    <h2>When to Use</h2>
    <ul>
      <li><strong>Images with captions</strong> - Photos, illustrations, diagrams with descriptive text</li>
      <li><strong>Code examples</strong> - Code snippets with file names or descriptions</li>
      <li><strong>Quotations</strong> - Pull quotes or block quotes with attribution</li>
      <li><strong>Videos</strong> - Embedded videos with titles or descriptions</li>
      <li><strong>Charts and graphs</strong> - Data visualizations with explanatory captions</li>
      <li><strong>Tables</strong> - Data tables with descriptive captions</li>
    </ul>

    <h3>When Not to Use</h3>
    <ul>
      <li>Decorative images that don't need captions</li>
      <li>Inline images that are part of the text flow</li>
      <li>Content that can't stand on its own</li>
    </ul>
  </section>

  <!-- Variants Section -->
  <section>
    <h2>Variants</h2>

    <h3>Default</h3>
    <p>Basic figure with content and optional caption.</p>
    <div class="example">
      <figure>
        <img src="https://picsum.photos/600/400" alt="A scenic landscape" loading="lazy" />
        <figcaption>A beautiful mountain landscape at sunset.</figcaption>
      </figure>
    </div>
    <code-block language="html" label="Basic figure with caption">{basicFigureCode}</code-block>

    <h3>.bordered</h3>
    <p>Adds padding and border for a card-like appearance with separated caption.</p>
    <div class="example">
      <figure class="bordered">
        <img src="https://picsum.photos/600/350" alt="Bordered figure example" loading="lazy" />
        <figcaption>The caption appears below a dividing line.</figcaption>
      </figure>
    </div>
    <code-block language="html" label="Bordered figure variant">{borderedFigureCode}</code-block>

    <h3>.centered</h3>
    <p>Centers the figure and caption for standalone display.</p>
    <div class="example">
      <figure class="centered">
        <img src="https://picsum.photos/400/300" alt="Centered figure" class="rounded" style="max-inline-size: 400px;" loading="lazy" />
        <figcaption>A centered figure with centered caption.</figcaption>
      </figure>
    </div>

    <h3>.float-start</h3>
    <p>Floats the figure to the start (left in LTR) with text wrapping.</p>
    <div class="example">
      <figure class="float-start" style="max-inline-size: 200px;">
        <img src="https://picsum.photos/200/150" alt="Float start example" loading="lazy" />
        <figcaption>Float start</figcaption>
      </figure>
      <p>This paragraph demonstrates text wrapping around a floated figure. The figure floats to the inline-start (left in LTR languages) and subsequent text flows around it naturally. This layout is common in editorial content where images accompany written text.</p>
      <p>Additional paragraphs continue to wrap until they clear the floated element. This creates a natural reading flow that integrates images with text content.</p>
    </div>
    <code-block language="html" label="Float start figure">{floatStartCode}</code-block>

    <h3>.float-end</h3>
    <p>Floats the figure to the end (right in LTR) with text wrapping.</p>
    <div class="example">
      <figure class="float-end" style="max-inline-size: 200px;">
        <img src="https://picsum.photos/200/151" alt="Float end example" loading="lazy" />
        <figcaption>Float end</figcaption>
      </figure>
      <p>This paragraph demonstrates text wrapping around a figure floated to the end. In left-to-right languages, the figure appears on the right side with text flowing to its left.</p>
      <p>This layout is useful when you want to draw attention to supporting imagery while maintaining readable text flow.</p>
    </div>

    <h3>.full</h3>
    <p>Full container width.</p>
    <div class="example">
      <figure class="full">
        <img src="https://picsum.photos/1200/400" alt="Full width figure" loading="lazy" />
        <figcaption>A full-width figure spanning the entire container.</figcaption>
      </figure>
    </div>
  </section>

  <!-- Special Variants Section -->
  <section>
    <h2>Special Variants</h2>

    <h3>.code</h3>
    <p>Styled for code examples with filename in caption.</p>
    <div class="example">
      <figure class="code">
        <pre><code>function greet(name) &#123;
  return `Hello, $&#123;name&#125;!`;
&#125;

console.log(greet('World'));</code></pre>
        <figcaption>example.js</figcaption>
      </figure>
    </div>
    <code-block language="html" label="Code figure variant">{codeFigureCode}</code-block>

    <h3>.quote</h3>
    <p>Styled for pull quotes with attribution.</p>
    <div class="example">
      <figure class="quote">
        <blockquote>
          The only way to do great work is to love what you do.
        </blockquote>
        <figcaption>Steve Jobs</figcaption>
      </figure>
    </div>
    <code-block language="html" label="Quote figure variant">{quoteFigureCode}</code-block>
  </section>

  <!-- Content Types Section -->
  <section>
    <h2>Content Types</h2>
    <p>Figures can contain various types of content.</p>

    <h3>Image</h3>
    <div class="example">
      <figure>
        <img src="https://picsum.photos/500/300" alt="Example image" loading="lazy" />
        <figcaption>Figure 1: A sample image with caption.</figcaption>
      </figure>
    </div>

    <h3>Picture (Responsive Image)</h3>
    <div class="example">
      <figure>
        <picture>
          <source media="(min-width: 600px)" srcset="https://picsum.photos/600/300" />
          <img src="https://picsum.photos/400/300" alt="Responsive image in figure" loading="lazy" />
        </picture>
        <figcaption>Figure 2: A responsive image using the picture element.</figcaption>
      </figure>
    </div>

    <h3>Video</h3>
    <div class="example">
      <figure>
        <video controls poster="https://picsum.photos/500/280" style="max-inline-size: 500px;">
          <source src="#" type="video/mp4" />
        </video>
        <figcaption>Figure 3: Introduction video with playback controls.</figcaption>
      </figure>
    </div>

    <h3>Canvas</h3>
    <div class="example">
      <figure>
        <canvas class="bordered" width="400" height="200" id="figure-canvas"></canvas>
        <figcaption>Figure 4: Interactive canvas visualization.</figcaption>
      </figure>
    </div>

    <h3>SVG</h3>
    <div class="example">
      <figure>
        <svg class="full" viewBox="0 0 400 100" style="max-inline-size: 400px;">
          <rect x="10" y="20" width="60" height="60" fill="var(--color-interactive)" rx="4" />
          <rect x="90" y="20" width="60" height="60" fill="var(--color-interactive)" rx="4" opacity="0.8" />
          <rect x="170" y="20" width="60" height="60" fill="var(--color-interactive)" rx="4" opacity="0.6" />
          <rect x="250" y="20" width="60" height="60" fill="var(--color-interactive)" rx="4" opacity="0.4" />
          <rect x="330" y="20" width="60" height="60" fill="var(--color-interactive)" rx="4" opacity="0.2" />
        </svg>
        <figcaption>Figure 5: SVG diagram showing opacity progression.</figcaption>
      </figure>
    </div>

    <h3>Iframe</h3>
    <div class="example">
      <figure>
        <div class="embed-responsive" style="max-inline-size: 500px;">
          <iframe src="about:blank" title="Embedded content" style="background: var(--color-surface-raised);"></iframe>
        </div>
        <figcaption>Figure 6: Embedded external content.</figcaption>
      </figure>
    </div>

    <h3>Audio</h3>
    <div class="example">
      <figure>
        <audio controls>
          <source src="#" type="audio/mpeg" />
        </audio>
        <figcaption>Audio 1: Podcast episode - "Introduction to Web Development"</figcaption>
      </figure>
    </div>
  </section>

  <!-- Accessibility Section -->
  <section>
    <h2>Accessibility</h2>

    <h3>Figure Role</h3>
    <p>The <code>&lt;figure&gt;</code> element has an implicit <code>figure</code> role when it contains a <code>&lt;figcaption&gt;</code>. Screen readers announce it as a figure with its caption.</p>

    <h3>Alt Text vs Caption</h3>
    <p>The <code>alt</code> attribute and <code>&lt;figcaption&gt;</code> serve different purposes:</p>
    <ul>
      <li><code>alt</code> - Describes the image content for screen readers</li>
      <li><code>figcaption</code> - Provides context visible to all users</li>
    </ul>

    <code-block language="html" label="Alt text vs figcaption">{altVsFigcaptionCode}</code-block>

    <h3>Best Practices</h3>
    <ul>
      <li>Always include <code>alt</code> text on images within figures</li>
      <li>Don't repeat the same information in <code>alt</code> and <code>figcaption</code></li>
      <li>Use <code>figcaption</code> for context, attribution, or additional details</li>
      <li>Number figures if referenced in text (Figure 1, Figure 2)</li>
      <li>Ensure figures make sense when read out of document order</li>
    </ul>
  </section>

  <!-- Related Elements Section -->
  <section>
    <h2>Related Elements</h2>
    <ul>
      <li><a href="/docs/elements/native/figcaption/"><code>&lt;figcaption&gt;</code></a> - Caption element for figures</li>
      <li><a href="/docs/elements/native/img/"><code>&lt;img&gt;</code></a> - Images within figures</li>
      <li><a href="/docs/elements/native/picture/"><code>&lt;picture&gt;</code></a> - Responsive images within figures</li>
      <li><a href="/docs/elements/native/video/"><code>&lt;video&gt;</code></a> - Videos within figures</li>
      <li><a href="/docs/elements/native/audio/"><code>&lt;audio&gt;</code></a> - Audio within figures</li>
      <li><a href="/docs/elements/native/canvas/"><code>&lt;canvas&gt;</code></a> - Canvas graphics within figures</li>
      <li><a href="/docs/elements/native/svg/"><code>&lt;svg&gt;</code></a> - SVG diagrams within figures</li>
      <li><a href="/docs/elements/native/blockquote/"><code>&lt;blockquote&gt;</code></a> - Quotations within figures</li>
    </ul>
  </section>

  <!-- CSS Reference Section -->
  <section>
    <h2>CSS Reference</h2>
    <p>Styles defined in <code>/src/native-elements/figure/styles.css</code></p>

    <table class="props-table">
      <thead>
        <tr>
          <th>Selector</th>
          <th>Properties</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>figure</code></td>
          <td><code>display: block; margin: 0;</code></td>
        </tr>
        <tr>
          <td><code>figure &gt; img/video/picture/iframe/canvas</code></td>
          <td><code>display: block; inline-size: 100%; block-size: auto;</code></td>
        </tr>
        <tr>
          <td><code>figure.bordered</code></td>
          <td><code>padding; border; border-radius;</code></td>
        </tr>
        <tr>
          <td><code>figure.centered</code></td>
          <td><code>margin-inline: auto; text-align: center;</code></td>
        </tr>
        <tr>
          <td><code>figure.float-start</code></td>
          <td><code>float: inline-start; max-inline-size: 50%;</code></td>
        </tr>
        <tr>
          <td><code>figure.float-end</code></td>
          <td><code>float: inline-end; max-inline-size: 50%;</code></td>
        </tr>
        <tr>
          <td><code>figure.code</code></td>
          <td><code>Special pre/code/figcaption styling;</code></td>
        </tr>
        <tr>
          <td><code>figure.quote</code></td>
          <td><code>Special blockquote/figcaption styling;</code></td>
        </tr>
      </tbody>
    </table>
  </section>
</ElementLayout>

<script>
  // Demo canvas in figure
  const canvas = document.getElementById('figure-canvas') as HTMLCanvasElement;
  if (canvas) {
    const ctx = canvas.getContext('2d');
    const gradient = ctx.createLinearGradient(0, 0, 400, 0);
    gradient.addColorStop(0, '#4a90d9');
    gradient.addColorStop(1, '#67b26f');
    ctx.fillStyle = gradient;
    ctx.fillRect(0, 0, 400, 200);
    ctx.fillStyle = 'white';
    ctx.font = '16px system-ui';
    ctx.textAlign = 'center';
    ctx.fillText('Canvas Visualization', 200, 105);
  }
</script>
