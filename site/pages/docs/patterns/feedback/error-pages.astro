---
import PatternLayout from '../../../../layouts/PatternLayout.astro';
---

<PatternLayout
  title="Error Pages"
  description="Error page patterns for 404, 500, and maintenance states. Guide users with clear messaging and helpful actions."
  patternName="Error Pages"
  category="feedback"
  currentPath="/docs/patterns/feedback/error-pages/"
>
  <section>
    <h2>Overview</h2>
    <layout-text>
      <p>Error pages appear when something goes wrong or content is unavailable. They should clearly communicate the issue, reassure users, and provide actionable next steps to get them back on track.</p>
      <p><strong>Key features:</strong></p>
      <ul>
        <li>Full-page centered layout using <code>data-layout="cover"</code></li>
        <li>Large error codes or icons for immediate recognition</li>
        <li>Clear, concise messaging explaining the situation</li>
        <li>Primary action button to help users recover</li>
        <li>Secondary links for alternative navigation options</li>
      </ul>
    </layout-text>
  </section>

  <section>
    <h2>404 - Page Not Found</h2>
    <layout-text>
      <p>A 404 page appears when users navigate to a URL that doesn't exist. Display a prominent error code, explain the issue, and provide navigation options.</p>
    </layout-text>

    <browser-window
      src="/docs/patterns/demos/error-404.html"
      url="https://example.com/missing-page"
      title="Error 404 - Page Not Found"
      shadow>
    </browser-window>

    <code-block language="html" label="error-404.html">&lt;body data-layout="cover" data-layout-min="100vh" data-layout-padding="l"&gt;
  &lt;main data-layout="center" data-layout-max="narrow" data-layout-principal
        class="error-content" data-layout-gap="xl"&gt;
    &lt;span class="error-code"&gt;404&lt;/span&gt;
    &lt;hgroup class="spaced"&gt;
      &lt;h1&gt;Page not found&lt;/h1&gt;
      &lt;p&gt;Sorry, we couldn't find the page you're looking for.
         It may have been moved or deleted.&lt;/p&gt;
    &lt;/hgroup&gt;
    &lt;footer data-layout="stack" data-layout-gap="m"&gt;
      &lt;a href="/" class="button"&gt;
        &lt;icon-wc name="home"&gt;&lt;/icon-wc&gt;
        Go back home
      &lt;/a&gt;
      &lt;nav data-layout="cluster" data-layout-gap="m"
           data-layout-justify="center" class="error-links"
           aria-label="Additional navigation"&gt;
        &lt;a href="/search"&gt;Search&lt;/a&gt;
        &lt;a href="/sitemap"&gt;Sitemap&lt;/a&gt;
        &lt;a href="/contact"&gt;Contact support&lt;/a&gt;
      &lt;/nav&gt;
    &lt;/footer&gt;
  &lt;/main&gt;
&lt;/body&gt;</code-block>
  </section>

  <section>
    <h2>500 - Server Error</h2>
    <layout-text>
      <p>A 500 page appears during server-side errors. Use a warning icon, acknowledge the problem, and offer options to retry or navigate elsewhere.</p>
    </layout-text>

    <browser-window
      src="/docs/patterns/demos/error-500.html"
      url="https://example.com/broken-page"
      title="Error 500 - Server Error"
      shadow>
    </browser-window>

    <code-block language="html" label="error-500.html">&lt;body data-layout="cover" data-layout-min="100vh" data-layout-padding="l"&gt;
  &lt;main data-layout="center" data-layout-max="narrow" data-layout-principal
        class="error-content" data-layout-gap="xl"&gt;
    &lt;header data-layout="stack" data-layout-gap="m"
            data-layout-align="center"&gt;
      &lt;icon-wc name="alert-triangle" class="error-icon"&gt;&lt;/icon-wc&gt;
      &lt;span class="error-code"&gt;Error 500&lt;/span&gt;
    &lt;/header&gt;
    &lt;hgroup class="spaced"&gt;
      &lt;h1&gt;Something went wrong&lt;/h1&gt;
      &lt;p&gt;We're experiencing technical difficulties. Our team has been
         notified and is working on a fix. Please try again later.&lt;/p&gt;
    &lt;/hgroup&gt;
    &lt;div data-layout="cluster" data-layout-gap="m"
         data-layout-justify="center"&gt;
      &lt;button data-action="reload"&gt;
        &lt;icon-wc name="refresh-cw"&gt;&lt;/icon-wc&gt;
        Try again
      &lt;/button&gt;
      &lt;a href="/" class="button secondary"&gt;
        &lt;icon-wc name="home"&gt;&lt;/icon-wc&gt;
        Go back home
      &lt;/a&gt;
    &lt;/div&gt;
    &lt;nav data-layout="cluster" data-layout-gap="m"
         data-layout-justify="center" class="error-links"
         aria-label="Additional navigation"&gt;
      &lt;a href="/status"&gt;Check system status&lt;/a&gt;
      &lt;a href="/contact"&gt;Contact support&lt;/a&gt;
    &lt;/nav&gt;
  &lt;/main&gt;
  &lt;script&gt;
    document.querySelector('[data-action="reload"]')
      .addEventListener('click', () =&gt; location.reload());
  &lt;/script&gt;
&lt;/body&gt;</code-block>
  </section>

  <section>
    <h2>Maintenance Mode</h2>
    <layout-text>
      <p>A maintenance page displays during scheduled downtime. Communicate the situation, provide an estimated return time, and offer ways to stay updated.</p>
    </layout-text>

    <browser-window
      src="/docs/patterns/demos/error-maintenance.html"
      url="https://example.com/"
      title="Site Under Maintenance"
      shadow>
    </browser-window>

    <code-block language="html" label="error-maintenance.html">&lt;body data-layout="cover" data-layout-min="100vh" data-layout-padding="l"&gt;
  &lt;main data-layout="center" data-layout-max="narrow" data-layout-principal
        class="maintenance-content" data-layout-gap="xl"&gt;
    &lt;icon-wc name="wrench" class="maintenance-icon"&gt;&lt;/icon-wc&gt;
    &lt;hgroup class="spaced"&gt;
      &lt;h1&gt;Under maintenance&lt;/h1&gt;
      &lt;p&gt;We're currently performing scheduled maintenance to improve
         our services. We'll be back shortly.&lt;/p&gt;
    &lt;/hgroup&gt;
    &lt;span class="eta-badge"&gt;
      &lt;icon-wc name="clock"&gt;&lt;/icon-wc&gt;
      Estimated return: &lt;time datetime="14:00-05:00"&gt;2:00 PM EST&lt;/time&gt;
    &lt;/span&gt;
    &lt;section data-layout="stack" data-layout-gap="s"&gt;
      &lt;p class="section-label"&gt;Get notified when we're back online:&lt;/p&gt;
      &lt;form class="notify-form" action="/notify" method="POST"&gt;
        &lt;input type="email" name="email" placeholder="Enter your email"
               required aria-label="Email address"/&gt;
        &lt;button type="submit"&gt;Notify me&lt;/button&gt;
      &lt;/form&gt;
    &lt;/section&gt;
    &lt;section data-layout="stack" data-layout-gap="m"&gt;
      &lt;p class="section-label"&gt;Follow us for updates:&lt;/p&gt;
      &lt;nav class="social-links" aria-label="Social media"&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;a href="https://twitter.com" aria-label="Twitter"&gt;
            &lt;icon-wc name="twitter"&gt;&lt;/icon-wc&gt;
          &lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href="https://facebook.com" aria-label="Facebook"&gt;
            &lt;icon-wc name="facebook"&gt;&lt;/icon-wc&gt;
          &lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href="/status" aria-label="Status page"&gt;
            &lt;icon-wc name="activity"&gt;&lt;/icon-wc&gt;
          &lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/nav&gt;
    &lt;/section&gt;
  &lt;/main&gt;
&lt;/body&gt;</code-block>
  </section>

  <section>
    <h2>Configuration</h2>
    <layout-text>
      <p>Error pages are built from layout primitives. Here are the key components:</p>
    </layout-text>

    <table class="props-table">
      <thead>
        <tr>
          <th scope="col">Element</th>
          <th scope="col">Purpose</th>
          <th scope="col">Customization</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>data-layout="cover"</code></td>
          <td>Full-page vertical centering</td>
          <td>Set minimum height with <code>data-layout-min</code></td>
        </tr>
        <tr>
          <td><code>data-layout="center"</code></td>
          <td>Horizontally centers content</td>
          <td>Control width with <code>data-layout-max</code></td>
        </tr>
        <tr>
          <td><code>data-layout="stack"</code></td>
          <td>Vertical spacing between elements</td>
          <td>Adjust gap with <code>data-layout-gap</code></td>
        </tr>
        <tr>
          <td><code>&lt;icon-wc&gt;</code></td>
          <td>Visual indicator of error type</td>
          <td>Size via <code>--icon-size</code>, color via CSS</td>
        </tr>
        <tr>
          <td><code>data-layout="cluster"</code></td>
          <td>Horizontal grouping of actions</td>
          <td>Alignment with <code>data-layout-justify</code></td>
        </tr>
      </tbody>
    </table>
  </section>

  <section>
    <h2>Accessibility</h2>
    <layout-text>
      <ul>
        <li><strong><code>&lt;main&gt;</code> landmark:</strong> Each error page wraps content in a <code>&lt;main&gt;</code> element, giving screen readers a clear landmark for the primary content.</li>
        <li><strong>Single <code>&lt;h1&gt;</code>:</strong> Each page uses exactly one <code>&lt;h1&gt;</code> describing the error, maintaining proper heading hierarchy.</li>
        <li><strong>Decorative icons:</strong> All <code>&lt;icon-wc&gt;</code> elements render with <code>aria-hidden="true"</code> by default, keeping them out of the accessibility tree.</li>
        <li><strong>Navigation landmark:</strong> Secondary links are wrapped in <code>&lt;nav aria-label="Additional navigation"&gt;</code> so screen readers can identify them as a navigation region.</li>
        <li><strong>No JavaScript required:</strong> All error pages are fully server-rendered. The 500 page's retry button uses progressive enhancement via an event listener rather than an inline handler.</li>
      </ul>
    </layout-text>
  </section>

  <section>
    <h2>Icon Options</h2>
    <layout-text>
      <p>Choose icons that clearly indicate the error type. Common icons from the Lucide set:</p>
    </layout-text>

    <table class="props-table">
      <thead>
        <tr>
          <th scope="col">Icon</th>
          <th scope="col">Name</th>
          <th scope="col">Use For</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><icon-wc name="alert-triangle" size="sm"></icon-wc></td>
          <td><code>alert-triangle</code></td>
          <td>Server errors, warnings</td>
        </tr>
        <tr>
          <td><icon-wc name="file-x" size="sm"></icon-wc></td>
          <td><code>file-x</code></td>
          <td>File not found, 404 errors</td>
        </tr>
        <tr>
          <td><icon-wc name="wrench" size="sm"></icon-wc></td>
          <td><code>wrench</code></td>
          <td>Maintenance mode</td>
        </tr>
        <tr>
          <td><icon-wc name="wifi-off" size="sm"></icon-wc></td>
          <td><code>wifi-off</code></td>
          <td>Connection issues</td>
        </tr>
        <tr>
          <td><icon-wc name="lock" size="sm"></icon-wc></td>
          <td><code>lock</code></td>
          <td>Access denied, 403 errors</td>
        </tr>
        <tr>
          <td><icon-wc name="clock" size="sm"></icon-wc></td>
          <td><code>clock</code></td>
          <td>Timeout errors</td>
        </tr>
        <tr>
          <td><icon-wc name="server-crash" size="sm"></icon-wc></td>
          <td><code>server-crash</code></td>
          <td>Server down</td>
        </tr>
        <tr>
          <td><icon-wc name="shield-alert" size="sm"></icon-wc></td>
          <td><code>shield-alert</code></td>
          <td>Security errors</td>
        </tr>
      </tbody>
    </table>
  </section>

  <section>
    <h2>Usage Notes</h2>
    <layout-text>
      <ul>
        <li><strong>HTTP status codes:</strong> Set the correct HTTP status code (404, 500, 503) in your server response, not just display it visually</li>
        <li><strong>Error tracking:</strong> Log errors server-side for debugging while showing user-friendly messages to visitors</li>
        <li><strong>Keep it simple:</strong> Avoid technical jargon; explain the issue in plain language</li>
        <li><strong>Provide options:</strong> Always give users at least one action to recover (go home, retry, search)</li>
        <li><strong>Brand consistency:</strong> Match your site's design to maintain trust during error states</li>
        <li><strong>Accessibility:</strong> Ensure error pages work without JavaScript and are screen reader friendly</li>
        <li><strong>SEO considerations:</strong> 404 pages should not be indexed; use proper meta robots tags</li>
        <li><strong>Maintenance ETA:</strong> If possible, provide estimated return times to set user expectations</li>
      </ul>
    </layout-text>
  </section>

  <section>
    <h2>Related</h2>
    <layout-grid data-layout-min="200px" data-layout-gap="m">
      <a href="/docs/patterns/feedback/empty-states/" class="section-card">
        <h3>Empty States</h3>
        <p>When there's no content to display</p>
      </a>
      <a href="/docs/patterns/feedback/skeleton/" class="section-card">
        <h3>Skeleton</h3>
        <p>Loading placeholders for content</p>
      </a>
      <a href="/docs/elements/custom-elements/center/" class="section-card">
        <h3>Layout Center</h3>
        <p>Center content horizontally</p>
      </a>
    </layout-grid>
  </section>
</PatternLayout>
