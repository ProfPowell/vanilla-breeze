---
import PatternLayout from '../../../../layouts/PatternLayout.astro';

const simpleCode = `<body data-layout="cover" data-min="100vh" data-padding="l">
  <layout-card data-max="narrow" data-padding="l" data-principal>
    <form action="/contact" method="POST" data-layout="stack" data-gap="l">
      <header data-layout="stack" data-gap="s">
        <h1>Get in touch</h1>
        <p>We'd love to hear from you. Send us a message and we'll respond as soon as possible.</p>
      </header>

      <form-field>
        <label for="name">Name</label>
        <input type="text" id="name" name="name" required
               autocomplete="name" placeholder="Your name"
               aria-describedby="name-error"/>
        <output id="name-error" class="error" for="name" aria-live="polite">
          Please enter your name.
        </output>
      </form-field>

      <form-field>
        <label for="email">Email</label>
        <input type="email" id="email" name="email" required
               autocomplete="email" placeholder="you@example.com"
               aria-describedby="email-error"/>
        <output id="email-error" class="error" for="email" aria-live="polite">
          Please enter a valid email address.
        </output>
      </form-field>

      <form-field>
        <label for="message">Message</label>
        <textarea id="message" name="message" rows="5" required
                  placeholder="How can we help you?"
                  aria-describedby="message-error"></textarea>
        <output id="message-error" class="error" for="message" aria-live="polite">
          Please enter a message.
        </output>
      </form-field>

      <button type="submit">Send message</button>
    </form>
  </layout-card>
</body>`;

const splitCode = `<section class="contact-section">
  <layout-cover data-min-height="100vh" data-padding="xl">
    <layout-center data-max-width="wide">
      <layout-sidebar data-gap="2xl" data-sidebar-width="narrow" data-content-min="50">
        <!-- Form Panel -->
        <layout-card data-padding="l">
          <form action="/contact" method="POST" data-layout="stack" data-gap="l">
            <header data-layout="stack" data-gap="s">
              <h1>Send us a message</h1>
              <p>Fill out the form and our team will get back to you within 24 hours.</p>
            </header>

            <form-field>
              <label for="name">Name</label>
              <input type="text" id="name" name="name" required
                     autocomplete="name" placeholder="Your name"/>
            </form-field>

            <form-field>
              <label for="email">Email</label>
              <input type="email" id="email" name="email" required
                     autocomplete="email" placeholder="you@example.com"/>
            </form-field>

            <form-field>
              <label for="subject">Subject</label>
              <input type="text" id="subject" name="subject" required
                     placeholder="What is this regarding?"/>
            </form-field>

            <form-field>
              <label for="message">Message</label>
              <textarea id="message" name="message" rows="5" required
                        placeholder="Tell us more about your inquiry..."></textarea>
            </form-field>

            <button type="submit">Send message</button>
          </form>
        </layout-card>

        <!-- Contact Info Sidebar -->
        <aside class="contact-info">
          <layout-stack data-gap="xl">
            <layout-stack data-gap="m">
              <h3>Contact information</h3>
              <p>Reach out to us through any of these channels.</p>
            </layout-stack>

            <layout-stack data-gap="l">
              <div class="contact-item">
                <icon-wc name="map-pin"></icon-wc>
                <div class="contact-item-content">
                  <span class="contact-item-label">Address</span>
                  <span class="contact-item-value">
                    123 Business Ave, Suite 100<br/>
                    San Francisco, CA 94102
                  </span>
                </div>
              </div>

              <div class="contact-item">
                <icon-wc name="phone"></icon-wc>
                <div class="contact-item-content">
                  <span class="contact-item-label">Phone</span>
                  <span class="contact-item-value">
                    <a href="tel:+14155551234">(415) 555-1234</a>
                  </span>
                </div>
              </div>

              <div class="contact-item">
                <icon-wc name="mail"></icon-wc>
                <div class="contact-item-content">
                  <span class="contact-item-label">Email</span>
                  <span class="contact-item-value">
                    <a href="mailto:hello@example.com">hello@example.com</a>
                  </span>
                </div>
              </div>
            </layout-stack>

            <layout-stack data-gap="m">
              <h3>Business hours</h3>
              <div class="hours-list">
                <div class="hours-row">
                  <span>Monday - Friday</span>
                  <span>9:00 AM - 6:00 PM</span>
                </div>
                <div class="hours-row">
                  <span>Saturday</span>
                  <span>10:00 AM - 4:00 PM</span>
                </div>
                <div class="hours-row">
                  <span>Sunday</span>
                  <span>Closed</span>
                </div>
              </div>
            </layout-stack>
          </layout-stack>
        </aside>
      </layout-sidebar>
    </layout-center>
  </layout-cover>
</section>`;

const mapCode = `<section class="contact-section">
  <layout-cover data-min-height="100vh" data-padding="xl">
    <layout-center data-max-width="wide">
      <layout-stack data-gap="2xl">
        <!-- Header -->
        <header class="contact-header" data-layout="stack" data-gap="s">
          <h1>Contact us</h1>
          <p>Have questions? We're here to help. Send us a message or visit our office.</p>
        </header>

        <!-- Content Grid -->
        <layout-sidebar data-gap="xl" data-sidebar-width="wide" data-content-min="45">
          <!-- Contact Form -->
          <layout-card data-padding="l">
            <form action="/contact" method="POST" data-layout="stack" data-gap="l">
              <h2>Send a message</h2>

              <div data-layout="split" data-gap="m">
                <form-field>
                  <label for="first-name">First name</label>
                  <input type="text" id="first-name" name="first_name" required
                         autocomplete="given-name" placeholder="John"/>
                </form-field>

                <form-field>
                  <label for="last-name">Last name</label>
                  <input type="text" id="last-name" name="last_name" required
                         autocomplete="family-name" placeholder="Doe"/>
                </form-field>
              </div>

              <form-field>
                <label for="email">Email</label>
                <input type="email" id="email" name="email" required
                       autocomplete="email" placeholder="john@example.com"/>
              </form-field>

              <form-field>
                <label for="phone">Phone (optional)</label>
                <input type="tel" id="phone" name="phone"
                       autocomplete="tel" placeholder="(555) 123-4567"/>
              </form-field>

              <form-field>
                <label for="message">Message</label>
                <textarea id="message" name="message" rows="4" required
                          placeholder="How can we help you?"></textarea>
              </form-field>

              <button type="submit">Send message</button>
            </form>
          </layout-card>

          <!-- Map Placeholder -->
          <div class="map-placeholder" role="img" aria-label="Map showing office location">
            <icon-wc name="map-pin"></icon-wc>
            <span>Map</span>
            <span>123 Business Ave, San Francisco, CA</span>
          </div>
        </layout-sidebar>
      </layout-stack>
    </layout-center>
  </layout-cover>
</section>`;

const splitStyles = `.contact-section {
  background: var(--color-surface-raised);
}
.contact-info h3 {
  font-size: var(--font-size-lg);
  margin: 0;
}
.contact-item {
  display: flex;
  gap: var(--size-m);
  align-items: flex-start;
}
.contact-item icon-wc {
  color: var(--color-interactive);
  flex-shrink: 0;
}
.contact-item-label {
  font-weight: var(--font-weight-medium);
}
.contact-item-value {
  color: var(--color-text-muted);
  font-size: var(--font-size-sm);
}
.hours-row {
  display: flex;
  justify-content: space-between;
  font-size: var(--font-size-sm);
  color: var(--color-text-muted);
}`;

const mapStyles = `.map-placeholder {
  background: linear-gradient(135deg, var(--color-surface-raised) 0%, var(--color-surface-overlay) 100%);
  border: var(--border-width-thin) solid var(--color-border);
  border-radius: var(--radius-m);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  gap: var(--size-m);
  color: var(--color-text-muted);
  min-height: 400px;
}`;
---

<PatternLayout
  title="Contact Form Patterns"
  description="Contact form patterns with split layouts, contact information sidebars, and map integration. Accessible and responsive designs for customer communication."
  patternName="Contact"
  category="forms"
  currentPath="/docs/patterns/forms/contact/"
>
  <section>
    <h2>Overview</h2>
    <layout-text>
      <p>Contact forms are essential for user communication. These patterns demonstrate various layouts from simple centered forms to complex split designs with contact information and map placeholders.</p>
      <p><strong>Key features:</strong></p>
      <ul>
        <li><code>&lt;form-field&gt;</code> for consistent input styling and validation</li>
        <li><code>&lt;textarea&gt;</code> with appropriate <code>rows</code> attribute for message input</li>
        <li><code>&lt;layout-sidebar&gt;</code> for split layouts with contact information</li>
        <li><code>&lt;icon-wc&gt;</code> for visual contact method indicators</li>
        <li>Proper <code>autocomplete</code> attributes for form autofill</li>
        <li>Accessible validation with <code>&lt;output&gt;</code> and <code>aria-live</code></li>
      </ul>
    </layout-text>
  </section>

  <section>
    <h2>Simple Contact Form</h2>
    <layout-text>
      <p>A centered contact form using <code>data-layout="cover"</code> for vertical centering. Includes name, email, and message fields with validation support.</p>
    </layout-text>

    <browser-window
      src="/docs/patterns/demos/contact-simple.html"
      url="https://example.com/contact"
      title="Contact Us"
      shadow>
    </browser-window>

    <code-block language="html" label="contact-simple.html" show-lines>{simpleCode}</code-block>
  </section>

  <section>
    <h2>Split Layout with Contact Info</h2>
    <layout-text>
      <p>A two-column layout using <code>&lt;layout-sidebar&gt;</code> with the form as the main content and contact information in the sidebar. Includes address, phone, email, and business hours.</p>
    </layout-text>

    <browser-window
      src="/docs/patterns/demos/contact-split.html"
      url="https://example.com/contact"
      title="Contact Us"
      shadow>
    </browser-window>

    <code-block language="html" label="contact-split.html" show-lines>{splitCode}</code-block>

    <h3>Contact Info Styles</h3>
    <code-block language="css" label="Contact information styling">{splitStyles}</code-block>
  </section>

  <section>
    <h2>With Map</h2>
    <layout-text>
      <p>Contact form with a map placeholder for displaying your location. Uses a centered header above a split layout. The map placeholder can be replaced with an embedded map service.</p>
    </layout-text>

    <browser-window
      src="/docs/patterns/demos/contact-with-map.html"
      url="https://example.com/contact"
      title="Contact Us"
      shadow>
    </browser-window>

    <code-block language="html" label="contact-with-map.html" show-lines>{mapCode}</code-block>

    <h3>Map Placeholder Styles</h3>
    <code-block language="css" label="Map placeholder styling">{mapStyles}</code-block>
  </section>

  <section>
    <h2>Configuration</h2>
    <layout-text>
      <p>Key configuration options for contact forms:</p>
    </layout-text>

    <table>
      <thead>
        <tr>
          <th>Element/Attribute</th>
          <th>Purpose</th>
          <th>Options</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>textarea rows</code></td>
          <td>Message field height</td>
          <td><code>4</code>, <code>5</code>, <code>6</code> (adjust to content needs)</td>
        </tr>
        <tr>
          <td><code>layout-sidebar data-sidebar-width</code></td>
          <td>Contact info sidebar width</td>
          <td><code>narrow</code>, <code>default</code>, <code>wide</code></td>
        </tr>
        <tr>
          <td><code>layout-sidebar data-content-min</code></td>
          <td>Minimum form width before wrapping</td>
          <td><code>45</code>, <code>50</code>, <code>60</code> (percentage)</td>
        </tr>
        <tr>
          <td><code>data-layout="split"</code></td>
          <td>Side-by-side form fields</td>
          <td>Use for first/last name pairs</td>
        </tr>
        <tr>
          <td><code>autocomplete</code></td>
          <td>Enable browser autofill</td>
          <td><code>name</code>, <code>email</code>, <code>tel</code>, <code>given-name</code>, <code>family-name</code></td>
        </tr>
      </tbody>
    </table>
  </section>

  <section>
    <h2>Usage Notes</h2>
    <layout-text>
      <ul>
        <li><strong>Required fields:</strong> Mark essential fields with <code>required</code> attribute; <code>&lt;form-field&gt;</code> adds visual asterisk automatically</li>
        <li><strong>Validation messages:</strong> Use <code>&lt;output class="error"&gt;</code> with <code>aria-describedby</code> linking to the input</li>
        <li><strong>Success states:</strong> Consider showing a success message or redirecting after submission</li>
        <li><strong>Spam prevention:</strong> Add honeypot fields or CAPTCHA for production forms</li>
        <li><strong>Map integration:</strong> Replace the placeholder with Google Maps, Mapbox, or other embedded map services</li>
        <li><strong>Phone links:</strong> Use <code>tel:</code> protocol for clickable phone numbers on mobile</li>
        <li><strong>Email links:</strong> Use <code>mailto:</code> protocol for email addresses</li>
        <li><strong>Accessibility:</strong> All form fields have labels, icons have appropriate aria attributes</li>
      </ul>
    </layout-text>
  </section>

  <section>
    <h2>Related</h2>
    <layout-grid data-min="200px" data-gap="m">
      <a href="/docs/patterns/forms/sign-in/" class="section-card">
        <h3>Sign In</h3>
        <p>Login form patterns with validation</p>
      </a>
      <a href="/docs/elements/custom-elements/form-field/" class="section-card">
        <h3>Form Field</h3>
        <p>Form field element with validation</p>
      </a>
      <a href="/docs/elements/layout/sidebar/" class="section-card">
        <h3>Layout Sidebar</h3>
        <p>Sidebar layout for split designs</p>
      </a>
      <a href="/docs/elements/custom-elements/icon/" class="section-card">
        <h3>Icon</h3>
        <p>Icon component for contact indicators</p>
      </a>
    </layout-grid>
  </section>
</PatternLayout>
