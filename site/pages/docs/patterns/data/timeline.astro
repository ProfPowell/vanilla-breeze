---
import DocsLayout from '../../../../layouts/DocsLayout.astro';

const simpleCode = `<div class="timeline" role="list" aria-label="Project timeline">
  <article class="timeline-item" role="listitem">
    <time class="timeline-date" datetime="2024-01-15">January 15, 2024</time>
    <h3 class="timeline-title">Project Launched</h3>
    <p class="timeline-content">Initial release deployed to production with core features.</p>
  </article>

  <article class="timeline-item" role="listitem">
    <time class="timeline-date" datetime="2024-02-01">February 1, 2024</time>
    <h3 class="timeline-title">Version 1.1 Released</h3>
    <p class="timeline-content">Added user authentication and dashboard improvements.</p>
  </article>

  <article class="timeline-item" role="listitem">
    <time class="timeline-date" datetime="2024-02-20">February 20, 2024</time>
    <h3 class="timeline-title">API Integration Complete</h3>
    <p class="timeline-content">Third-party API integrations added for payment processing.</p>
  </article>
</div>`;

const simpleCss = `.timeline {
  --timeline-line-color: var(--color-border);
  --timeline-dot-color: var(--color-interactive);
  --timeline-dot-size: 0.75rem;
  position: relative;
  padding-inline-start: var(--size-xl);
}

.timeline::before {
  content: '';
  position: absolute;
  left: calc(var(--timeline-dot-size) / 2);
  top: var(--size-2xs);
  bottom: var(--size-2xs);
  width: 2px;
  background: var(--timeline-line-color);
}

.timeline-item {
  position: relative;
  padding-block-end: var(--size-l);
}

.timeline-item::before {
  content: '';
  position: absolute;
  left: calc(-1 * var(--size-xl) + (var(--timeline-dot-size) / 2) - (var(--timeline-dot-size) / 2));
  top: var(--size-2xs);
  width: var(--timeline-dot-size);
  height: var(--timeline-dot-size);
  background: var(--timeline-dot-color);
  border-radius: 50%;
  border: 2px solid var(--color-surface);
  box-shadow: 0 0 0 2px var(--timeline-dot-color);
}`;

const iconsCode = `<div class="timeline" role="list" aria-label="Order status timeline">
  <article class="timeline-item" role="listitem">
    <span class="timeline-icon completed" aria-label="Completed">
      <icon-wc name="check" size="sm"></icon-wc>
    </span>
    <layout-stack data-gap="2xs">
      <time class="timeline-date" datetime="2024-03-20T09:00">March 20, 9:00 AM</time>
      <h3 class="timeline-title">Order Placed</h3>
      <p class="timeline-description">Your order #12345 has been confirmed.</p>
    </layout-stack>
  </article>

  <article class="timeline-item" role="listitem">
    <span class="timeline-icon pending" aria-label="Pending">
      <icon-wc name="clock" size="sm"></icon-wc>
    </span>
    <layout-stack data-gap="2xs">
      <time class="timeline-date" datetime="2024-03-24">Expected March 24</time>
      <h3 class="timeline-title">Out for Delivery</h3>
      <p class="timeline-description">Package will be delivered to your address.</p>
    </layout-stack>
  </article>
</div>`;

const iconsCss = `.timeline-icon {
  position: absolute;
  left: calc(-1 * (var(--timeline-icon-size) + var(--size-m)));
  top: 0;
  width: var(--timeline-icon-size);
  height: var(--timeline-icon-size);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-surface);
  border: 2px solid var(--color-border);
}

.timeline-icon.completed {
  background: var(--color-success);
  border-color: var(--color-success);
  color: white;
}

.timeline-icon.pending {
  background: var(--color-warning);
  border-color: var(--color-warning);
  color: white;
}

.timeline-icon.warning {
  background: var(--color-danger);
  border-color: var(--color-danger);
  color: white;
}

.timeline-icon.added {
  background: var(--color-interactive);
  border-color: var(--color-interactive);
  color: white;
}`;

const activityCode = `<div class="activity-feed" role="feed" aria-label="Recent activity">
  <article class="activity-item" role="article">
    <div class="activity-avatar" aria-hidden="true">JD</div>
    <div class="activity-content">
      <p class="activity-text">
        <strong>John Doe</strong> added a comment on <a href="#">Issue #423</a>
      </p>
      <time class="activity-time" datetime="2024-03-25T14:30">2 hours ago</time>
    </div>
  </article>

  <article class="activity-item" role="article">
    <div class="activity-avatar" aria-hidden="true">SM</div>
    <div class="activity-content">
      <p class="activity-text">
        <strong>Sarah Miller</strong> uploaded a file to <a href="#">Project Alpha</a>
      </p>
      <div class="activity-attachment">
        <icon-wc name="file" size="sm"></icon-wc>
        design-mockup-v2.fig
      </div>
      <time class="activity-time" datetime="2024-03-25T11:15">5 hours ago</time>
    </div>
  </article>
</div>`;

const activityCss = `.activity-feed {
  --feed-line-color: var(--color-border);
  --avatar-size: 2rem;
  position: relative;
}

.activity-feed::before {
  content: '';
  position: absolute;
  left: calc(var(--avatar-size) / 2);
  top: var(--avatar-size);
  bottom: var(--avatar-size);
  width: 2px;
  background: var(--feed-line-color);
}

.activity-item {
  display: grid;
  grid-template-columns: var(--avatar-size) 1fr;
  gap: var(--size-s);
  padding-block: var(--size-s);
  position: relative;
}

.activity-avatar {
  width: var(--avatar-size);
  height: var(--avatar-size);
  border-radius: 50%;
  background: var(--color-surface-raised);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-muted);
  border: 2px solid var(--color-surface);
  position: relative;
  z-index: 1;
}`;
---

<DocsLayout
  title="Timeline Pattern"
  description="Vertical timeline displays for chronological events, status tracking, and activity feeds. Perfect for order tracking, project history, and notifications."
  currentSection="examples"
>
  <nav class="breadcrumb" aria-label="Breadcrumb">
    <a href="/docs/patterns/">Patterns</a> / <a href="/docs/patterns/">Data Display</a> / <span aria-current="page">Timeline</span>
  </nav>

  <h1>Timeline</h1>
  <p class="lead">Vertical timeline displays for chronological events, status tracking, and activity feeds. Perfect for order tracking, project history, and notifications.</p>

  <section>
    <h2>Overview</h2>
    <layout-text>
      <p>Timeline patterns display chronological sequences of events with visual connectors. They help users understand the progression of activities, track status changes, and review historical data.</p>
      <p><strong>Key features:</strong></p>
      <ul>
        <li>Vertical layout with connecting line</li>
        <li>Dot markers or status icons at each event</li>
        <li>Semantic <code>&lt;time&gt;</code> elements for dates</li>
        <li>Activity feed variant for notifications</li>
        <li>CSS custom properties for easy theming</li>
      </ul>
    </layout-text>
  </section>

  <section>
    <h2>Simple Vertical Timeline</h2>
    <layout-text>
      <p>A clean vertical timeline with dots connecting each event. Uses CSS pseudo-elements for the line and markers. Ideal for project history, milestones, or changelog displays.</p>
    </layout-text>

    <browser-window
      src="/docs/patterns/demos/timeline-simple.html"
      url="https://vanilla-breeze.dev/timeline-simple"
      title="Simple Vertical Timeline"
      shadow>
    </browser-window>

    <code-block language="html" label="Timeline HTML structure">{simpleCode}</code-block>

    <code-block language="css" label="Timeline CSS with pseudo-elements">{simpleCss}</code-block>
  </section>

  <section>
    <h2>Timeline with Status Icons</h2>
    <layout-text>
      <p>Each timeline entry displays a status icon instead of a simple dot. Use semantic colors to indicate completed, pending, warning, or new items. Great for order tracking and process workflows.</p>
    </layout-text>

    <browser-window
      src="/docs/patterns/demos/timeline-icons.html"
      url="https://vanilla-breeze.dev/timeline-icons"
      title="Timeline with Status Icons"
      shadow>
    </browser-window>

    <code-block language="html" label="Timeline with icons">{iconsCode}</code-block>

    <code-block language="css" label="Status icon styles">{iconsCss}</code-block>
  </section>

  <section>
    <h2>Activity Feed</h2>
    <layout-text>
      <p>A compact feed-style timeline for notifications and activity logs. Features user avatars, action descriptions with links, and relative timestamps. Suitable for dashboards and notification centers.</p>
    </layout-text>

    <browser-window
      src="/docs/patterns/demos/timeline-activity.html"
      url="https://vanilla-breeze.dev/timeline-activity"
      title="Activity Feed Timeline"
      shadow>
    </browser-window>

    <code-block language="html" label="Activity feed structure">{activityCode}</code-block>

    <code-block language="css" label="Activity feed styles">{activityCss}</code-block>
  </section>

  <section>
    <h2>CSS Custom Properties</h2>
    <layout-text>
      <p>Timeline patterns use CSS custom properties for easy customization:</p>
    </layout-text>

    <div class="table-container">
      <table>
        <thead>
          <tr>
            <th>Property</th>
            <th>Default</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>--timeline-line-color</code></td>
            <td><code>var(--color-border)</code></td>
            <td>Color of the connecting vertical line</td>
          </tr>
          <tr>
            <td><code>--timeline-dot-color</code></td>
            <td><code>var(--color-interactive)</code></td>
            <td>Color of the dot markers</td>
          </tr>
          <tr>
            <td><code>--timeline-dot-size</code></td>
            <td><code>0.75rem</code></td>
            <td>Size of the dot markers</td>
          </tr>
          <tr>
            <td><code>--timeline-icon-size</code></td>
            <td><code>2rem</code></td>
            <td>Size of icon containers</td>
          </tr>
          <tr>
            <td><code>--avatar-size</code></td>
            <td><code>2rem</code></td>
            <td>Size of user avatars in activity feeds</td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>

  <section>
    <h2>Usage Notes</h2>
    <layout-text>
      <ul>
        <li><strong>Semantic time elements:</strong> Always use <code>&lt;time&gt;</code> with a <code>datetime</code> attribute for machine-readable dates</li>
        <li><strong>ARIA roles:</strong> Use <code>role="list"</code> and <code>role="listitem"</code> for timelines, <code>role="feed"</code> for activity feeds</li>
        <li><strong>Icon accessibility:</strong> Include <code>aria-label</code> on status icons to convey meaning to screen readers</li>
        <li><strong>Loading more items:</strong> For long timelines, implement pagination or infinite scroll with a "Load more" button</li>
        <li><strong>Relative timestamps:</strong> For activity feeds, consider JavaScript to update relative times ("2 hours ago") dynamically</li>
        <li><strong>Color semantics:</strong> Use consistent colors across your app - <code>--color-success</code> for completed, <code>--color-warning</code> for pending, <code>--color-danger</code> for issues</li>
        <li><strong>Responsive design:</strong> Timeline patterns work well on mobile; the vertical layout scales naturally</li>
      </ul>
    </layout-text>
  </section>

  <section>
    <h2>Related</h2>
    <layout-grid data-min="200px" data-gap="m">
      <a href="/docs/patterns/data/stats/" class="section-card">
        <h3>Stats</h3>
        <p>Metric cards and data displays</p>
      </a>
      <a href="/docs/elements/custom-elements/layout-stack/" class="section-card">
        <h3>Layout Stack</h3>
        <p>Vertical stacking layout element</p>
      </a>
      <a href="/docs/elements/custom-elements/icon-wc/" class="section-card">
        <h3>Icon WC</h3>
        <p>Icon web component for status icons</p>
      </a>
    </layout-grid>
  </section>
</DocsLayout>
