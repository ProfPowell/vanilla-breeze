<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Holy Grail Challenge - Vanilla Breeze Hero Demo</title>
  <link rel="stylesheet" href="/src/main.css"/>
  <style>
    /* ==========================================================================
       HERO DEMO STYLES

       This demo showcases: "5 Elements. Complete Page Layout. Zero CSS."

       THE WOW FACTOR:
       The holy-grail layout uses CSS :has() selectors to automatically adapt
       the grid when semantic elements (nav, aside) are removed. This means:
       - Full 3-column layout when all 5 elements present
       - 2-column layout when nav OR aside is missing
       - Single column when BOTH nav AND aside are missing

       Zero additional CSS. Zero JavaScript for layout logic.
       The CSS just "knows" what to do based on the HTML structure.
       ========================================================================== */

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: var(--size-m);
      background: var(--color-background);
      color: var(--color-text);
      font-family: var(--font-sans);
      /* Constrain to hero embedding height */
      max-height: 500px;
      overflow: hidden;
    }

    /* --------------------------------------------------------------------------
       Demo Container
       -------------------------------------------------------------------------- */
    .demo-container {
      display: grid;
      gap: var(--size-m);
      height: calc(500px - var(--size-m) * 2);
      grid-template-rows: auto 1fr;
    }

    /* --------------------------------------------------------------------------
       Control Panel - Toggle buttons to show adaptation
       -------------------------------------------------------------------------- */
    .controls {
      display: flex;
      align-items: center;
      gap: var(--size-m);
      padding: var(--size-s) var(--size-m);
      background: var(--color-surface);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-m);
    }

    .controls-label {
      font-size: var(--font-size-s);
      font-weight: 600;
      color: var(--color-text-muted);
      white-space: nowrap;
    }

    .toggle-group {
      display: flex;
      gap: var(--size-xs);
    }

    .toggle-btn {
      display: inline-flex;
      align-items: center;
      gap: var(--size-2xs);
      padding: var(--size-2xs) var(--size-s);
      background: var(--color-surface);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-s);
      font-size: var(--font-size-s);
      font-family: var(--font-mono);
      cursor: pointer;
      transition: all 0.15s ease;
    }

    .toggle-btn:hover {
      background: var(--color-surface-raised);
    }

    .toggle-btn[data-active="true"] {
      background: var(--color-primary);
      color: var(--color-primary-contrast);
      border-color: var(--color-primary);
    }

    .toggle-btn[data-active="false"] {
      background: var(--color-gray-200);
      color: var(--color-text-muted);
      text-decoration: line-through;
    }

    .status-indicator {
      margin-inline-start: auto;
      padding: var(--size-2xs) var(--size-s);
      background: var(--color-primary-subtle);
      color: var(--color-primary);
      border-radius: var(--radius-full);
      font-size: var(--font-size-xs);
      font-weight: 600;
    }

    /* --------------------------------------------------------------------------
       Holy Grail Demo Layout

       This is the magic! Just ONE attribute: data-layout="holy-grail"
       The CSS automatically creates a 3-column grid with named areas.
       When elements are removed, :has() selectors adapt the grid.
       -------------------------------------------------------------------------- */
    .layout-demo {
      border: 2px solid var(--color-border);
      border-radius: var(--radius-m);
      overflow: hidden;
    }

    /* Override min-height for demo embedding */
    .layout-demo[data-layout="holy-grail"] {
      min-height: auto;
      height: 100%;
    }

    /* --------------------------------------------------------------------------
       Demo Element Styling
       Each semantic element gets a distinct visual treatment
       -------------------------------------------------------------------------- */
    .layout-demo > header {
      padding: var(--size-s) var(--size-m);
      background: var(--color-gray-800);
      color: var(--color-gray-100);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .layout-demo > header .site-name {
      font-weight: 600;
      font-size: var(--font-size-m);
    }

    .layout-demo > header .header-nav {
      display: flex;
      gap: var(--size-m);
      font-size: var(--font-size-s);
    }

    .layout-demo > header .header-nav a {
      color: var(--color-gray-300);
      text-decoration: none;
    }

    .layout-demo > nav {
      padding: var(--size-s);
      background: var(--color-surface-raised);
      border-inline-end: 1px solid var(--color-border);
    }

    .layout-demo > nav .nav-title {
      font-size: var(--font-size-xs);
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: var(--color-text-muted);
      margin-block-end: var(--size-xs);
    }

    .layout-demo > nav ul {
      list-style: none;
      margin: 0;
      padding: 0;
    }

    .layout-demo > nav li {
      padding: var(--size-2xs) var(--size-xs);
      font-size: var(--font-size-s);
      border-radius: var(--radius-s);
      cursor: pointer;
    }

    .layout-demo > nav li:hover {
      background: var(--color-gray-100);
    }

    .layout-demo > nav li.active {
      background: var(--color-primary-subtle);
      color: var(--color-primary);
    }

    .layout-demo > main {
      padding: var(--size-m);
      background: var(--color-surface);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      gap: var(--size-xs);
    }

    .layout-demo > main .main-icon {
      font-size: var(--font-size-2xl);
      opacity: 0.5;
    }

    .layout-demo > main .main-label {
      font-size: var(--font-size-s);
      color: var(--color-text-muted);
    }

    .layout-demo > aside {
      padding: var(--size-s);
      background: var(--color-gray-50);
      border-inline-start: 1px solid var(--color-border);
    }

    .layout-demo > aside .aside-title {
      font-size: var(--font-size-xs);
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: var(--color-text-muted);
      margin-block-end: var(--size-xs);
    }

    .layout-demo > aside .widget {
      padding: var(--size-xs);
      background: var(--color-surface);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-s);
      font-size: var(--font-size-s);
      margin-block-end: var(--size-xs);
    }

    .layout-demo > footer {
      padding: var(--size-xs) var(--size-m);
      background: var(--color-gray-100);
      font-size: var(--font-size-xs);
      color: var(--color-text-muted);
      text-align: center;
      border-block-start: 1px solid var(--color-border);
    }
  </style>
</head>
<body>
  <!-- ==========================================================================
       HOLY GRAIL CHALLENGE DEMO

       "5 Elements. Complete Page Layout. Zero CSS."

       The wow factor: Toggle the nav and aside buttons to see the layout
       automatically adapt. No JavaScript layout logic - pure CSS :has()

       How it works:
       1. Full layout: header + nav + main + aside + footer = 3 columns
       2. No aside: header + nav + main + footer = 2 columns (nav + main)
       3. No nav: header + main + aside + footer = 2 columns (main + aside)
       4. No nav, no aside: header + main + footer = 1 column
       ========================================================================== -->

  <div class="demo-container">
    <!-- Control Panel -->
    <div class="controls">
      <span class="controls-label">Toggle Elements:</span>
      <div class="toggle-group">
        <button type="button" class="toggle-btn" data-target="nav" data-active="true">
          &lt;nav&gt;
        </button>
        <button type="button" class="toggle-btn" data-target="aside" data-active="true">
          &lt;aside&gt;
        </button>
      </div>
      <span class="status-indicator" id="layout-status">3-Column Layout</span>
    </div>

    <!-- The Holy Grail Layout - Just ONE attribute! -->
    <div class="layout-demo" data-layout="holy-grail">
      <header>
        <span class="site-name">Vanilla Breeze</span>
        <nav class="header-nav" aria-label="Primary">
          <a href="#">Docs</a>
          <a href="#">Examples</a>
          <a href="#">GitHub</a>
        </nav>
      </header>

      <nav aria-label="Sidebar" id="demo-nav">
        <div class="nav-title">Navigation</div>
        <ul>
          <li class="active">Dashboard</li>
          <li>Components</li>
          <li>Layouts</li>
          <li>Settings</li>
        </ul>
      </nav>

      <main>
        <div class="main-icon">&#9776;</div>
        <div class="main-label">Main Content Area</div>
      </main>

      <aside id="demo-aside">
        <div class="aside-title">Sidebar</div>
        <div class="widget">Recent Activity</div>
        <div class="widget">Quick Stats</div>
      </aside>

      <footer>
        &copy; 2026 Vanilla Breeze. Built with zero custom CSS for layout.
      </footer>
    </div>
  </div>

  <script type="module" src="/src/main.js"></script>
  <script>
    /* ========================================================================
       Demo Interactivity

       This JavaScript is ONLY for the toggle buttons.
       The layout adaptation is 100% CSS - no JS involved!
       ======================================================================== */

    document.querySelectorAll('.toggle-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const target = btn.dataset.target;
        const element = document.getElementById(`demo-${target}`);
        const isActive = btn.dataset.active === 'true';

        if (isActive) {
          // Hide element (remove from DOM for :has() to work)
          element.dataset.hidden = 'true';
          element.style.display = 'none';
          btn.dataset.active = 'false';
        } else {
          // Show element
          delete element.dataset.hidden;
          element.style.display = '';
          btn.dataset.active = 'true';
        }

        // Update status indicator
        updateStatus();
      });
    });

    function updateStatus() {
      const navVisible = document.getElementById('demo-nav').style.display !== 'none';
      const asideVisible = document.getElementById('demo-aside').style.display !== 'none';
      const status = document.getElementById('layout-status');

      if (navVisible && asideVisible) {
        status.textContent = '3-Column Layout';
      } else if (navVisible || asideVisible) {
        status.textContent = '2-Column Layout';
      } else {
        status.textContent = '1-Column Layout';
      }
    }
  </script>
</body>
</html>
