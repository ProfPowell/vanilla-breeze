<!doctype html>
<html lang="en" data-page="docs">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Layout System - Vanilla Breeze</title>
  <link rel="stylesheet" href="/src/main.css"/>
  <link rel="stylesheet" href="/docs/docs.css"/>
  <style>
    body {
      padding: var(--size-l);
      background: var(--color-background);
      color: var(--color-text);
      max-width: 1200px;
      margin-inline: auto;
    }

    h1 { margin-bottom: var(--size-s); }
    h2 {
      margin-top: var(--size-2xl);
      margin-bottom: var(--size-m);
      padding-top: var(--size-l);
      border-top: 1px solid var(--color-border);
    }
    h2:first-of-type { border-top: none; margin-top: var(--size-l); }
    h3 { margin-bottom: var(--size-s); margin-top: var(--size-l); }

    .lead {
      font-size: var(--font-size-l);
      color: var(--color-text-muted);
      margin-bottom: var(--size-l);
      max-width: 65ch;
    }

    .back-link {
      display: inline-block;
      margin-bottom: var(--size-l);
    }

    /* Hierarchy diagram */
    .hierarchy-diagram {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: var(--size-m);
      margin: var(--size-l) 0;
    }

    .hierarchy-level {
      padding: var(--size-m);
      border: 2px solid var(--color-border);
      border-radius: var(--radius-m);
      text-align: center;
    }

    .hierarchy-level.page {
      border-color: var(--color-primary);
      background: var(--color-primary-subtle);
    }

    .hierarchy-level.component {
      border-color: oklch(65% 0.15 145);
      background: oklch(65% 0.15 145 / 0.1);
    }

    .hierarchy-level h4 {
      margin: 0 0 var(--size-xs) 0;
      font-size: var(--font-size-s);
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .hierarchy-level code {
      display: block;
      font-size: var(--font-size-m);
      font-weight: 600;
    }

    .hierarchy-level p {
      margin: var(--size-xs) 0 0 0;
      font-size: var(--font-size-s);
      color: var(--color-text-muted);
    }

    /* Demo grid */
    .demo-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: var(--size-l);
      margin-top: var(--size-m);
    }

    @media (max-width: 800px) {
      .demo-grid {
        grid-template-columns: 1fr;
      }
    }

    /* Page layout demo elements */
    .page-demo {
      display: grid;
      min-height: 180px;
    }

    .page-demo > * {
      padding: var(--size-xs) var(--size-s);
      font-size: var(--font-size-xs);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .page-demo .el-header {
      background: var(--color-gray-200);
      grid-area: body-header;
    }

    .page-demo .el-nav {
      background: var(--color-gray-100);
      grid-area: body-nav;
      flex-direction: column;
      align-items: flex-start;
      gap: 2px;
    }

    .page-demo .el-main {
      background: var(--color-surface);
      grid-area: body-main;
      color: var(--color-text-muted);
    }

    .page-demo .el-aside {
      background: var(--color-gray-100);
      grid-area: body-aside;
    }

    .page-demo .el-footer {
      background: var(--color-gray-200);
      grid-area: body-footer;
      font-size: 10px;
      color: var(--color-text-muted);
    }

    /* Feature comparison */
    .feature-table {
      width: 100%;
      border-collapse: collapse;
      margin: var(--size-l) 0;
      font-size: var(--font-size-s);
    }

    .feature-table th,
    .feature-table td {
      padding: var(--size-s);
      border: 1px solid var(--color-border);
      text-align: left;
    }

    .feature-table th {
      background: var(--color-surface-raised);
    }

    .feature-table td:first-child {
      font-weight: 600;
    }

    .yes { color: oklch(55% 0.2 145); }
    .no { color: oklch(55% 0.2 25); }

    /* Info boxes */
    .info-box {
      padding: var(--size-m);
      background: var(--color-primary-subtle);
      border-left: 4px solid var(--color-primary);
      border-radius: var(--radius-s);
      margin: var(--size-l) 0;
    }

    .info-box p {
      margin: 0;
    }

    /* Component demo containers */
    .component-demo {
      padding: var(--size-m);
      background: var(--color-surface);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-m);
    }
  </style>
</head>
<body>
  <nav aria-label="Breadcrumb">
    <a href="/docs/examples/" class="back-link">&larr; Back to Examples</a>
  </nav>

  <article>
    <h1>Layout System</h1>
    <p class="lead">
      Vanilla Breeze provides a hierarchical layout system that separates page-level structure
      from component-level layouts. This enables clean, semantic HTML while maintaining flexibility.
    </p>

    <!-- ========== HIERARCHY ========== -->
    <h2>The Layout Hierarchy</h2>

    <p>Layouts work at two distinct levels:</p>

    <div class="hierarchy-diagram">
      <div class="hierarchy-level page">
        <h4>Page Layout</h4>
        <code>data-page-layout</code>
        <p>Full-page structure on <code>&lt;body&gt;</code></p>
        <p>Uses semantic element identity</p>
      </div>

      <div class="hierarchy-level component">
        <h4>Component Layout</h4>
        <code>data-layout</code>
        <p>Works on any element</p>
        <p>For sections, cards, panels</p>
      </div>
    </div>

    <div class="info-box">
      <p>
        <strong>Key principle:</strong> <code>data-page-layout</code> uses semantic element identity&mdash;your
        <code>&lt;header&gt;</code>, <code>&lt;nav&gt;</code>, <code>&lt;main&gt;</code>, <code>&lt;aside&gt;</code>,
        and <code>&lt;footer&gt;</code> are automatically placed in the correct grid areas. No classes needed.
      </p>
    </div>


    <!-- ========== PAGE LAYOUTS ========== -->
    <h2>Page Layouts</h2>

    <p>
      Use <code>data-page-layout</code> on <code>&lt;body&gt;</code> to define the overall page structure.
      Semantic HTML elements are automatically assigned to grid areas based on their element type.
    </p>

    <h3>Sidebar Left</h3>
    <div class="demo-grid">
      <browser-window url="mysite.com">
        <div class="page-demo" data-page-layout="sidebar-left" data-layout-gap="none" style="min-height: 160px;">
          <div class="el-header">Header</div>
          <div class="el-nav">
            <span>Home</span>
            <span>About</span>
            <span>Contact</span>
          </div>
          <div class="el-main">Main Content</div>
          <div class="el-footer">Footer</div>
        </div>
      </browser-window>

      <code-block language="html" label="Sidebar Left">&lt;body data-page-layout="sidebar-left"&gt;
  &lt;header&gt;Site Header&lt;/header&gt;
  &lt;nav&gt;
    &lt;a href="/"&gt;Home&lt;/a&gt;
    &lt;a href="/about"&gt;About&lt;/a&gt;
  &lt;/nav&gt;
  &lt;main&gt;
    &lt;!-- Your content here --&gt;
  &lt;/main&gt;
  &lt;footer&gt;...&lt;/footer&gt;
&lt;/body&gt;</code-block>
    </div>

    <h3>Holy Grail (Three Column)</h3>
    <div class="demo-grid">
      <browser-window url="mysite.com">
        <div class="page-demo" data-page-layout="holy-grail" data-layout-gap="none" style="min-height: 160px; --_sidebar-width: 70px;">
          <div class="el-header">Header</div>
          <div class="el-nav"><span>Nav</span></div>
          <div class="el-main">Main</div>
          <div class="el-aside">Aside</div>
          <div class="el-footer">Footer</div>
        </div>
      </browser-window>

      <code-block language="html" label="Holy Grail">&lt;body data-page-layout="holy-grail"&gt;
  &lt;header&gt;...&lt;/header&gt;
  &lt;nav&gt;...&lt;/nav&gt;
  &lt;main&gt;...&lt;/main&gt;
  &lt;aside&gt;...&lt;/aside&gt;
  &lt;footer&gt;...&lt;/footer&gt;
&lt;/body&gt;</code-block>
    </div>

    <h3>Dashboard</h3>
    <div class="demo-grid">
      <browser-window url="app.mysite.com/dashboard">
        <div class="page-demo" data-page-layout="dashboard" style="min-height: 160px; --_sidebar-width: 70px;">
          <div class="el-header">Dashboard</div>
          <div class="el-nav">
            <span>Overview</span>
            <span>Users</span>
            <span>Reports</span>
          </div>
          <div class="el-main">Dashboard Content</div>
        </div>
      </browser-window>

      <code-block language="html" label="Dashboard">&lt;body data-page-layout="dashboard"&gt;
  &lt;header&gt;Dashboard&lt;/header&gt;
  &lt;nav&gt;
    &lt;a href="#"&gt;Overview&lt;/a&gt;
    &lt;a href="#"&gt;Users&lt;/a&gt;
    &lt;a href="#"&gt;Reports&lt;/a&gt;
  &lt;/nav&gt;
  &lt;main&gt;...&lt;/main&gt;
&lt;/body&gt;</code-block>
    </div>

    <h3>Available Page Layouts</h3>
    <table class="feature-table">
      <thead>
        <tr>
          <th>Layout</th>
          <th>Description</th>
          <th>Semantic Elements</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>stack</code></td>
          <td>Single column, mobile-first</td>
          <td>header, nav, main, footer</td>
        </tr>
        <tr>
          <td><code>sidebar-left</code></td>
          <td>Two columns, nav on left</td>
          <td>header, nav, main, footer</td>
        </tr>
        <tr>
          <td><code>sidebar-right</code></td>
          <td>Two columns, aside on right</td>
          <td>header, main, aside, footer</td>
        </tr>
        <tr>
          <td><code>holy-grail</code></td>
          <td>Three columns, classic layout</td>
          <td>header, nav, main, aside, footer</td>
        </tr>
        <tr>
          <td><code>dashboard</code></td>
          <td>Admin panel style</td>
          <td>header, nav, main</td>
        </tr>
        <tr>
          <td><code>app-shell</code></td>
          <td>Vertical nav bar</td>
          <td>header, nav, main</td>
        </tr>
        <tr>
          <td><code>article</code></td>
          <td>Centered content for reading</td>
          <td>header, main, footer</td>
        </tr>
      </tbody>
    </table>


    <!-- ========== COMPONENT LAYOUTS ========== -->
    <h2>Component Layouts</h2>

    <p>
      Use <code>data-layout</code> on any element for component-level layouts.
      These work inside your page structure for cards, panels, sections, and more.
    </p>

    <h3>Sidebar (Component Level)</h3>
    <div class="demo-grid">
      <div class="component-demo">
        <section data-layout="sidebar" data-layout-gap="s" style="--_sidebar-width: 100px; --_content-min: 40%;">
          <nav style="background: var(--color-gray-100); padding: var(--size-s); font-size: var(--font-size-xs);">
            <div>Link 1</div>
            <div>Link 2</div>
          </nav>
          <article style="background: var(--color-gray-50); padding: var(--size-s); font-size: var(--font-size-xs); color: var(--color-text-muted);">
            Article content goes here...
          </article>
        </section>
      </div>

      <code-block language="html" label="Component Sidebar">&lt;!-- Inside your page's &lt;main&gt; --&gt;
&lt;section data-layout="sidebar"&gt;
  &lt;nav&gt;Section nav...&lt;/nav&gt;
  &lt;article&gt;Content...&lt;/article&gt;
&lt;/section&gt;</code-block>
    </div>

    <h3>Stack and Grid</h3>
    <div class="demo-grid">
      <div>
        <h4>Stack Layout</h4>
        <div class="component-demo" style="margin-bottom: var(--size-m);">
          <div data-layout="stack" data-layout-gap="s">
            <div style="background: var(--color-gray-100); padding: var(--size-s); font-size: var(--font-size-xs);">Item 1</div>
            <div style="background: var(--color-gray-100); padding: var(--size-s); font-size: var(--font-size-xs);">Item 2</div>
            <div style="background: var(--color-gray-100); padding: var(--size-s); font-size: var(--font-size-xs);">Item 3</div>
          </div>
        </div>
        <code-block language="html" label="Stack">&lt;div data-layout="stack"&gt;
  &lt;div&gt;Item 1&lt;/div&gt;
  &lt;div&gt;Item 2&lt;/div&gt;
&lt;/div&gt;</code-block>
      </div>

      <div>
        <h4>Grid Layout</h4>
        <div class="component-demo" style="margin-bottom: var(--size-m);">
          <div data-layout="grid" data-layout-gap="s" style="--_grid-min: 80px;">
            <div style="background: var(--color-gray-100); padding: var(--size-s); font-size: var(--font-size-xs);">1</div>
            <div style="background: var(--color-gray-100); padding: var(--size-s); font-size: var(--font-size-xs);">2</div>
            <div style="background: var(--color-gray-100); padding: var(--size-s); font-size: var(--font-size-xs);">3</div>
            <div style="background: var(--color-gray-100); padding: var(--size-s); font-size: var(--font-size-xs);">4</div>
          </div>
        </div>
        <code-block language="html" label="Grid">&lt;div data-layout="grid"&gt;
  &lt;div&gt;Card 1&lt;/div&gt;
  &lt;div&gt;Card 2&lt;/div&gt;
&lt;/div&gt;</code-block>
      </div>
    </div>


    <!-- ========== COMBINING LAYOUTS ========== -->
    <h2>Combining Page and Component Layouts</h2>

    <p>
      The real power comes from combining page-level and component-level layouts.
      Your page structure is defined once on <code>&lt;body&gt;</code>, then you use
      component layouts freely within <code>&lt;main&gt;</code>.
    </p>

    <code-block language="html" label="Complete Example">&lt;body data-page-layout="sidebar-left"&gt;
  &lt;header&gt;My App&lt;/header&gt;

  &lt;nav&gt;
    &lt;a href="/"&gt;Home&lt;/a&gt;
    &lt;a href="/products"&gt;Products&lt;/a&gt;
  &lt;/nav&gt;

  &lt;main&gt;
    &lt;!-- Component layouts inside main --&gt;
    &lt;section data-layout="stack" data-layout-gap="l"&gt;
      &lt;h1&gt;Products&lt;/h1&gt;

      &lt;!-- Grid of cards --&gt;
      &lt;div data-layout="grid" data-layout-min="250px"&gt;
        &lt;article&gt;Product 1&lt;/article&gt;
        &lt;article&gt;Product 2&lt;/article&gt;
        &lt;article&gt;Product 3&lt;/article&gt;
      &lt;/div&gt;
    &lt;/section&gt;
  &lt;/main&gt;

  &lt;footer&gt;...&lt;/footer&gt;
&lt;/body&gt;</code-block>


    <!-- ========== CONTENT-AWARE ========== -->
    <h2>Content-Aware Adaptation</h2>

    <p>
      Page layouts automatically adapt when semantic elements are absent.
      Using CSS <code>:has()</code>, the grid reconfigures itself.
    </p>

    <div class="demo-grid">
      <div>
        <h4>Holy Grail (all elements)</h4>
        <browser-window url="Full layout">
          <div class="page-demo" data-page-layout="holy-grail" data-layout-gap="none" style="min-height: 140px; --_sidebar-width: 60px;">
            <div class="el-header">Header</div>
            <div class="el-nav">Nav</div>
            <div class="el-main">Main</div>
            <div class="el-aside">Aside</div>
            <div class="el-footer">Footer</div>
          </div>
        </browser-window>
      </div>

      <div>
        <h4>Holy Grail (no aside)</h4>
        <browser-window url="Auto-adapts!">
          <div class="page-demo" data-page-layout="holy-grail" data-layout-gap="none" style="min-height: 140px; --_sidebar-width: 60px;">
            <div class="el-header">Header</div>
            <div class="el-nav">Nav</div>
            <div class="el-main">Main expands</div>
            <div class="el-footer">Footer</div>
          </div>
        </browser-window>
      </div>
    </div>

    <div class="info-box">
      <p>
        <strong>No JavaScript required.</strong> The CSS <code>:has()</code> selector detects which
        semantic elements are present and adjusts the grid template automatically.
      </p>
    </div>


    <!-- ========== COMPARISON ========== -->
    <h2>Page Layout vs Component Layout</h2>

    <table class="feature-table">
      <thead>
        <tr>
          <th>Feature</th>
          <th><code>data-page-layout</code></th>
          <th><code>data-layout</code></th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Purpose</td>
          <td>Full-page structure</td>
          <td>Component/section layouts</td>
        </tr>
        <tr>
          <td>Element</td>
          <td><code>&lt;body&gt;</code> only</td>
          <td>Any element</td>
        </tr>
        <tr>
          <td>Semantic identity</td>
          <td class="yes">&#10003; Auto grid areas</td>
          <td class="no">&#10007; Position-based</td>
        </tr>
        <tr>
          <td>Min height</td>
          <td class="yes">&#10003; 100dvh</td>
          <td class="no">&#10007; Content-based</td>
        </tr>
        <tr>
          <td>:has() adaptation</td>
          <td class="yes">&#10003; Auto-adapts</td>
          <td class="no">&#10007; Fixed structure</td>
        </tr>
        <tr>
          <td>Nesting</td>
          <td class="no">&#10007; Page root only</td>
          <td class="yes">&#10003; Nest freely</td>
        </tr>
      </tbody>
    </table>


    <!-- ========== LEGACY ========== -->
    <h2>Legacy: Custom Elements</h2>

    <p>
      Vanilla Breeze also provides custom elements like <code>&lt;layout-sidebar&gt;</code>
      for backwards compatibility. These are CSS-only components that work anywhere but
      add extra wrapper elements.
    </p>

    <p>
      <strong>Recommendation:</strong> Prefer <code>data-page-layout</code> for pages and
      <code>data-layout</code> for components. They provide the same functionality with
      cleaner, more semantic HTML.
    </p>

    <h3>Links</h3>
    <ul>
      <li><a href="/docs/examples/demos/layout-attributes.html">Data Attributes Demo</a> - Full demo of data-layout patterns</li>
      <li><a href="/r-n-d/zen-garden/examples/pure-css/layout-switcher.html">Layout Switcher</a> - Pure CSS layout switching demo</li>
    </ul>
  </article>

  <script type="module" src="/src/main.js"></script>
  <script type="module">
    import '@profpowell/code-block';
    import '@profpowell/browser-window';
  </script>
</body>
</html>
