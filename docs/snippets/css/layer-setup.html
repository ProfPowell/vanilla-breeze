<!doctype html>
<html lang="en" data-page="docs">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Layer Setup Snippet - Vanilla Breeze</title>
  <link rel="stylesheet" href="/src/main.css"/>
  <link rel="stylesheet" href="/docs/docs.css"/>
</head>
<body>
  <header>
    <a href="/docs/" class="logo">Vanilla Breeze</a>
    <nav class="horizontal pills" aria-label="Main navigation">
      <ul>
        <li><a href="/docs/">Home</a></li>
        <li><a href="/docs/tokens/">Tokens</a></li>
        <li><a href="/docs/elements/">Elements</a></li>
        <li><a href="/docs/snippets/">Snippets</a></li>
        <li><a href="/docs/examples/">Examples</a></li>
        <li><a href="/docs/integrations/">Integrations</a></li>
      </ul>
    </nav>
    <div class="header-actions">
      <search-wc>
        <button data-trigger class="ghost">
          <icon-wc name="search" size="sm"></icon-wc>
          Search
        </button>
      </search-wc>
      <theme-wc>
        <button data-trigger class="ghost">
          <icon-wc name="palette" size="sm"></icon-wc>
          Theme
        </button>
      </theme-wc>
    </div>
    <button class="mobile-menu-toggle" popovertarget="mobile-menu" aria-label="Menu">
      <icon-wc name="menu"></icon-wc>
    </button>
    <nav popover id="mobile-menu" class="mobile-menu">
      <button class="mobile-menu-close" popovertarget="mobile-menu" popovertargetaction="hide" aria-label="Close menu">
        <icon-wc name="x"></icon-wc>
      </button>
      <div class="mobile-menu-search">
        <search-wc>
          <button data-trigger class="ghost" style="width: 100%">
            <icon-wc name="search" size="sm"></icon-wc>
            Search
          </button>
        </search-wc>
      </div>
      <ul>
        <li><a href="/docs/">Home</a></li>
        <li><a href="/docs/tokens/">Tokens</a></li>
        <li><a href="/docs/elements/">Elements</a></li>
        <li><a href="/docs/snippets/">Snippets</a></li>
        <li><a href="/docs/examples/">Examples</a></li>
        <li><a href="/docs/integrations/">Integrations</a></li>
      </ul>
      <div class="mobile-menu-theme">
        <theme-wc>
          <button data-trigger class="ghost">
            <icon-wc name="palette" size="sm"></icon-wc>
            Theme
          </button>
        </theme-wc>
      </div>
    </nav>
  </header>

  <main data-pagefind-body>
    <nav class="breadcrumb" aria-label="Breadcrumb">
      <a href="/docs/snippets/">Snippets</a> / <span aria-current="page">Layer Setup</span>
    </nav>

    <h1>Layer Setup</h1>
    <p class="lead">CSS <code>@layer</code> configuration for explicit cascade control. Define layer order once, then organize styles without specificity battles.</p>

    <section>
      <h2>Overview</h2>
      <layout-text>
        <p>CSS Cascade Layers let you control which styles win when there are conflicts, regardless of specificity or source order. Vanilla Breeze uses six layers:</p>
        <ol>
          <li><strong>tokens</strong> - Design tokens (custom properties)</li>
          <li><strong>reset</strong> - Baseline normalization</li>
          <li><strong>native-elements</strong> - Styling for standard HTML elements</li>
          <li><strong>custom-elements</strong> - CSS-only custom element layouts</li>
          <li><strong>web-components</strong> - JavaScript-enhanced components</li>
          <li><strong>utils</strong> - Utility overrides (highest layer precedence)</li>
        </ol>
        <p>Layers declared first have <strong>lowest</strong> precedence. Un-layered styles have the <strong>highest</strong> precedence.</p>
      </layout-text>
    </section>

    <section>
      <h2>Visual Diagram</h2>
      <layout-text>
        <p>Layer precedence flows from bottom (lowest) to top (highest):</p>
      </layout-text>

      <browser-window
        src="/docs/snippets/demos/layer-setup.html"
        url="https://vanilla-breeze.dev/layers"
        title="Layer Diagram"
        shadow>
      </browser-window>
    </section>

    <section>
      <h2>Source Code</h2>
      <layout-text>
        <p>Copy this to your main CSS file to establish layer ordering.</p>
      </layout-text>

      <code-block language="css" label="layer-setup.css">/**
 * CSS Layer Setup
 *
 * Establishes the cascade order for Vanilla Breeze styles.
 * Layers listed first have LOWEST precedence.
 * Un-layered styles have HIGHEST precedence (use sparingly).
 */

/* Declare all layers upfront for explicit ordering */
@layer tokens, reset, native-elements, custom-elements, web-components, utils;

/* Import each layer's styles */
@import "./tokens/index.css" layer(tokens);
@import "./base/reset.css" layer(reset);
@import "./native-elements/index.css" layer(native-elements);
@import "./custom-elements/index.css" layer(custom-elements);
@import "./web-components/index.css" layer(web-components);
@import "./utils/index.css" layer(utils);</code-block>
    </section>

    <section>
      <h2>Usage Examples</h2>

      <h3>Adding Styles to a Layer</h3>
      <layout-text>
        <p>Wrap your CSS in a <code>@layer</code> block to place it in the correct layer:</p>
      </layout-text>
      <code-block language="css" label="Adding to native-elements layer">@layer native-elements {
  button {
    font-weight: var(--font-weight-medium);
  }
}</code-block>

      <h3>Component Overrides</h3>
      <layout-text>
        <p>Add component-specific styles to the web-components layer:</p>
      </layout-text>
      <code-block language="css" label="Component customization">@layer web-components {
  accordion-wc {
    --accordion-gap: var(--size-m);
  }
}</code-block>

      <h3>Utility Classes</h3>
      <layout-text>
        <p>Utilities go in the highest-precedence layer to ensure they always apply:</p>
      </layout-text>
      <code-block language="css" label="Utility classes">@layer utils {
  .visually-hidden {
    position: absolute;
    clip: rect(0 0 0 0);
    width: 1px;
    height: 1px;
  }

  .text-center {
    text-align: center;
  }
}</code-block>
    </section>

    <section>
      <h2>Layer Purposes</h2>

      <h3>tokens</h3>
      <layout-text>
        <p>Design tokens define your visual language - colors, spacing, typography, etc. They're declared as CSS custom properties on <code>:root</code> and have the lowest precedence since they're just variable definitions.</p>
      </layout-text>

      <h3>reset</h3>
      <layout-text>
        <p>Browser normalization and sensible defaults. Removes inconsistent default styles across browsers and establishes a predictable baseline.</p>
      </layout-text>

      <h3>native-elements</h3>
      <layout-text>
        <p>Styles for standard HTML elements like <code>&lt;button&gt;</code>, <code>&lt;input&gt;</code>, <code>&lt;table&gt;</code>, etc. These build on the reset with Vanilla Breeze styling conventions.</p>
      </layout-text>

      <h3>custom-elements</h3>
      <layout-text>
        <p>CSS-only custom elements like <code>&lt;layout-stack&gt;</code>, <code>&lt;layout-grid&gt;</code>, and <code>&lt;layout-card&gt;</code>. These provide layout primitives without JavaScript.</p>
      </layout-text>

      <h3>web-components</h3>
      <layout-text>
        <p>JavaScript-enhanced components like <code>&lt;accordion-wc&gt;</code>, <code>&lt;tabs-wc&gt;</code>, and <code>&lt;dropdown-wc&gt;</code>. These extend native HTML with interactive behavior.</p>
      </layout-text>

      <h3>utils</h3>
      <layout-text>
        <p>Utility classes for one-off overrides. Use sparingly - prefer component-level styling. Utilities have the highest layer precedence to ensure they always work.</p>
      </layout-text>
    </section>

    <section>
      <h2>Why Layers?</h2>
      <layout-text>
        <p>Without layers, CSS specificity wars lead to escalating selector complexity or <code>!important</code> abuse. Layers solve this by separating concerns:</p>
        <ul>
          <li>Utility classes always override component styles (no <code>!important</code> needed)</li>
          <li>Component styles always override base element styles</li>
          <li>You can import third-party CSS into lower layers</li>
          <li>Source order within a layer still matters, but layer order takes precedence</li>
        </ul>
      </layout-text>
    </section>

    <section>
      <h2>Related</h2>
      <layout-grid data-min="200px" data-gap="m">
        <a href="/docs/snippets/css/tokens-starter.html" class="section-card">
          <h3>Tokens Starter</h3>
          <p>Design tokens for the tokens layer</p>
        </a>
        <a href="/docs/elements/" class="section-card">
          <h3>Elements</h3>
          <p>Native and custom element documentation</p>
        </a>
        <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@layer" class="section-card" target="_blank">
          <h3>MDN: @layer</h3>
          <p>CSS Cascade Layers specification</p>
        </a>
      </layout-grid>
    </section>
  </main>

  <footer>
    <p class="footer-tagline">Vanilla Breeze</p>
    <p class="footer-legal">
      <span>A layered HTML component system</span>
		<br />
      <span>&copy; 2026 Thomas A. Powell</span>
      <span>MIT License</span>
      <a href="https://github.com/profpowell/vanilla-breeze">GitHub</a>
    </p>
  </footer>

  <script type="module" src="/src/main.js"></script>
  <script type="module">
    import '@profpowell/code-block';
    import '@profpowell/browser-window';
  </script>
</body>
</html>
