---
layout: base.njk
---
{#
  Blog Post Layout

  Article layout with metadata, author info, and tags.

  Front matter:
  - title: Post title
  - description: Post excerpt
  - date: Publication date
  - updated: Last update date (optional)
  - author: Author name
  - authorImage: Author avatar URL (optional)
  - image: Hero image URL (optional)
  - tags: Array of tags (optional)
#}

<article>
  {% if image %}
  <div class="hero-image">
    <img src="{{ image }}" alt="" width="1200" height="630">
  </div>
  {% endif %}

  <header class="article-header">
    <layout-center data-max-width="narrow">
      <layout-stack data-gap="m">
        {% if tags %}
        <layout-cluster data-gap="xs">
          {% for tag in tags %}
            <a href="/blog/tags/{{ tag | slugify }}/" class="badge">{{ tag }}</a>
          {% endfor %}
        </layout-cluster>
        {% endif %}

        <h1>{{ title }}</h1>

        {% if description %}
        <p class="lead">{{ description }}</p>
        {% endif %}

        <div class="meta">
          <layout-cluster data-gap="m">
            <div class="author">
              {% if authorImage %}
                <img src="{{ authorImage }}" alt="" class="author-image" width="40" height="40">
              {% else %}
                <user-avatar data-name="{{ author }}" data-size="sm"></user-avatar>
              {% endif %}
              <span>{{ author }}</span>
            </div>
            <time datetime="{{ date | dateToISO }}">{{ date | dateFormat }}</time>
            {% if updated %}
            <span class="updated">Updated <time datetime="{{ updated | dateToISO }}">{{ updated | dateFormat }}</time></span>
            {% endif %}
          </layout-cluster>
        </div>
      </layout-stack>
    </layout-center>
  </header>

  <layout-center data-max-width="narrow">
    <layout-text data-measure="normal" class="prose">
      {{ content | safe }}
    </layout-text>
  </layout-center>

  <footer class="article-footer">
    <layout-center data-max-width="narrow">
      <layout-stack data-gap="l">
        {% if tags %}
        <div class="tags-section">
          <h2>Tags</h2>
          <layout-cluster data-gap="xs">
            {% for tag in tags %}
              <a href="/blog/tags/{{ tag | slugify }}/" class="badge secondary">{{ tag }}</a>
            {% endfor %}
          </layout-cluster>
        </div>
        {% endif %}

        <nav class="post-nav" aria-label="Post navigation">
          <a href="/blog/" class="back-link">
            <icon-wc name="arrow-left" size="sm"></icon-wc>
            Back to all posts
          </a>
        </nav>
      </layout-stack>
    </layout-center>
  </footer>
</article>

<style>
  .hero-image {
    aspect-ratio: 1200 / 630;
    overflow: hidden;
  }

  .hero-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .article-header {
    padding: var(--size-2xl) var(--size-l);
    text-align: center;
  }

  .article-header h1 {
    font-size: var(--font-size-4xl);
    line-height: var(--line-height-tight);
  }

  .lead {
    font-size: var(--font-size-xl);
    color: var(--color-text-muted);
  }

  .meta {
    color: var(--color-text-muted);
    font-size: var(--font-size-sm);
  }

  .author {
    display: inline-flex;
    align-items: center;
    gap: var(--size-xs);
  }

  .author-image {
    width: 40px;
    height: 40px;
    border-radius: var(--radius-full);
    object-fit: cover;
  }

  .updated {
    color: var(--color-text-subtle);
  }

  .prose {
    padding: var(--size-l);
  }

  .article-footer {
    padding: var(--size-2xl) var(--size-l);
    border-block-start: var(--border-width-thin) solid var(--color-border);
    margin-block-start: var(--size-2xl);
  }

  .tags-section h2 {
    font-size: var(--font-size-sm);
    text-transform: uppercase;
    letter-spacing: var(--letter-spacing-wide);
    color: var(--color-text-muted);
    margin-block-end: var(--size-s);
  }

  .back-link {
    display: inline-flex;
    align-items: center;
    gap: var(--size-xs);
  }
</style>
