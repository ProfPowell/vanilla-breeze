---
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import '../styles/global.css';

interface Props {
  title: string;
  description?: string;
}

const { title, description = '{{DESCRIPTION}}' } = Astro.props;
const pageTitle = `${title} - {{SITE_NAME}}`;
const canonicalURL = new URL(Astro.url.pathname, Astro.site);
---

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>{pageTitle}</title>
  <meta name="description" content={description}/>
  <meta name="theme-color" content="{{THEME_COLOR}}"/>
  <meta name="robots" content="index, follow"/>

  <link rel="canonical" href={canonicalURL}/>
  <link rel="icon" href="/favicon.svg" type="image/svg+xml"/>
  <link rel="apple-touch-icon" href="/apple-touch-icon.png"/>
  <link rel="sitemap" href="/sitemap-index.xml"/>

  <meta property="og:title" content={pageTitle}/>
  <meta property="og:description" content={description}/>
  <meta property="og:type" content="website"/>
  <meta property="og:url" content={canonicalURL}/>
  <meta property="og:site_name" content="{{SITE_NAME}}"/>

  <meta name="twitter:card" content="summary_large_image"/>
  <meta name="twitter:title" content={pageTitle}/>
  <meta name="twitter:description" content={description}/>
</head>
<body>
  <a href="#main">Skip to main content</a>
  <Header />
  <main id="main">
    <slot />
  </main>
  <Footer />
</body>
</html>

<style is:global>
  a[href="#main"] {
    position: absolute;
    inset-block-start: -100%;
    inset-inline-start: var(--spacing-md);
    padding: var(--spacing-sm) var(--spacing-md);
    background: var(--primary);
    color: var(--text-on-primary);
    text-decoration: none;
    border-radius: var(--radius-md);
    z-index: 1000;
  }

  a[href="#main"]:focus {
    inset-block-start: var(--spacing-md);
  }

  [data-variant="primary"],
  [data-variant="secondary"] {
    display: inline-flex;
    align-items: center;
    padding: var(--spacing-sm) var(--spacing-lg);
    border-radius: var(--radius-md);
    font-weight: var(--font-weight-medium);
    text-decoration: none;
    transition: background var(--transition-fast);
  }

  [data-variant="primary"] {
    background: var(--primary);
    color: var(--text-on-primary);
  }

  [data-variant="primary"]:hover {
    background: var(--primary-hover);
  }

  [data-variant="secondary"] {
    background: transparent;
    color: var(--primary);
    border: 1px solid var(--primary);
  }

  [data-variant="secondary"]:hover {
    background: var(--primary-subtle);
  }
</style>
